<div class="events-viewport container py-4">
	<div class="row">
		<div class="col-12">
			<!-- Header -->
			<div class="mb-4">
				<h2 class="text-primary mb-3">ğŸ¯ Browse Events</h2>
				<div class="d-flex gap-2 mb-3">
					<button class="btn btn-primary" routerLink="/my-events">
						ğŸ“‹ My Events
					</button>
					<button class="btn btn-info" routerLink="/attending">
						ğŸ‰ Attending
					</button>
					<button class="btn btn-success" routerLink="/create-event">
						â• Create Event
					</button>
				</div>
				<div *ngIf="!this.currentUserUid">
					<h2>You are currently not logged in!</h2> 
					<h3>Please login in order to see event details, mark yourself as attending, or create new events!</h3>
				</div>
			</div>

			<!-- Search bar -->
			<div class="mb-4">
				<input
					type="search"
					class="form-control form-control-lg search-input"
					placeholder="Search events by title, location, or description..."
					[value]="searchTerm()"
					(input)="updateSearch($any($event.target).value)"
				/>
			</div>

			<!-- Loading state -->
			<div *ngIf="isLoading()" class="text-center py-4">
				<div class="spinner-border text-primary" role="status">
					<span class="visually-hidden">Loading...</span>
				</div>
			</div>

			<!-- Events list -->
			<div *ngIf="!isLoading()">
				<app-event-list
					[events]="filteredEvents()"
					[currentUserUid]="currentUserUid"
					[attendingEventIds]="attendingEventIds()"
					[emptyMessage]="'No events found. Try adjusting your search.'"
					[onAttend]="attendEvent.bind(this)"
					[onLeave]="leaveEvent.bind(this)"
					[onDelete]="deleteEvent.bind(this)"
				></app-event-list>
			</div>
		</div>
	</div>
</div>
