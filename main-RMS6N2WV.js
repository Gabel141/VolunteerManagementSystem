var WO=Object.defineProperty,KO=Object.defineProperties;var QO=Object.getOwnPropertyDescriptors;var mT=Object.getOwnPropertySymbols,YO=Object.getPrototypeOf,ZO=Object.prototype.hasOwnProperty,JO=Object.prototype.propertyIsEnumerable,XO=Reflect.get;var yT=(n,e,t)=>e in n?WO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})ZO.call(e,t)&&yT(n,t,e[t]);if(mT)for(var t of mT(e))JO.call(e,t)&&yT(n,t,e[t]);return n},ee=(n,e)=>KO(n,QO(e));var ci=(n,e,t)=>XO(YO(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Cm;function vd(){return Cm}function zn(n){let e=Cm;return Cm=n,e}var vT=Symbol("NotFound");function Cs(n){return n===vT||n?.name==="\u0275NotFound"}var Pt=null,_d=!1,Sm=1,e1=null,xt=Symbol("SIGNAL");function ae(n){let e=Pt;return Pt=n,e}function bd(){return Pt}var Ss={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function As(n){if(_d)throw new Error("");if(Pt===null)return;Pt.consumerOnSignalRead(n);let e=Pt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Pt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Pt.producers,t!==void 0&&t.producer===n)){Pt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Pt&&(!r||n1(i,Pt)))return;let o=Ns(Pt),s={producer:n,consumer:Pt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Pt.producersTail=s,e!==void 0?e.nextProducer=s:Pt.producers=s,o&&wT(n,s)}function _T(){Sm++}function Dd(n){if(!(Ns(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sm)){if(!n.producerMustRecompute(n)&&!kc(n)){wd(n);return}n.producerRecomputeValue(n),wd(n)}}function Am(n){if(n.consumers===void 0)return;let e=_d;_d=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||t1(r)}}finally{_d=e}}function Rm(){return Pt?.consumerAllowSignalWrites!==!1}function t1(n){n.dirty=!0,Am(n),n.consumerMarkedDirty?.(n)}function wd(n){n.dirty=!1,n.lastCleanEpoch=Sm}function Rs(n){return n&&ET(n),ae(n)}function ET(n){n.producersTail=void 0,n.recomputing=!0}function xc(n,e){ae(e),n&&IT(n)}function IT(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Ns(n))do t=Nm(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function kc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Dd(t),r!==t.version))return!0}return!1}function Oc(n){if(Ns(n)){let e=n.producers;for(;e!==void 0;)e=Nm(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function wT(n,e){let t=n.consumersTail,r=Ns(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)wT(i.producer,i)}function Nm(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Ns(e)){let o=e.producers;for(;o!==void 0;)o=Nm(o)}return t}function Ns(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Td(n){e1?.(n)}function n1(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Cd(n,e){return Object.is(n,e)}function Sd(n,e){let t=Object.create(r1);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Dd(t),As(t),t.value===Pc)throw t.error;return t.value};return r[xt]=t,Td(t),r}var Ed=Symbol("UNSET"),Id=Symbol("COMPUTING"),Pc=Symbol("ERRORED"),r1=ee(L({},Ss),{value:Ed,dirty:!0,error:null,equal:Cd,kind:"computed",producerMustRecompute(n){return n.value===Ed||n.value===Id},producerRecomputeValue(n){if(n.value===Id)throw new Error("");let e=n.value;n.value=Id;let t=Rs(n),r,i=!1;try{r=n.computation(),ae(null),i=e!==Ed&&e!==Pc&&r!==Pc&&n.equal(e,r)}catch(o){r=Pc,n.error=o}finally{xc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function i1(){throw new Error}var bT=i1;function DT(n){bT(n)}function Mm(n){bT=n}var o1=null;function Pm(n,e){let t=Object.create(Ad);t.value=n,e!==void 0&&(t.equal=e);let r=()=>TT(t);return r[xt]=t,Td(t),[r,s=>Ms(t,s),s=>xm(t,s)]}function TT(n){return As(n),n.value}function Ms(n,e){Rm()||DT(n),n.equal(n.value,e)||(n.value=e,s1(n))}function xm(n,e){Rm()||DT(n),Ms(n,e(n.value))}var Ad=ee(L({},Ss),{equal:Cd,value:void 0,kind:"signal"});function s1(n){n.version++,_T(),Am(n),o1?.(n)}function ce(n){return typeof n=="function"}function Ps(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rd=Ps(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function vo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ge=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof Rd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{CT(o)}catch(s){e=e??[],s instanceof Rd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)CT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vo(t,e)}remove(e){let{_finalizers:t}=this;t&&vo(t,e),e instanceof n&&e._removeParent(this)}};Ge.EMPTY=(()=>{let n=new Ge;return n.closed=!0,n})();var km=Ge.EMPTY;function Nd(n){return n instanceof Ge||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function CT(n){ce(n)?n():n.unsubscribe()}var Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xs={setTimeout(n,e,...t){let{delegate:r}=xs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=xs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Md(n){xs.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(n);else throw n})}function Fc(){}var ST=Om("C",void 0,void 0);function AT(n){return Om("E",void 0,n)}function RT(n){return Om("N",n,void 0)}function Om(n,e,t){return{kind:n,value:e,error:t}}var _o=null;function ks(n){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!_o;if(e&&(_o={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=_o;if(_o=null,t)throw r}}else n()}function NT(n){Sn.useDeprecatedSynchronousErrorHandling&&_o&&(_o.errorThrown=!0,_o.error=n)}var Eo=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nd(e)&&e.add(this)):this.destination=u1}static create(e,t,r){return new Ir(e,t,r)}next(e){this.isStopped?Lm(RT(e),this):this._next(e)}error(e){this.isStopped?Lm(AT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lm(ST,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},a1=Function.prototype.bind;function Fm(n,e){return a1.call(n,e)}var Vm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Pd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Pd(r)}else Pd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Pd(t)}}},Ir=class extends Eo{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fm(e.next,o),error:e.error&&Fm(e.error,o),complete:e.complete&&Fm(e.complete,o)}):i=e}this.destination=new Vm(i)}};function Pd(n){Sn.useDeprecatedSynchronousErrorHandling?NT(n):Md(n)}function c1(n){throw n}function Lm(n,e){let{onStoppedNotification:t}=Sn;t&&xs.setTimeout(()=>t(n,e))}var u1={closed:!0,next:Fc,error:c1,complete:Fc};var Os=typeof Symbol=="function"&&Symbol.observable||"@@observable";function en(n){return n}function xd(...n){return Um(n)}function Um(n){return n.length===0?en:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=d1(t)?t:new Ir(t,r,i);return ks(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=MT(r),new r((i,o)=>{let s=new Ir({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Os](){return this}pipe(...t){return Um(t)(this)}toPromise(t){return t=MT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function MT(n){var e;return(e=n??Sn.Promise)!==null&&e!==void 0?e:Promise}function l1(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function d1(n){return n&&n instanceof Eo||l1(n)&&Nd(n)}function jm(n){return ce(n?.lift)}function me(n){return e=>{if(jm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new Bm(n,e,t,r,i)}var Bm=class extends Eo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fs(){return me((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ls=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,jm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return Fs()(this)}};var PT=Ps(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new kd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new PT}next(t){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?km:(this.currentObservers=null,o.push(t),new Ge(()=>{this.currentObservers=null,vo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new kd(e,t),n})(),kd=class extends Oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:km}};var at=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Lc={now(){return(Lc.delegate||Date).now()},delegate:void 0};var Vc=class extends Oe{constructor(e=1/0,t=1/0,r=Lc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var Od=class extends Ge{constructor(e,t){super()}schedule(e,t=0){return this}};var Uc={setInterval(n,e,...t){let{delegate:r}=Uc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Uc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Vs=class extends Od{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Uc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Uc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Us=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Us.now=Lc.now;var js=class extends Us{constructor(e,t=Us.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var $m=new js(Vs);var Fd=class extends Vs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ld=class extends js{};var Hm=new Ld(Fd);var Kt=new ne(n=>n.complete());function xT(n){return n&&ce(n.schedule)}function kT(n){return n[n.length-1]}function Vd(n){return ce(kT(n))?n.pop():void 0}function ui(n){return xT(kT(n))?n.pop():void 0}function qm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function FT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function OT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Io(n){return this instanceof Io?(this.v=n,this):new Io(n)}function LT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(M){return new Promise(function(R,F){o.push([y,M,R,F])>1||u(y,M)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(M){g(o[0][3],M)}}function l(y){y.value instanceof Io?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function VT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof OT=="function"?OT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ud=n=>n&&typeof n.length=="number"&&typeof n!="function";function jd(n){return ce(n?.then)}function Bd(n){return ce(n[Os])}function $d(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function Hd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function h1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qd=h1();function zd(n){return ce(n?.[qd])}function Gd(n){return LT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Io(t.read());if(i)return yield Io(void 0);yield yield Io(r)}}finally{t.releaseLock()}})}function Wd(n){return ce(n?.getReader)}function Ve(n){if(n instanceof ne)return n;if(n!=null){if(Bd(n))return f1(n);if(Ud(n))return p1(n);if(jd(n))return g1(n);if($d(n))return UT(n);if(zd(n))return m1(n);if(Wd(n))return y1(n)}throw Hd(n)}function f1(n){return new ne(e=>{let t=n[Os]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function p1(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function g1(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Md)})}function m1(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function UT(n){return new ne(e=>{v1(n,e).catch(t=>e.error(t))})}function y1(n){return UT(Gd(n))}function v1(n,e){var t,r,i,o;return FT(this,void 0,void 0,function*(){try{for(t=VT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Qt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function li(n,e=0){return me((t,r)=>{t.subscribe(ye(r,i=>Qt(r,n,()=>r.next(i),e),()=>Qt(r,n,()=>r.complete(),e),i=>Qt(r,n,()=>r.error(i),e)))})}function di(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function jT(n,e){return Ve(n).pipe(di(e),li(e))}function BT(n,e){return Ve(n).pipe(di(e),li(e))}function $T(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function HT(n,e){return new ne(t=>{let r;return Qt(t,e,()=>{r=n[qd](),Qt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function Kd(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{Qt(t,e,()=>{let r=n[Symbol.asyncIterator]();Qt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function qT(n,e){return Kd(Gd(n),e)}function zT(n,e){if(n!=null){if(Bd(n))return jT(n,e);if(Ud(n))return $T(n,e);if(jd(n))return BT(n,e);if($d(n))return Kd(n,e);if(zd(n))return HT(n,e);if(Wd(n))return qT(n,e)}throw Hd(n)}function Ce(n,e){return e?zT(n,e):Ve(n)}function Y(...n){let e=ui(n);return Ce(n,e)}function Bs(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}function zm(n){return!!n&&(n instanceof ne||ce(n.lift)&&ce(n.subscribe))}var wr=Ps(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function le(n,e){return me((t,r)=>{let i=0;t.subscribe(ye(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:_1}=Array;function E1(n,e){return _1(e)?n(...e):n(e)}function Qd(n){return le(e=>E1(n,e))}var{isArray:I1}=Array,{getPrototypeOf:w1,prototype:b1,keys:D1}=Object;function Yd(n){if(n.length===1){let e=n[0];if(I1(e))return{args:e,keys:null};if(T1(e)){let t=D1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function T1(n){return n&&typeof n=="object"&&w1(n)===b1}function Zd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function wo(...n){let e=ui(n),t=Vd(n),{args:r,keys:i}=Yd(n);if(r.length===0)return Ce([],e);let o=new ne(C1(r,e,i?s=>Zd(i,s):en));return t?o.pipe(Qd(t)):o}function C1(n,e,t=en){return r=>{GT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)GT(e,()=>{let l=Ce(n[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function GT(n,e,t){n?Qt(t,n,e):e()}function WT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?T(M):u.push(M),T=M=>{o&&e.next(M),l++;let R=!1;Ve(t(M,h++)).subscribe(ye(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Qt(e,s,()=>T(F)):T(F)}g()}catch(F){e.error(F)}}))};return n.subscribe(ye(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ze(n,e,t=1/0){return ce(e)?Ze((r,i)=>le((o,s)=>e(r,o,i,s))(Ve(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>WT(r,i,n,t)))}function $s(n=1/0){return Ze(en,n)}function KT(){return $s(1)}function Hs(...n){return KT()(Ce(n,ui(n)))}function jc(n){return new ne(e=>{Ve(n()).subscribe(e)})}function Gm(...n){let e=Vd(n),{args:t,keys:r}=Yd(n),i=new ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ve(t[h]).subscribe(ye(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Zd(r,a):a),o.complete())}))}});return e?i.pipe(Qd(e)):i}function Bt(n,e){return me((t,r)=>{let i=0;t.subscribe(ye(r,o=>n.call(e,o,i++)&&r.next(o)))})}function br(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ye(t,void 0,void 0,s=>{o=Ve(n(s,br(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function QT(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function hi(n,e){return ce(e)?Ze(n,e,1):Ze(n,1)}function fi(n){return me((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Dr(n){return n<=0?()=>Kt:me((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Jd(n=S1){return me((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function S1(){return new wr}function Bc(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Tr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Bt((i,o)=>n(i,o,r)):en,Dr(1),t?fi(e):Jd(()=>new wr))}function qs(n){return n<=0?()=>Kt:me((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Bt((i,o)=>n(i,o,r)):en,qs(1),t?fi(e):Jd(()=>new wr))}function Xd(n,e){return me(QT(n,e,arguments.length>=2,!0))}function YT(n={}){let{connector:e=()=>new Oe,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=u=void 0,h=p=!1},T=()=>{let M=s;y(),M?.unsubscribe()};return me((M,R)=>{l++,!p&&!h&&g();let F=u=u??e();R.add(()=>{l--,l===0&&!p&&!h&&(a=Km(T,i))}),F.subscribe(R),!s&&l>0&&(s=new Ir({next:W=>F.next(W),error:W=>{p=!0,g(),a=Km(y,t,W),F.error(W)},complete:()=>{h=!0,g(),a=Km(y,r),F.complete()}}),Ve(M).subscribe(s))})(o)}}function Km(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Ir({next:()=>{r.unsubscribe(),n()}});return Ve(e(...t)).subscribe(r)}function Qm(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,YT({connector:()=>new Vc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function zs(...n){let e=ui(n);return me((t,r)=>{(e?Hs(n,t,e):Hs(n,t)).subscribe(r)})}function $t(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;Ve(n(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function eh(n){return me((e,t)=>{Ve(n).subscribe(ye(t,()=>t.complete(),Fc)),!t.closed&&e.subscribe(t)})}function ht(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):en}function ZT(n){let e=ae(null);try{return n()}finally{ae(e)}}var pi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},cy=new pi("20.3.14");var ih="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(yi(e,t)),this.code=e}};function A1(n){return`NG0${Math.abs(n)}`}function yi(n,e){return`${A1(n)}${e?": "+e:""}`}var zc=globalThis;function Se(n){for(let e in n)if(n[e]===Se)return e;throw Error("")}function eC(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Sr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Sr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function uy(n,e){return n?e?`${n} ${e}`:n:e||""}var R1=Se({__forward_ref__:Se});function Rn(n){return n.__forward_ref__=Rn,n.toString=function(){return Sr(this())},n}function vt(n){return ly(n)?n():n}function ly(n){return typeof n=="function"&&n.hasOwnProperty(R1)&&n.__forward_ref__===Rn}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gc(n){return N1(n,oh)}function dy(n){return Gc(n)!==null}function N1(n,e){return n.hasOwnProperty(e)&&n[e]||null}function M1(n){let e=n?.[oh]??null;return e||null}function Zm(n){return n&&n.hasOwnProperty(nh)?n[nh]:null}var oh=Se({\u0275prov:Se}),nh=Se({\u0275inj:Se}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hy(n){return n&&!!n.\u0275providers}var fy=Se({\u0275cmp:Se}),py=Se({\u0275dir:Se}),gy=Se({\u0275pipe:Se}),my=Se({\u0275mod:Se}),Hc=Se({\u0275fac:Se}),So=Se({__NG_ELEMENT_ID__:Se}),JT=Se({__NG_ENV_ID__:Se});function Rr(n){return typeof n=="string"?n:n==null?"":String(n)}function tC(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Rr(n)}var nC=Se({ngErrorCode:Se}),P1=Se({ngErrorMessage:Se}),x1=Se({ngTokenPath:Se});function yy(n,e){return rC("",-200,e)}function sh(n,e){throw new H(-201,!1)}function rC(n,e,t){let r=new H(e,n);return r[nC]=e,r[P1]=n,t&&(r[x1]=t),r}function k1(n){return n[nC]}var Jm;function iC(){return Jm}function Ht(n){let e=Jm;return Jm=n,e}function vy(n,e,t){let r=Gc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;sh(n,"Injector")}var O1={},bo=O1,Xm="__NG_DI_FLAG__",ey=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Do(t)||0;try{return this.injector.get(e,r&8?null:bo,r)}catch(i){if(Cs(i))return i;throw i}}};function F1(n,e=0){let t=vd();if(t===void 0)throw new H(-203,!1);if(t===null)return vy(n,void 0,e);{let r=L1(e),i=t.retrieve(n,r);if(Cs(i)){if(r.optional)return null;throw i}return i}}function X(n,e=0){return(iC()||F1)(vt(n),e)}function N(n,e){return X(n,Do(e))}function Do(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function L1(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ty(n){let e=[];for(let t=0;t<n.length;t++){let r=vt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=V1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function oC(n,e){return n[Xm]=e,n.prototype[Xm]=e,n}function V1(n){return n[Xm]}function gi(n,e){let t=n.hasOwnProperty(Hc);return t?n[Hc]:null}function ah(n,e){n.forEach(t=>Array.isArray(t)?ah(t,e):e(t))}function _y(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function sC(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function aC(n,e,t){let r=Ws(n,e);return r>=0?n[r|1]=t:(r=~r,sC(n,r,e,t)),r}function ch(n,e){let t=Ws(n,e);if(t>=0)return n[t|1]}function Ws(n,e){return U1(n,e,1)}function U1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var vi={},tn=[],Nr=new $(""),Ey=new $("",-1),Iy=new $(""),qc=class{get(e,t=bo){if(t===bo){let i=rC("",-201);throw i.name="\u0275NotFound",i}return t}};function wy(n){return n[my]||null}function Mr(n){return n[fy]||null}function by(n){return n[py]||null}function cC(n){return n[gy]||null}function Yt(n){return{\u0275providers:n}}function uC(n){return Yt([{provide:Nr,multi:!0,useValue:n}])}function lC(...n){return{\u0275providers:Dy(!0,n),\u0275fromNgModule:!0}}function Dy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ah(e,s=>{let a=s;rh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&dC(i,o),t}function dC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Ty(i,o=>{e(o,r)})}}function rh(n,e,t,r){if(n=vt(n),!n)return!1;let i=null,o=Zm(n),s=!o&&Mr(n);if(!o&&!s){let u=n.ngModule;if(o=Zm(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)rh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ah(o.imports,h=>{rh(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&dC(l,e)}if(!a){let l=gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:tn},i),e({provide:Iy,useValue:i,multi:!0},i),e({provide:Nr,useValue:()=>X(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Ty(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Ty(n,e){for(let t of n)hy(t)&&(t=t.\u0275providers),Array.isArray(t)?Ty(t,e):e(t)}var j1=Se({provide:String,useValue:Se});function hC(n){return n!==null&&typeof n=="object"&&j1 in n}function B1(n){return!!(n&&n.useExisting)}function $1(n){return!!(n&&n.useFactory)}function To(n){return typeof n=="function"}function fC(n){return!!n.useClass}var Kc=new $(""),th={},XT={},Ym;function Qc(){return Ym===void 0&&(Ym=new qc),Ym}var Je=class{},Co=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ry(e,s=>this.processProvider(s)),this.records.set(Ey,Gs(void 0,this)),i.has("environment")&&this.records.set(Je,Gs(void 0,this));let o=this.records.get(Kc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Iy,tn,{self:!0}))}retrieve(e,t){let r=Do(t)||0;try{return this.get(e,bo,r)}catch(i){if(Cs(i))return i;throw i}}destroy(){$c(this),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return $c(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){$c(this);let t=zn(this),r=Ht(void 0),i;try{return e()}finally{zn(t),Ht(r)}}get(e,t=bo,r){if($c(this),e.hasOwnProperty(JT))return e[JT](this);let i=Do(r),o,s=zn(this),a=Ht(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=W1(e)&&Gc(e);h&&this.injectableDefInScope(h)?l=Gs(ny(e),th):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Qc():this.parent;return t=i&8&&t===bo?null:t,u.get(e,t)}catch(u){let l=k1(u);throw l===-200||l===-201?new H(l,null):u}finally{Ht(a),zn(s)}}resolveInjectorInitializers(){let e=ae(null),t=zn(this),r=Ht(void 0),i;try{let o=this.get(Nr,tn,{self:!0});for(let s of o)s()}finally{zn(t),Ht(r),ae(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Sr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=vt(e);let t=To(e)?e:vt(e&&e.provide),r=q1(e);if(!To(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Gs(void 0,th,!0),i.factory=()=>ty(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ae(null);try{if(t.value===XT)throw yy(Sr(e));return t.value===th&&(t.value=XT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&G1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ae(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=vt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ny(n){let e=Gc(n),t=e!==null?e.factory:gi(n);if(t!==null)return t;if(n instanceof $)throw new H(204,!1);if(n instanceof Function)return H1(n);throw new H(204,!1)}function H1(n){if(n.length>0)throw new H(204,!1);let t=M1(n);return t!==null?()=>t.factory(n):()=>new n}function q1(n){if(hC(n))return Gs(void 0,n.useValue);{let e=Cy(n);return Gs(e,th)}}function Cy(n,e,t){let r;if(To(n)){let i=vt(n);return gi(i)||ny(i)}else if(hC(n))r=()=>vt(n.useValue);else if($1(n))r=()=>n.useFactory(...ty(n.deps||[]));else if(B1(n))r=(i,o)=>X(vt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=vt(n&&(n.useClass||n.provide));if(z1(n))r=()=>new i(...ty(n.deps));else return gi(i)||ny(i)}return r}function $c(n){if(n.destroyed)throw new H(205,!1)}function Gs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function z1(n){return!!n.deps}function G1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function W1(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function ry(n,e){for(let t of n)Array.isArray(t)?ry(t,e):t&&hy(t)?ry(t.\u0275providers,e):e(t)}function nt(n,e){let t;n instanceof Co?($c(n),t=n):t=new ey(n);let r,i=zn(t),o=Ht(void 0);try{return e()}finally{zn(i),Ht(o)}}function pC(){return iC()!==void 0||vd()!=null}var Nn=0,ie=1,re=2,_t=3,fn=4,pn=5,Yc=6,Ks=7,Et=8,_i=9,Gn=10,Ue=11,Qs=12,Sy=13,Ao=14,gn=15,Ro=16,No=17,Mo=18,Zc=19,Ay=20,Cr=21,uh=22,Jc=23,nn=24,Po=25,Xc=26,ct=27,gC=1;var Ei=7,eu=8,tu=9,qt=10;function Wn(n){return Array.isArray(n)&&typeof n[gC]=="object"}function Mn(n){return Array.isArray(n)&&n[gC]===!0}function Ry(n){return(n.flags&4)!==0}function Pr(n){return n.componentOffset>-1}function nu(n){return(n.flags&1)===1}function Kn(n){return!!n.template}function Ys(n){return(n[re]&512)!==0}function xo(n){return(n[re]&256)===256}var mC="svg",yC="math";function mn(n){for(;Array.isArray(n);)n=n[Nn];return n}function Ny(n,e){return mn(e[n])}function yn(n,e){return mn(e[n.index])}function ru(n,e){return n.data[e]}function My(n,e){return n[e]}function Py(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function vn(n,e){let t=e[n];return Wn(t)?t:t[Nn]}function lh(n){return(n[re]&128)===128}function vC(n){return Mn(n[_t])}function Ii(n,e){return e==null?null:n[e]}function xy(n){n[No]=0}function ky(n){n[re]&1024||(n[re]|=1024,lh(n)&&Zs(n))}function _C(n,e){for(;n>0;)e=e[Ao],n--;return e}function iu(n){return!!(n[re]&9216||n[nn]?.dirty)}function dh(n){n[Gn].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),iu(n)&&Zs(n)}function Zs(n){n[Gn].changeDetectionScheduler?.notify(0);let e=mi(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!lh(e)));)e=mi(e)}function Oy(n,e){if(xo(n))throw new H(911,!1);n[Cr]===null&&(n[Cr]=[]),n[Cr].push(e)}function EC(n,e){if(n[Cr]===null)return;let t=n[Cr].indexOf(e);t!==-1&&n[Cr].splice(t,1)}function mi(n){let e=n[_t];return Mn(e)?e[_t]:e}function IC(n){return n[Ks]??=[]}function wC(n){return n.cleanup??=[]}var de={lFrame:UC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var iy=!1;function bC(){return de.lFrame.elementDepthCount}function DC(){de.lFrame.elementDepthCount++}function TC(){de.lFrame.elementDepthCount--}function Fy(){return de.bindingsEnabled}function CC(){return de.skipHydrationRootTNode!==null}function SC(n){return de.skipHydrationRootTNode===n}function AC(){de.skipHydrationRootTNode=null}function ve(){return de.lFrame.lView}function It(){return de.lFrame.tView}function Pe(n){return de.lFrame.contextLView=n,n[Et]}function xe(n){return de.lFrame.contextLView=null,n}function kt(){let n=Ly();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ly(){return de.lFrame.currentTNode}function RC(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Js(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function Vy(){return de.lFrame.isParent}function NC(){de.lFrame.isParent=!1}function MC(){return de.lFrame.contextLView}function Uy(){return iy}function jy(n){let e=iy;return iy=n,e}function By(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function PC(){return de.lFrame.bindingIndex}function xC(n){return de.lFrame.bindingIndex=n}function wi(){return de.lFrame.bindingIndex++}function $y(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function kC(){return de.lFrame.inI18n}function OC(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,hh(e)}function FC(){return de.lFrame.currentDirectiveIndex}function hh(n){de.lFrame.currentDirectiveIndex=n}function LC(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Hy(n){de.lFrame.currentQueryIndex=n}function K1(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[pn]:null}function qy(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=K1(o),i===null||(o=o[Ao],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=VC();return r.currentTNode=e,r.lView=n,!0}function fh(n){let e=VC(),t=n[ie];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function VC(){let n=de.lFrame,e=n===null?null:n.child;return e===null?UC(n):e}function UC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function jC(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var zy=jC;function ph(){let n=jC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function BC(n){return(de.lFrame.contextLView=_C(n,de.lFrame.contextLView))[Et]}function bi(){return de.lFrame.selectedIndex}function Di(n){de.lFrame.selectedIndex=n}function ou(){let n=de.lFrame;return ru(n.tView,n.selectedIndex)}function $C(){return de.lFrame.currentNamespace}var HC=!0;function gh(){return HC}function mh(n){HC=n}function oy(n,e=null,t=null,r){let i=Gy(n,e,t,r);return i.resolveInjectorInitializers(),i}function Gy(n,e=null,t=null,r,i=new Set){let o=[t||tn,lC(n)];return r=r||(typeof n=="object"?void 0:Sr(n)),new Co(o,e||Qc(),r||null,i)}var We=class n{static THROW_IF_NOT_FOUND=bo;static NULL=new qc;static create(e,t){if(Array.isArray(e))return oy({name:""},t,e,"");{let r=e.name??"";return oy({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>X(Ey)});static __NG_ELEMENT_ID__=-1},Xe=new $(""),Pn=(()=>{class n{static __NG_ELEMENT_ID__=Q1;static __NG_ENV_ID__=t=>t}return n})(),sy=class extends Pn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xo(this._lView)}onDestroy(e){let t=this._lView;return Oy(t,e),()=>EC(t,e)}};function Q1(){return new sy(ve())}var An=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ot=new $("",{providedIn:"root",factory:()=>{let n=N(Je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(An),e.handleError(t))}}}),qC={provide:Nr,useValue:()=>void N(An),multi:!0},Y1=new $("",{providedIn:"root",factory:()=>{let n=N(Xe).defaultView;if(!n)return;let e=N(Ot),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(Pn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Wy(){return Yt([uC(()=>void N(Y1))])}function Ky(n){return typeof n=="function"&&n[xt]!==void 0}function je(n,e){let[t,r,i]=Pm(n,e?.equal),o=t,s=o[xt];return o.set=r,o.update=i,o.asReadonly=zC.bind(o),o}function zC(){let n=this[xt];if(n.readonlyFn===void 0){let e=()=>this();e[xt]=n,n.readonlyFn=e}return n.readonlyFn}function Qy(n){return Ky(n)&&typeof n.set=="function"}var yh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Z1}return n})();function Z1(){return new yh(ve(),kt())}var Ar=class{},su=new $("",{providedIn:"root",factory:()=>!1});var Yy=new $(""),Zy=new $(""),Qn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new at(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xs=(()=>{class n{internalPendingTasks=N(Qn);scheduler=N(Ar);errorHandler=N(Ot);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function au(...n){}var Jy=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new ay})}return n})(),ay=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function oa(n){return{toString:n}.toString()}var vh="__parameters__";function oF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function sF(n,e,t){return oa(()=>{let r=oF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(vh)?u[vh]:Object.defineProperty(u,vh,{value:[]})[vh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var rn=oC(sF("Optional"),8);function aF(n){return typeof n=="function"}var Dh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function b0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var kn=(()=>{let n=()=>D0;return n.ngInherit=!0,n})();function D0(n){return n.type.prototype.ngOnChanges&&(n.setInput=uF),cF}function cF(){let n=C0(this),e=n?.current;if(e){let t=n.previous;if(t===vi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function uF(n,e,t,r,i){let o=this.declaredInputs[r],s=C0(n)||lF(n,{previous:vi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Dh(l&&l.currentValue,t,u===vi),b0(n,e,i,t)}var T0="__ngSimpleChanges__";function C0(n){return n[T0]||null}function lF(n,e){return n[T0]=e}var GC=[];var Re=function(n,e=null,t){for(let r=0;r<GC.length;r++){let i=GC[r];i(n,e,t)}};function dF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=D0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function S0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ih(n,e,t){A0(n,e,3,t)}function wh(n,e,t,r){(n[re]&3)===t&&A0(n,e,t,r)}function Xy(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function A0(n,e,t,r){let i=r!==void 0?n[No]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[No]+=65536),(a<o||o==-1)&&(hF(n,t,e,u),n[No]=(n[No]&4294901760)+u+2),u++}function WC(n,e){Re(4,n,e);let t=ae(null);try{e.call(n)}finally{ae(t),Re(5,n,e)}}function hF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[No]>>16&&(n[re]&3)===e&&(n[re]+=16384,WC(a,o)):WC(a,o)}var ta=-1,Oo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function fF(n){return(n.flags&8)!==0}function pF(n){return(n.flags&16)!==0}function gF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];mF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function R0(n){return n===3||n===4||n===6}function mF(n){return n.charCodeAt(0)===64}function lu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?KC(n,t,i,null,e[++r]):KC(n,t,i,null,null))}}return n}function KC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function N0(n){return n!==ta}function Th(n){return n&32767}function yF(n){return n>>16}function Ch(n,e){let t=yF(n),r=e;for(;t>0;)r=r[Ao],t--;return r}var uv=!0;function Sh(n){let e=uv;return uv=n,e}var vF=256,M0=vF-1,P0=5,_F=0,Yn={};function EF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(So)&&(r=t[So]),r==null&&(r=t[So]=_F++);let i=r&M0,o=1<<i;e.data[n+(i>>P0)]|=o}function Ah(n,e){let t=x0(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,ev(r.data,n),ev(e,null),ev(r.blueprint,null));let i=Av(n,e),o=n.injectorIndex;if(N0(i)){let s=Th(i),a=Ch(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ev(n,e){n.push(0,0,0,0,0,0,0,0,e)}function x0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Av(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=V0(i),r===null)return ta;if(t++,i=i[Ao],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ta}function lv(n,e,t){EF(n,e,t)}function IF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(R0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function k0(n,e,t){if(t&8||n!==void 0)return n;sh(e,"NodeInjector")}function O0(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[_i],o=Ht(void 0);try{return i?i.get(e,r,t&8):vy(e,r,t&8)}finally{Ht(o)}}return k0(r,e,t)}function F0(n,e,t,r=0,i){if(n!==null){if(e[re]&2048&&!(r&2)){let s=CF(n,e,t,r,Yn);if(s!==Yn)return s}let o=L0(n,e,t,r,Yn);if(o!==Yn)return o}return O0(e,t,r,i)}function L0(n,e,t,r,i){let o=DF(t);if(typeof o=="function"){if(!qy(e,n,r))return r&1?k0(i,t,r):O0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))sh(t);else return s}finally{zy()}}else if(typeof o=="number"){let s=null,a=x0(n,e),u=ta,l=r&1?e[gn][pn]:null;for((a===-1||r&4)&&(u=a===-1?Av(n,e):e[a+8],u===ta||!YC(r,!1)?a=-1:(s=e[ie],a=Th(u),e=Ch(u,e)));a!==-1;){let h=e[ie];if(QC(o,a,h.data)){let p=wF(a,e,t,s,r,l);if(p!==Yn)return p}u=e[a+8],u!==ta&&YC(r,e[ie].data[a+8]===l)&&QC(o,a,e)?(s=h,a=Th(u),e=Ch(u,e)):a=-1}}return i}function wF(n,e,t,r,i,o){let s=e[ie],a=s.data[n+8],u=r==null?Pr(a)&&uv:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=bF(a,s,t,u,l);return h!==null?Rh(e,s,h,a,i):Yn}function bF(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&Kn(y)&&y.type===t)return u}return null}function Rh(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Oo){let a=o;if(a.resolving){let y=tC(s[t]);throw yy(y)}let u=Sh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Ht(a.injectImpl):null,g=qy(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&dF(t,s[t],e)}finally{p!==null&&Ht(p),Sh(u),a.resolving=!1,zy()}}return o}function DF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(So)?n[So]:void 0;return typeof e=="number"?e>=0?e&M0:TF:e}function QC(n,e,t){let r=1<<n;return!!(t[e+(n>>P0)]&r)}function YC(n,e){return!(n&2)&&!(n&1&&e)}var ko=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return F0(this._tNode,this._lView,e,Do(r),t)}};function TF(){return new ko(kt(),ve())}function jo(n){return oa(()=>{let e=n.prototype.constructor,t=e[Hc]||dv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Hc]||dv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dv(n){return ly(n)?()=>{let e=dv(vt(n));return e&&e()}:gi(n)}function CF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!Ys(s);){let a=L0(o,s,t,r|2,Yn);if(a!==Yn)return a;let u=o.parent;if(!u){let l=s[Ay];if(l){let h=l.get(t,Yn,r);if(h!==Yn)return h}u=V0(s),s=s[Ao]}o=u}return i}function V0(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[pn]:null}function pu(n){return IF(kt(),n)}function SF(){return $h(kt(),ve())}function $h(n,e){return new kr(yn(n,e))}var kr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=SF}return n})();function U0(n){return(n.flags&128)===128}var Rv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Rv||{}),j0=new Map,AF=0;function RF(){return AF++}function NF(n){j0.set(n[Zc],n)}function hv(n){j0.delete(n[Zc])}var ZC="__ngContext__";function na(n,e){Wn(e)?(n[ZC]=e[Zc],NF(e)):n[ZC]=e}function B0(n){return H0(n[Qs])}function $0(n){return H0(n[fn])}function H0(n){for(;n!==null&&!Mn(n);)n=n[fn];return n}var fv;function Nv(n){fv=n}function q0(){if(fv!==void 0)return fv;if(typeof document<"u")return document;throw new H(210,!1)}var Hh=new $("",{providedIn:"root",factory:()=>MF}),MF="ng",qh=new $(""),Bo=new $("",{providedIn:"platform",factory:()=>"unknown"});var zh=new $("",{providedIn:"root",factory:()=>q0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PF="h",xF="b";var z0=!1,G0=new $("",{providedIn:"root",factory:()=>z0});var Mv=new $("");var kF=(n,e,t,r)=>{};function OF(n,e,t,r){kF(n,e,t,r)}function Pv(n){return(n.flags&32)===32}var FF=()=>null;function W0(n,e,t=!1){return FF(n,e,t)}function K0(n,e){let t=n.contentQueries;if(t!==null){let r=ae(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Hy(o),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function pv(n,e,t){Hy(0);let r=ae(null);try{e(n,t)}finally{ae(r)}}function Q0(n,e,t){if(Ry(e)){let r=ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ae(r)}}}var xr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(xr||{});var _h;function LF(){if(_h===void 0&&(_h=null,zc.trustedTypes))try{_h=zc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _h}function JC(n){return LF()?.createScriptURL(n)||n}var Nh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ih})`}};function gu(n){return n instanceof Nh?n.changingThisBreaksApplicationSecurity:n}function xv(n,e){let t=Y0(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ih})`)}return t===e}function Y0(n){return n instanceof Nh&&n.getTypeName()||null}var VF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Z0(n){return n=String(n),n.match(VF)?n:"unsafe:"+n}var Gh=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Gh||{});function $o(n){let e=X0();return e?e.sanitize(Gh.URL,n)||"":xv(n,"URL")?gu(n):Z0(Rr(n))}function J0(n){let e=X0();if(e)return JC(e.sanitize(Gh.RESOURCE_URL,n)||"");if(xv(n,"ResourceURL"))return JC(gu(n));throw new H(904,!1)}function UF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?J0:$o}function kv(n,e,t){return UF(e,t)(n)}function X0(){let n=ve();return n&&n[Gn].sanitizer}function eS(n){return n instanceof Function?n():n}function jF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var tS="ng-template";function BF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ov(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ov(n){return n.type===4&&n.value!==tS}function $F(n,e,t){let r=n.type===4&&!t?tS:n.value;return e===r}function HF(n,e,t){let r=4,i=n.attrs,o=i!==null?GF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!xn(r)&&!xn(u))return!1;if(s&&xn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!$F(n,u,t)||u===""&&e.length===1){if(xn(r))return!1;s=!0}}else if(r&8){if(i===null||!BF(n,i,u,t)){if(xn(r))return!1;s=!0}}else{let l=e[++a],h=qF(u,i,Ov(n),t);if(h===-1){if(xn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(xn(r))return!1;s=!0}}}}return xn(r)||s}function xn(n){return(n&1)===0}function qF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return WF(e,n)}function zF(n,e,t=!1){for(let r=0;r<e.length;r++)if(HF(n,e[r],t))return!0;return!1}function GF(n){for(let e=0;e<n.length;e++){let t=n[e];if(R0(t))return e}return n.length}function WF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function XC(n,e){return n?":not("+e.trim()+")":e}function KF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xn(s)&&(e+=XC(o,i),i=""),r=s,o=o||!xn(r);t++}return i!==""&&(e+=XC(o,i)),e}function QF(n){return n.map(KF).join(",")}function YF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!xn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var on={};function ZF(n,e){return n.createText(e)}function JF(n,e,t){n.setValue(e,t)}function nS(n,e,t){return n.createElement(e,t)}function Mh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rS(n,e,t){n.appendChild(e,t)}function e0(n,e,t,r,i){r!==null?Mh(n,e,t,r,i):rS(n,e,t)}function XF(n,e,t,r){n.removeChild(null,e,t,r)}function eL(n,e,t){n.setAttribute(e,"style",t)}function tL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&gF(n,e,r),i!==null&&tL(n,e,i),o!==null&&eL(n,e,o)}function Fv(n,e,t,r,i,o,s,a,u,l,h){let p=ct+r,g=p+i,y=nL(p,g),T=typeof l=="function"?l():l;return y[ie]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function nL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:on);return t}function rL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Fv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Lv(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Nn]=i,p[re]=r|4|128|8|64|1024,(l!==null||n&&n[re]&2048)&&(p[re]|=2048),xy(p),p[_t]=p[Ao]=n,p[Et]=t,p[Gn]=s||n&&n[Gn],p[Ue]=a||n&&n[Ue],p[_i]=u||n&&n[_i]||null,p[pn]=o,p[Zc]=RF(),p[Yc]=h,p[Ay]=l,p[gn]=e.type==2?n[gn]:p,p}function iL(n,e,t){let r=yn(e,n),i=rL(t),o=n[Gn].rendererFactory,s=Vv(n,Lv(n,i,null,oS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function oS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function sS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Vv(n,e){return n[Qs]?n[Sy][fn]=e:n[Qs]=e,n[Sy]=e,e}function j(n=1){aS(It(),ve(),bi()+n,!1)}function aS(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ih(e,o,t)}else{let o=n.preOrderHooks;o!==null&&wh(e,o,0,t)}Di(t)}var Wh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Wh||{});function gv(n,e,t,r){let i=ae(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Wh.SignalBased)!==0&&(u=e[o][xt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):b0(e,u,o,r)}finally{ae(i)}}var Zn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Zn||{}),oL;function Uv(n,e){return oL(n,e)}var ra=new Set,Kh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Kh||{}),Ho=new $(""),t0=new Set;function Jn(n){t0.has(n)||(t0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var cS=!1,mv=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,pC()&&(this.destroyRef=N(Pn,{optional:!0})??void 0,this.pendingTasks=N(Qn,{optional:!0})??void 0)}emit(e){let t=ae(null);try{super.next(e)}finally{ae(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ke=mv;function uS(n){let e,t;function r(){n=au;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function n0(n){return queueMicrotask(()=>n()),()=>{n=au}}var jv="isAngularZone",Ph=jv+"_ID",sL=0,be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ke(!1);onMicrotaskEmpty=new Ke(!1);onStable=new Ke(!1);onError=new Ke(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=cS}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,uL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,aL,au,au);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},aL={};function Bv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){uS(()=>{n.callbackScheduled=!1,yv(n),n.isCheckStableRunning=!0,Bv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),yv(n)}function uL(n){let e=()=>{cL(n)},t=sL++;n._inner=n._inner.fork({name:"angular",properties:{[jv]:!0,[Ph]:t,[Ph+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(lL(u))return r.invokeTask(o,s,a,u);try{return r0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),i0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return r0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!dL(u)&&e(),i0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,yv(n),Bv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function yv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function r0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function i0(n){n._nesting--,Bv(n)}var xh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ke;onMicrotaskEmpty=new Ke;onStable=new Ke;onError=new Ke;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function lL(n){return lS(n,"__ignore_ng_zone__")}function dL(n){return lS(n,"__scheduler_tick__")}function lS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var $v=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),dS=[0,1,2,3],hS=(()=>{class n{ngZone=N(be);scheduler=N(Ar);errorHandler=N(An,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Ho,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Re(16),this.executing=!0;for(let r of dS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Re(17)}register(t){let{view:r}=t;r!==void 0?((r[Po]??=[]).push(t),Zs(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Kh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),kh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Po];e&&(this.view[Po]=e.filter(t=>t!==this))}};function Qh(n,e){let t=e?.injector??N(We);return Jn("NgAfterNextRender"),fL(n,t,e,!0)}function hL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function fL(n,e,t,r){let i=e.get($v);i.impl??=e.get(hS);let o=e.get(Ho,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Pn):null,a=e.get(yh,null,{optional:!0}),u=new kh(i.impl,hL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var pL=new $("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function fS(n,e,t){let r=n.get(pL);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function gL(n,e){for(let[t,r]of e)fS(n,r.animateFns)}function o0(n,e,t,r){let i=n?.[Xc]?.enter;e!==null&&i&&i.has(t.index)&&gL(r,i)}function ea(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;Mn(i)?u=i:Wn(i)&&(l=!0,i=i[Nn]);let h=mn(i);n===0&&r!==null?(o0(a,r,o,t),s==null?rS(e,r,h):Mh(e,r,h,s||null,!0)):n===1&&r!==null?(o0(a,r,o,t),Mh(e,r,h,s||null,!0)):n===2?s0(a,o,t,p=>{XF(e,h,l,p)}):n===3&&s0(a,o,t,()=>{e.destroyNode(h)}),u!=null&&AL(e,n,t,u,o,r,s)}}function mL(n,e){pS(n,e),e[Nn]=null,e[pn]=null}function yL(n,e,t,r,i,o){r[Nn]=i,r[pn]=e,Yh(n,r,t,1,i,o)}function pS(n,e){e[Gn].changeDetectionScheduler?.notify(9),Yh(n,e,e[Ue],2,null,null)}function vL(n){let e=n[Qs];if(!e)return tv(n[ie],n);for(;e;){let t=null;if(Wn(e))t=e[Qs];else{let r=e[qt];r&&(t=r)}if(!t){for(;e&&!e[fn]&&e!==n;)Wn(e)&&tv(e[ie],e),e=e[_t];e===null&&(e=n),Wn(e)&&tv(e[ie],e),t=e&&e[fn]}e=t}}function Hv(n,e){let t=n[tu],r=t.indexOf(e);t.splice(r,1)}function qv(n,e){if(xo(e))return;let t=e[Ue];t.destroyNode&&Yh(n,e,t,3,null,null),vL(e)}function tv(n,e){if(xo(e))return;let t=ae(null);try{e[re]&=-129,e[re]|=256,e[nn]&&Oc(e[nn]),IL(n,e),EL(n,e),e[ie].type===1&&e[Ue].destroy();let r=e[Ro];if(r!==null&&Mn(e[_t])){r!==e[_t]&&Hv(r,e);let i=e[Mo];i!==null&&i.detachView(n)}hv(e)}finally{ae(t)}}function s0(n,e,t,r){let i=n?.[Xc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&ra.add(n),fS(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),_L(n,r)}else n&&ra.delete(n),r(!1)},i)}function _L(n,e){let t=n[Xc]?.running;if(t){t.then(()=>{n[Xc].running=void 0,ra.delete(n),e(!0)});return}e(!1)}function EL(n,e){let t=n.cleanup,r=e[Ks];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ks]=null);let i=e[Cr];if(i!==null){e[Cr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Jc];if(o!==null){e[Jc]=null;for(let s of o)s.destroy()}}function IL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Oo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Re(4,a,u);try{u.call(a)}finally{Re(5,a,u)}}else{Re(4,i,o);try{o.call(i)}finally{Re(5,i,o)}}}}}function wL(n,e,t){return bL(n,e.parent,t)}function bL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Nn];if(Pr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===xr.None||i===xr.Emulated)return null}return yn(r,t)}function DL(n,e,t){return CL(n,e,t)}function TL(n,e,t){return n.type&40?yn(n,t):null}var CL=TL,a0;function zv(n,e,t,r){let i=wL(n,r,e),o=e[Ue],s=r.parent||e[pn],a=DL(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)e0(o,i,t[u],a,!1);else e0(o,i,t,a,!1);a0!==void 0&&a0(o,r,e,t,i)}function cu(n,e){if(e!==null){let t=e.type;if(t&3)return yn(e,n);if(t&4)return vv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return cu(n,r);{let i=n[e.index];return Mn(i)?vv(-1,i):mn(i)}}else{if(t&128)return cu(n,e.next);if(t&32)return Uv(e,n)()||mn(n[e.index]);{let r=gS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mi(n[gn]);return cu(i,r)}else return cu(n,e.next)}}}return null}function gS(n,e){if(e!==null){let r=n[gn][pn],i=e.projection;return r.projection[i]}return null}function vv(n,e){let t=qt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return cu(r,i)}return e[Ei]}function Gv(n,e,t,r,i,o,s){for(;t!=null;){let a=r[_i];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&na(mn(u),r),t.flags|=2),!Pv(t))if(l&8)Gv(n,e,t.child,r,i,o,!1),ea(e,n,a,i,u,t,o,r);else if(l&32){let h=Uv(t,r),p;for(;p=h();)ea(e,n,a,i,p,t,o,r);ea(e,n,a,i,u,t,o,r)}else l&16?SL(n,e,r,t,i,o):ea(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Yh(n,e,t,r,i,o){Gv(t,r,n.firstChild,e,i,o,!1)}function SL(n,e,t,r,i,o){let s=t[gn],u=s[pn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ea(e,n,t[_i],i,h,r,o,t)}else{let l=u,h=s[_t];U0(r)&&(l.flags|=128),Gv(n,e,l,h,i,o,!0)}}function AL(n,e,t,r,i,o,s){let a=r[Ei],u=mn(r);a!==u&&ea(e,n,t,o,a,i,s);for(let l=qt;l<r.length;l++){let h=r[l];Yh(h[ie],h,n,e,o,a)}}function RL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Zn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zn.Important),n.setStyle(t,r,i,o))}}function mS(n,e,t,r,i){let o=bi(),s=r&2;try{Di(-1),s&&e.length>ct&&aS(n,e,ct,!1),Re(s?2:0,i,t),t(r,i)}finally{Di(o),Re(s?3:1,i,t)}}function Wv(n,e,t){OL(n,e,t),(t.flags&64)===64&&FL(n,e,t)}function Kv(n,e,t=yn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function NL(n,e,t,r){let o=r.get(G0,z0)||t===xr.ShadowDom,s=n.selectRootElement(e,o);return ML(s),s}function ML(n){PL(n)}var PL=()=>null;function xL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function yS(n,e,t,r,i,o){let s=e[ie];if(Zh(n,s,e,t,r)){Pr(n)&&vS(e,n.index);return}n.type&3&&(t=xL(t)),kL(n,e,t,r,i,o)}function kL(n,e,t,r,i,o){if(n.type&3){let s=yn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function vS(n,e){let t=vn(e,n);t[re]&16||(t[re]|=64)}function OL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Pr(t)&&iL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ah(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Rh(e,n,s,t);if(na(u,e),o!==null&&UL(e,s-r,u,a,t,o),Kn(a)){let l=vn(t.index,e);l[Et]=Rh(e,n,s,t)}}}function FL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=FC();try{Di(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];hh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&LL(u,l)}}finally{Di(-1),hh(s)}}function LL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function _S(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];zF(e,o.selectors,!1)&&(r??=[],Kn(o)?r.unshift(o):r.push(o))}return r}function VL(n,e,t,r,i,o){let s=yn(n,e);ES(e[Ue],s,o,n.value,t,r,i)}function ES(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Rr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function UL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];gv(r,t,u,l)}}function jL(n,e,t,r,i){let o=ct+t,s=e[ie],a=i(s,e,n,r,t);e[o]=a,Js(n,!0);let u=n.type===2;return u?(iS(e[Ue],a,n),(bC()===0||nu(n))&&na(a,e),DC()):na(a,e),gh()&&(!u||!Pv(n))&&zv(s,e,a,n),n}function BL(n){let e=n;return Vy()?NC():(e=e.parent,Js(e,!1)),e}function $L(n,e){let t=n[_i];if(!t)return;let r;try{r=t.get(Ot,null)}catch{r=null}r?.(e)}function Zh(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];gv(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];gv(h,l,r,i),a=!0}return a}function HL(n,e){let t=vn(e,n),r=t[ie];qL(r,t);let i=t[Nn];i!==null&&t[Yc]===null&&(t[Yc]=W0(i,t[_i])),Re(18),Qv(r,t,t[Et]),Re(19,t[Et])}function qL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Qv(n,e,t){fh(e);try{let r=n.viewQuery;r!==null&&pv(1,r,t);let i=n.template;i!==null&&mS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Mo]?.finishViewCreation(n),n.staticContentQueries&&K0(n,e),n.staticViewQueries&&pv(2,n.viewQuery,t);let o=n.components;o!==null&&zL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,ph()}}function zL(n,e){for(let t=0;t<e.length;t++)HL(n,e[t])}function IS(n,e,t,r){let i=ae(null);try{let o=e.tView,a=n[re]&4096?4096:16,u=Lv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ro]=l;let h=n[Mo];return h!==null&&(u[Mo]=h.createEmbeddedView(o)),Qv(o,u,t),u}finally{ae(i)}}function _v(n,e){return!e||e.firstChild===null||U0(n)}function du(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(mn(o)),Mn(o)&&wS(o,r);let s=t.type;if(s&8)du(n,e,t.child,r);else if(s&32){let a=Uv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=gS(e,t);if(Array.isArray(a))r.push(...a);else{let u=mi(e[gn]);du(u[ie],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function wS(n,e){for(let t=qt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&du(r[ie],r,i,e)}n[Ei]!==n[Nn]&&e.push(n[Ei])}function bS(n){if(n[Po]!==null){for(let e of n[Po])e.impl.addSequence(e);n[Po].length=0}}var DS=[];function GL(n){return n[nn]??WL(n)}function WL(n){let e=DS.pop()??Object.create(QL);return e.lView=n,e}function KL(n){n.lView[nn]!==n&&(n.lView=null,DS.push(n))}var QL=ee(L({},Ss),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Zs(n.lView)},consumerOnSignalRead(){this.lView[nn]=this}});function YL(n){let e=n[nn]??Object.create(ZL);return e.lView=n,e}var ZL=ee(L({},Ss),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=mi(n.lView);for(;e&&!TS(e[ie]);)e=mi(e);e&&ky(e)},consumerOnSignalRead(){this.lView[nn]=this}});function TS(n){return n.type!==2}function CS(n){if(n[Jc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Jc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[re]&8192)}}var JL=100;function SS(n,e=0){let r=n[Gn].rendererFactory,i=!1;i||r.begin?.();try{XL(n,e)}finally{i||r.end?.()}}function XL(n,e){let t=Uy();try{jy(!0),Ev(n,e);let r=0;for(;iu(n);){if(r===JL)throw new H(103,!1);r++,Ev(n,1)}}finally{jy(t)}}function eV(n,e,t,r){if(xo(e))return;let i=e[re],o=!1,s=!1;fh(e);let a=!0,u=null,l=null;o||(TS(n)?(l=GL(e),u=Rs(l)):bd()===null?(a=!1,l=YL(e),u=Rs(l)):e[nn]&&(Oc(e[nn]),e[nn]=null));try{xy(e),xC(n.bindingStartIndex),t!==null&&mS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Ih(e,y,null)}else{let y=n.preOrderHooks;y!==null&&wh(e,y,0,null),Xy(e,0)}if(s||tV(e),CS(e),AS(e,0),n.contentQueries!==null&&K0(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Ih(e,y)}else{let y=n.contentHooks;y!==null&&wh(e,y,1),Xy(e,1)}rV(n,e);let p=n.components;p!==null&&NS(e,p,0);let g=n.viewQuery;if(g!==null&&pv(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Ih(e,y)}else{let y=n.viewHooks;y!==null&&wh(e,y,2),Xy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[uh]){for(let y of e[uh])y();e[uh]=null}o||(bS(e),e[re]&=-73)}catch(h){throw o||Zs(e),h}finally{l!==null&&(xc(l,u),a&&KL(l)),ph()}}function AS(n,e){for(let t=B0(n);t!==null;t=$0(t))for(let r=qt;r<t.length;r++){let i=t[r];RS(i,e)}}function tV(n){for(let e=B0(n);e!==null;e=$0(e)){if(!(e[re]&2))continue;let t=e[tu];for(let r=0;r<t.length;r++){let i=t[r];ky(i)}}}function nV(n,e,t){Re(18);let r=vn(e,n);RS(r,t),Re(19,r[Et])}function RS(n,e){lh(n)&&Ev(n,e)}function Ev(n,e){let r=n[ie],i=n[re],o=n[nn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&kc(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)eV(r,n,r.template,n[Et]);else if(i&8192){let a=ae(null);try{CS(n),AS(n,1);let u=r.components;u!==null&&NS(n,u,1),bS(n)}finally{ae(a)}}}function NS(n,e,t){for(let r=0;r<e.length;r++)nV(n,e[r],t)}function rV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Di(~i);else{let o=i,s=t[++r],a=t[++r];OC(s,o);let u=e[o];Re(24,u),a(2,u),Re(25,u)}}}finally{Di(-1)}}function Yv(n,e){let t=Uy()?64:1088;for(n[Gn].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=mi(n);if(Ys(n)&&!r)return n;n=r}return null}function MS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function iV(n,e){let t=qt+e;if(t<n.length)return n[t]}function PS(n,e,t,r=!0){let i=e[ie];if(sV(i,e,n,t),r){let s=vv(t,n),a=e[Ue],u=a.parentNode(n[Ei]);u!==null&&yL(i,n[pn],a,e,u,s)}let o=e[Yc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function oV(n,e){let t=Oh(n,e);return t!==void 0&&qv(t[ie],t),t}function Oh(n,e){if(n.length<=qt)return;let t=qt+e,r=n[t];if(r){let i=r[Ro];i!==null&&i!==n&&Hv(i,r),e>0&&(n[t-1][fn]=r[fn]);let o=Wc(n,qt+e);mL(r[ie],r);let s=o[Mo];s!==null&&s.detachView(o[ie]),r[_t]=null,r[fn]=null,r[re]&=-129}return r}function sV(n,e,t,r){let i=qt+r,o=t.length;r>0&&(t[i-1][fn]=e),r<o-qt?(e[fn]=t[i],_y(t,qt+r,e)):(t.push(e),e[fn]=null),e[_t]=t;let s=e[Ro];s!==null&&t!==s&&xS(s,e);let a=e[Mo];a!==null&&a.insertView(n),dh(e),e[re]|=128}function xS(n,e){let t=n[tu],r=e[_t];if(Wn(r))n[re]|=2;else{let i=r[_t][gn];e[gn]!==i&&(n[re]|=2)}t===null?n[tu]=[e]:t.push(e)}var Ti=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ie];return du(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Et]}set context(e){this._lView[Et]=e}get destroyed(){return xo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(Mn(e)){let t=e[eu],r=t?t.indexOf(this):-1;r>-1&&(Oh(e,r),Wc(t,r))}this._attachedToViewContainer=!1}qv(this._lView[ie],this._lView)}onDestroy(e){Oy(this._lView,e)}markForCheck(){Yv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){dh(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,SS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ys(this._lView),t=this._lView[Ro];t!==null&&!e&&Hv(t,this._lView),pS(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=Ys(this._lView),r=this._lView[Ro];r!==null&&!t&&xS(r,this._lView),dh(this._lView)}};var mu=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=aV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=IS(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Ti(o)}}return n})();function aV(){return cV(kt(),ve())}function cV(n,e){return n.type&4?new mu(e,n,$h(n,e)):null}function Jh(n,e,t,r,i){let o=n.data[e];if(o===null)o=uV(n,e,t,r,i),kC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=RC();o.injectorIndex=s===null?-1:s.injectorIndex}return Js(o,!0),o}function uV(n,e,t,r,i){let o=Ly(),s=Vy(),a=s?o:o&&o.parent,u=n.data[e]=dV(n,a,t,e,r,i);return lV(n,u,o,s),u}function lV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function dV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return CC()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var dZ=new RegExp(`^(\\d+)*(${xF}|${PF})*(.*)`);var hV=()=>null,fV=()=>null;function c0(n,e){return hV(n,e)}function pV(n,e,t){return fV(n,e,t)}var kS=class{},Xh=class{},Iv=class{resolveComponentFactory(e){throw new H(917,!1)}},yu=class{static NULL=new Iv},Fo=class{},Ci=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>gV()}return n})();function gV(){let n=ve(),e=kt(),t=vn(e.index,n);return(Wn(t)?t:n)[Ue]}var OS=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var bh={},wv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,bh,r);return i!==bh||t===bh?i:this.parentInjector.get(e,t,r)}};function u0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=uy(i,a);else if(o==2){let u=a,l=e[++s];r=uy(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function K(n,e=0){let t=ve();if(t===null)return X(n,e);let r=kt();return F0(r,t,vt(n),e)}function Zv(){let n="invalid";throw new Error(n)}function FS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}vV(n,e,t,a,o,u,l)}o!==null&&r!==null&&mV(t,r,o)}function mV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function yV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function vV(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&Kn(y)&&(u=!0,yV(n,t,g)),lv(Ah(t,e),n,y.type)}DV(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=sS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=lu(t.mergedAttrs,y.hostAttrs),EV(n,t,e,p,y),bV(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}_V(n,t,o)}function _V(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))l0(0,e,i,r),l0(1,e,i,r),h0(e,r,!1);else{let o=t.get(i);d0(0,e,o,r),d0(1,e,o,r),h0(e,r,!0)}}}function l0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),LS(e,o)}}function d0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),LS(e,s)}}function LS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function h0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ov(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function EV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=gi(i.type,!0)),s=new Oo(o,Kn(i),K,null);n.blueprint[r]=s,t[r]=s,IV(n,e,r,sS(n,t,i.hostVars,on),i)}function IV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;wV(s)!=a&&s.push(a),s.push(t,r,o)}}function wV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function bV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Kn(e)&&(t[""]=n)}}function DV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function VS(n,e,t,r,i,o,s,a){let u=e[ie],l=u.consts,h=Ii(l,s),p=Jh(u,n,t,r,h);return o&&FS(u,e,p,Ii(l,a),i),p.mergedAttrs=lu(p.mergedAttrs,p.attrs),p.attrs!==null&&u0(p,p.attrs,!1),p.mergedAttrs!==null&&u0(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function US(n,e){S0(n,e),Ry(e)&&n.queries.elementEnd(e)}function Jv(n){return BS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function jS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function BS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function TV(n,e,t){return n[e]=t}function _n(n,e,t){if(t===on)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function CV(n,e,t,r){let i=_n(n,e,t);return _n(n,e+1,r)||i}function SV(n,e,t,r,i){let o=CV(n,e,t,r);return _n(n,e+2,i)||o}function nv(n,e,t){return function r(i){let o=Pr(n)?vn(n.index,e):e;Yv(o,5);let s=e[Et],a=f0(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=f0(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function f0(n,e,t,r){let i=ae(null);try{return Re(6,e,t),t(r)!==!1}catch(o){return $L(n,o),!1}finally{Re(7,e,t),ae(i)}}function AV(n,e,t,r,i,o,s,a){let u=nu(n),l=!1,h=null;if(!r&&u&&(h=NV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=yn(n,t),g=r?r(p):p;OF(t,g,o,a);let y=i.listen(g,o,a);if(!RV(o)){let T=r?M=>r(mn(M[n.index])):n.index;$S(T,e,t,o,a,y,!1)}}return l}function RV(n){return n.startsWith("animation")||n.startsWith("transition")}function NV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ks],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function $S(n,e,t,r,i,o,s){let a=e.firstCreatePass?wC(e):null,u=IC(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function p0(n,e,t,r,i,o){let s=e[t],a=e[ie],l=a.data[t].outputs[r],p=s[l].subscribe(o);$S(n.index,a,e,i,o,p,!0)}var bv=Symbol("BINDING");var Fh=class extends yu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Mr(e);return new Lo(t,this.ngModule)}};function MV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Wh.SignalBased)!==0};return i&&(o.transform=i),o})}function PV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function xV(n,e,t){let r=e instanceof Je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new wv(t,r):t}function kV(n){let e=n.get(Fo,null);if(e===null)throw new H(407,!1);let t=n.get(OS,null),r=n.get(Ar,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function OV(n,e){let t=HS(n);return nS(e,t,t==="svg"?mC:t==="math"?yC:null)}function HS(n){return(n.selectors[0][0]||"div").toLowerCase()}var Lo=class extends Xh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=MV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=QF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Re(22);let a=ae(null);try{let u=this.componentDef,l=FV(r,u,s,o),h=xV(u,i||this.ngModule,e),p=kV(h),g=p.rendererFactory.createRenderer(null,u),y=r?NL(g,r,u.encapsulation,h):OV(u,g),T=s?.some(g0)||o?.some(F=>typeof F!="function"&&F.bindings.some(g0)),M=Lv(null,l,null,512|oS(u),null,null,p,g,h,null,W0(y,h,!0));M[ct]=y,fh(M);let R=null;try{let F=VS(ct,M,2,"#host",()=>l.directiveRegistry,!0,0);iS(g,y,F),na(y,M),Wv(l,M,F),Q0(l,F,M),US(l,F),t!==void 0&&VV(F,this.ngContentSelectors,t),R=vn(F.index,M),M[Et]=R[Et],Qv(l,M,null)}catch(F){throw R!==null&&hv(R),hv(M),F}finally{Re(23),ph()}return new Lh(this.componentType,M,!!T)}finally{ae(a)}}};function FV(n,e,t,r){let i=n?["ng-version","20.3.14"]:YF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[bv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[bv].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=by(p);u.push(g)}return Fv(0,null,LV(o,s),1,a,u,null,null,null,[i],null)}function LV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function g0(n){let e=n[bv].kind;return e==="input"||e==="twoWay"}var Lh=class extends kS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ru(t[ie],ct),this.location=$h(this._tNode,t),this.instance=vn(this._tNode.index,t)[Et],this.hostView=this.changeDetectorRef=new Ti(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Zh(r,i[ie],i,e,t);this.previousInputValues.set(e,t);let s=vn(r.index,i);Yv(s,1)}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function VV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qo=(()=>{class n{static __NG_ELEMENT_ID__=UV}return n})();function UV(){let n=kt();return BV(n,ve())}var jV=qo,qS=class extends jV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return $h(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){let e=Av(this._hostTNode,this._hostLView);if(N0(e)){let t=Ch(e,this._hostLView),r=Th(e),i=t[ie].data[r+8];return new ko(i,t)}else return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=m0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=c0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,_v(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!aF(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new Lo(Mr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(Je,null);F&&(o=F)}let g=Mr(h.componentType??{}),y=c0(this._lContainer,g?.id??null),T=y?.firstChild??null,M=h.create(p,i,T,o,s,a);return this.insertImpl(M.hostView,l,_v(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(vC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[_t],l=new qS(u,u[pn],u[_t]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return PS(s,i,o,r),e.attachToViewContainerRef(),_y(rv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=m0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Oh(this._lContainer,t);r&&(Wc(rv(this._lContainer),t),qv(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Oh(this._lContainer,t);return r&&Wc(rv(this._lContainer),t)!=null?new Ti(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function m0(n){return n[eu]}function rv(n){return n[eu]||(n[eu]=[])}function BV(n,e){let t,r=e[n.index];return Mn(r)?t=r:(t=MS(r,e,null,n),e[n.index]=t,Vv(e,t)),HV(t,e,n,r),new qS(t,n,e)}function $V(n,e){let t=n[Ue],r=t.createComment(""),i=yn(e,n),o=t.parentNode(i);return Mh(t,o,r,t.nextSibling(i),!1),r}var HV=GV,qV=()=>!1;function zV(n,e,t){return qV(n,e,t)}function GV(n,e,t,r){if(n[Ei])return;let i;t.type&8?i=mn(r):i=$V(e,t),n[Ei]=i}var Vo=class{},ef=class{};var Vh=class extends Vo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=wy(e);this._bootstrapComponents=eS(o.bootstrap),this._r3Injector=Gy(e,t,[{provide:Vo,useValue:this},{provide:yu,useValue:this.componentFactoryResolver},...r],Sr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Uh=class extends ef{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vh(this.moduleType,e,[])}};var hu=class extends Vo{injector;componentFactoryResolver=new Fh(this);instance=null;constructor(e){super();let t=new Co([...e.providers,{provide:Vo,useValue:this},{provide:yu,useValue:this.componentFactoryResolver}],e.parent||Qc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function sa(n,e,t=null){return new hu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var WV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Dy(!1,t.type),i=r.length>0?sa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(X(Je))})}return n})();function wt(n){return oa(()=>{let e=zS(n),t=ee(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(WV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xr.Emulated,styles:n.styles||tn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Jn("NgStandalone"),GS(t);let r=n.dependencies;return t.directiveDefs=y0(r,KV),t.pipeDefs=y0(r,cC),t.id=ZV(t),t})}function KV(n){return Mr(n)||by(n)}function On(n){return oa(()=>({type:n.type,bootstrap:n.bootstrap||tn,declarations:n.declarations||tn,imports:n.imports||tn,exports:n.exports||tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function QV(n,e){if(n==null)return vi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Wh.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function YV(n){if(n==null)return vi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function et(n){return oa(()=>{let e=zS(n);return GS(e),e})}function tf(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function zS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||vi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:QV(n.inputs,e),outputs:YV(n.outputs),debugInfo:null}}function GS(n){n.features?.forEach(e=>e(n))}function y0(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function ZV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function JV(n){return Object.getPrototypeOf(n.prototype).constructor}function En(n){let e=JV(n.type),t=!0,r=[n];for(;e;){let i;if(Kn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=iv(n.inputs),s.declaredInputs=iv(n.declaredInputs),s.outputs=iv(n.outputs);let a=i.hostBindings;a&&r2(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&t2(n,u),l&&n2(n,l),XV(n,i),eC(n.outputs,i.outputs),Kn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===En&&(t=!1)}}e=Object.getPrototypeOf(e)}e2(r)}function XV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function e2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=lu(i.hostAttrs,t=lu(t,i.hostAttrs))}}function iv(n){return n===vi?{}:n===tn?[]:n}function t2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function n2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function r2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function WS(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=lu(n.mergedAttrs,n.attrs);let h=n.tView=Fv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Js(n,!1);let u=o2(t,e,n,r);gh()&&zv(t,e,u,n),na(u,e);let l=MS(u,e,u,n);e[r+ct]=l,Vv(e,l),zV(l,n,e)}function i2(n,e,t,r,i,o,s,a,u,l,h){let p=t+ct,g;return e.firstCreatePass?(g=Jh(e,p,4,s||null,a||null),Fy()&&FS(e,n,g,Ii(e.consts,l),_S),S0(e,g)):g=e.data[p],WS(g,n,e,t,r,i,o,u),nu(g)&&Wv(e,n,g),l!=null&&Kv(n,g,h),g}function KS(n,e,t,r,i,o,s,a,u,l,h){let p=t+ct,g;if(e.firstCreatePass){if(g=Jh(e,p,4,s||null,a||null),l!=null){let y=Ii(e.consts,l);g.localNames=[];for(let T=0;T<y.length;T+=2)g.localNames.push(y[T],-1)}}else g=e.data[p];return WS(g,n,e,t,r,i,o,u),l!=null&&Kv(n,g,h),g}function zt(n,e,t,r,i,o,s,a){let u=ve(),l=It(),h=Ii(l.consts,o);return i2(u,l,n,e,t,r,i,h,void 0,s,a),zt}var o2=s2;function s2(n,e,t,r){return mh(!0),e[Ue].createComment("")}var Xv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var e_=new $("");function Or(n){return!!n&&typeof n.then=="function"}function nf(n){return!!n&&typeof n.subscribe=="function"}var t_=new $("");function rf(n){return Yt([{provide:t_,multi:!0,useValue:n}])}var n_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(t_,{optional:!0})??[];injector=N(We);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=nt(this.injector,i);if(Or(o))t.push(o);else if(nf(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vu=new $("");function QS(){Mm(()=>{let n="";throw new H(600,n)})}function YS(n){return n.isBoundToModule}var a2=10;var Si=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Ot);afterRenderManager=N($v);zonelessEnabled=N(su);rootEffectScheduler=N(Jy);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Qn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(le(t=>!t))}constructor(){N(Ho,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=We.NULL){return this._injector.get(be).run(()=>{Re(10);let s=t instanceof Xh;if(!this._injector.get(n_).done){let T="";throw new H(405,T)}let u;s?u=t:u=this._injector.get(yu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=YS(u)?void 0:this._injector.get(Vo),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(e_,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),uu(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Re(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Re(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Kh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=ae(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(t),this.afterTick.next(),Re(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<a2;)Re(14),this.synchronizeOnce(),Re(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!iu(i))continue;let o=r&&!this.zonelessEnabled?0:1;SS(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>iu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;uu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(vu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>uu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function of(n,e){let t=ve(),r=wi();if(_n(t,r,e)){let i=It(),o=ou();if(Zh(o,i,t,n,e))Pr(o)&&vS(t,o.index);else{let a=yn(o,t);ES(t[Ue],a,null,o.value,n,e,null)}}return of}function aa(n,e,t,r){let i=ve(),o=wi();if(_n(i,o,e)){let s=It(),a=ou();VL(a,i,n,e,t,r)}return aa}var vZ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Ai(n,e,t,r,i,o,s,a){Jn("NgControlFlow");let u=ve(),l=It(),h=Ii(l.consts,o);return KS(u,l,n,e,t,r,i,h,256,s,a),r_}function r_(n,e,t,r,i,o,s,a){Jn("NgControlFlow");let u=ve(),l=It(),h=Ii(l.consts,o);return KS(u,l,n,e,t,r,i,h,512,s,a),r_}function Ri(n,e){Jn("NgControlFlow");let t=ve(),r=wi(),i=t[r]!==on?t[r]:-1,o=i!==-1?v0(t,ct+i):void 0,s=0;if(_n(t,r,n)){let a=ae(null);try{if(o!==void 0&&oV(o,s),n!==-1){let u=ct+n,l=v0(t,u),h=c2(t[ie],u),p=pV(l,h,t),g=IS(t,h,e,{dehydratedView:p});PS(l,g,s,_v(h,p))}}finally{ae(a)}}else if(o!==void 0){let a=iV(o,s);a!==void 0&&(a[Et]=e)}}function v0(n,e){return n[e]}function c2(n,e){return ru(n,e)}function he(n,e,t){let r=ve(),i=wi();if(_n(r,i,e)){let o=It(),s=ou();yS(s,r,n,e,r[Ue],t)}return he}function _0(n,e,t,r,i){Zh(e,n,t,i?"class":"style",r)}function P(n,e,t,r){let i=ve(),o=i[ie],s=n+ct,a=o.firstCreatePass?VS(s,i,2,e,_S,Fy(),t,r):o.data[s];if(jL(a,i,n,e,u2),nu(a)){let u=i[ie];Wv(u,i,a),Q0(u,a,i)}return r!=null&&Kv(i,a),P}function k(){let n=It(),e=kt(),t=BL(e);return n.firstCreatePass&&US(n,t),SC(t)&&AC(),TC(),t.classesWithoutHost!=null&&fF(t)&&_0(n,t,ve(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&pF(t)&&_0(n,t,ve(),t.stylesWithoutHost,!1),k}function Qe(n,e,t,r){return P(n,e,t,r),k(),Qe}var u2=(n,e,t,r,i)=>(mh(!0),nS(e[Ue],r,$C()));function Xn(){return ve()}var _u="en-US";var l2=_u;function ZS(n){typeof n=="string"&&(l2=n.toLowerCase().replace(/_/g,"-"))}function De(n,e,t){let r=ve(),i=It(),o=kt();return JS(i,r,r[Ue],o,n,e,t),De}function JS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=nv(r,e,o),AV(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=nv(r,e,o),p0(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=nv(r,e,o),p0(r,e,p,i,i,u)}}function Ee(n=1){return BC(n)}function i_(n){let e=MC();return My(e,ct+n)}function Eh(n,e){return n<<17|e<<2}function Uo(n){return n>>17&32767}function d2(n){return(n&2)==2}function h2(n,e){return n&131071|e<<17}function Dv(n){return n|2}function ia(n){return(n&131068)>>2}function ov(n,e){return n&-131069|e<<2}function f2(n){return(n&1)===1}function Tv(n){return n|1}function p2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Uo(s),u=ia(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ws(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Uo(n[a+1]);n[r+1]=Eh(g,a),g!==0&&(n[g+1]=ov(n[g+1],r)),n[a+1]=h2(n[a+1],r)}else n[r+1]=Eh(a,0),a!==0&&(n[a+1]=ov(n[a+1],r)),a=r;else n[r+1]=Eh(u,0),a===0?a=r:n[u+1]=ov(n[u+1],r),u=r;l&&(n[r+1]=Dv(n[r+1])),E0(n,h,r,!0),E0(n,h,r,!1),g2(e,h,n,r,o),s=Eh(a,u),o?e.classBindings=s:e.styleBindings=s}function g2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ws(o,e)>=0&&(t[r+1]=Tv(t[r+1]))}function E0(n,e,t,r){let i=n[t+1],o=e===null,s=r?Uo(i):ia(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];m2(u,e)&&(a=!0,n[s+1]=r?Tv(l):Dv(l)),s=r?Uo(l):ia(l)}a&&(n[t+1]=r?Dv(i):Tv(i))}function m2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ws(n,e)>=0:!1}function sf(n,e,t){return XS(n,e,t,!1),sf}function Eu(n,e){return XS(n,e,null,!0),Eu}function XS(n,e,t,r){let i=ve(),o=It(),s=$y(2);if(o.firstUpdatePass&&v2(o,n,s,r),e!==on&&_n(i,s,e)){let a=o.data[bi()];b2(o,a,i,i[Ue],n,i[s+1]=D2(e,t),r,s)}}function y2(n,e){return e>=n.expandoStartIndex}function v2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[bi()],s=y2(n,t);T2(o,r)&&e===null&&!s&&(e=!1),e=_2(i,o,e,r),p2(i,o,e,t,s,r)}}function _2(n,e,t,r){let i=LC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=sv(null,n,e,t,r),t=fu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=sv(i,n,e,t,r),o===null){let u=E2(n,e,r);u!==void 0&&Array.isArray(u)&&(u=sv(null,n,e,u[1],r),u=fu(u,e.attrs,r),I2(n,e,r,u))}else o=w2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function E2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ia(r)!==0)return n[Uo(r)]}function I2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Uo(i)]=r}function w2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=fu(r,s,t)}return fu(r,e.attrs,t)}function sv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=fu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function fu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),aC(n,s,t?!0:e[++o]))}return n===void 0?null:n}function b2(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=f2(l)?I0(u,e,t,i,ia(l),s):void 0;if(!jh(h)){jh(o)||d2(l)&&(o=I0(u,null,t,i,a,s));let p=Ny(bi(),t);RL(r,s,p,i,o)}}function I0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===on&&(g=p?tn:void 0);let y=p?ch(g,r):h===r?g:void 0;if(l&&!jh(y)&&(y=ch(u,r)),jh(y)&&(a=y,s))return a;let T=n[i+1];i=s?Uo(T):ia(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ch(u,r))}return a}function jh(n){return n!==void 0}function D2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Sr(gu(n)))),n}function T2(n,e){return(n.flags&(e?8:16))!==0}function U(n,e=""){let t=ve(),r=It(),i=n+ct,o=r.firstCreatePass?Jh(r,i,1,e,null):r.data[i],s=C2(r,t,o,e,n);t[i]=s,gh()&&zv(r,t,s,o),Js(o,!1)}var C2=(n,e,t,r,i)=>(mh(!0),ZF(e[Ue],r));function S2(n,e,t,r=""){return _n(n,wi(),t)?e+Rr(t)+r:on}function A2(n,e,t,r,i,o,s,a=""){let u=PC(),l=SV(n,u,t,i,s);return $y(3),l?e+Rr(t)+r+Rr(i)+o+Rr(s)+a:on}function ut(n){return Zt("",n),ut}function Zt(n,e,t){let r=ve(),i=S2(r,n,e,t);return i!==on&&eA(r,bi(),i),Zt}function af(n,e,t,r,i,o,s){let a=ve(),u=A2(a,n,e,t,r,i,o,s);return u!==on&&eA(a,bi(),u),af}function eA(n,e,t){let r=Ny(e,n);JF(n[Ue],r,t)}function Fr(n,e,t){Qy(e)&&(e=e());let r=ve(),i=wi();if(_n(r,i,e)){let o=It(),s=ou();yS(s,r,n,e,r[Ue],t)}return Fr}function Ni(n,e){let t=Qy(n);return t&&n.set(e),t}function Lr(n,e){let t=ve(),r=It(),i=kt();return JS(r,t,t[Ue],i,n,e),Lr}function o_(n){return _n(ve(),wi(),n)?Rr(n):on}function R2(n,e,t){let r=It();if(r.firstCreatePass){let i=Kn(n);Cv(t,r.data,r.blueprint,i,!0),Cv(e,r.data,r.blueprint,i,!1)}}function Cv(n,e,t,r,i){if(n=vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Cv(n[o],e,t,r,i);else{let o=It(),s=ve(),a=kt(),u=To(n)?n:vt(n.provide),l=Cy(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(To(n)||!n.multi){let y=new Oo(l,i,K,null),T=cv(u,e,i?h:h+g,p);T===-1?(lv(Ah(a,s),o,u),av(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=cv(u,e,h+g,p),T=cv(u,e,h,h+g),M=y>=0&&t[y],R=T>=0&&t[T];if(i&&!R||!i&&!M){lv(Ah(a,s),o,u);let F=P2(i?M2:N2,t.length,i,r,l,n);!i&&R&&(t[T].providerFactory=F),av(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=tA(t[i?T:y],l,!i&&r);av(o,n,y>-1?y:T,F)}!i&&r&&R&&t[T].componentProviders++}}}function av(n,e,t,r){let i=To(e),o=fC(e);if(i||o){let u=(o?vt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function tA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function N2(n,e,t,r,i){return Sv(this.multi,[])}function M2(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Rh(r,r[ie],this.providerFactory.index,i);s=u.slice(0,a),Sv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Sv(o,s);return s}function Sv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function P2(n,e,t,r,i,o){let s=new Oo(n,t,K,null);return s.multi=[],s.index=e,s.componentProviders=0,tA(s,i,r&&!t),s}function Mi(n,e=[]){return t=>{t.providersResolver=(r,i)=>R2(r,i?i(n):n,e)}}function s_(n,e,t,r){return nA(ve(),By(),n,e,t,r)}function x2(n,e){let t=n[e];return t===on?void 0:t}function nA(n,e,t,r,i,o){let s=e+t;return _n(n,s,i)?TV(n,s+1,o?r.call(o,i):r(i)):x2(n,s+1)}function Iu(n,e){let t=It(),r,i=n+ct;t.firstCreatePass?(r=k2(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=gi(r.type,!0)),s,a=Ht(K);try{let u=Sh(!1),l=o();return Sh(u),Py(t,ve(),i,l),l}finally{Ht(a)}}function k2(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function wu(n,e,t){let r=n+ct,i=ve(),o=My(i,r);return O2(i,r)?nA(i,By(),e,o.transform,t,o):o.transform(t)}function O2(n,e){return n[ie].data[e].pure}var Bh=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},a_=(()=>{class n{compileModuleSync(t){return new Uh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=wy(t),o=eS(i.declarations).reduce((s,a)=>{let u=Mr(a);return u&&s.push(new Lo(u)),s},[]);return new Bh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var F2=(()=>{class n{zone=N(be);changeDetectionScheduler=N(Ar);applicationRef=N(Si);applicationErrorHandler=N(Ot);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rA=new $("",{factory:()=>!1});function c_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(ee(L({},l_()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:Nr,multi:!0,useFactory:()=>{let r=N(F2,{optional:!0});return()=>r.initialize()}},{provide:Nr,multi:!0,useFactory:()=>{let r=N(L2);return()=>{r.initialize()}}},e===!0?{provide:Yy,useValue:!0}:[],{provide:Zy,useValue:t??cS},{provide:Ot,useFactory:()=>{let r=N(be),i=N(Je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(An),o.handleError(s))})}}}]}function u_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=c_({ngZoneFactory:()=>{let i=l_(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Jn("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Yt([{provide:rA,useValue:!0},{provide:su,useValue:!1},r])}function l_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var L2=(()=>{class n{subscription=new Ge;initialized=!1;zone=N(be);pendingTasks=N(Qn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iA=(()=>{class n{applicationErrorHandler=N(Ot);appRef=N(Si);taskService=N(Qn);ngZone=N(be);zonelessEnabled=N(su);tracing=N(Ho,{optional:!0});disableScheduling=N(Yy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ph):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Zy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?n0:uS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ph+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,n0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V2(){return typeof $localize<"u"&&$localize.locale||_u}var cf=new $("",{providedIn:"root",factory:()=>N(cf,{optional:!0,skipSelf:!0})||V2()});function tt(n){return ZT(n)}function zo(n,e){return Sd(n,e?.equal)}var oA=class{[xt];constructor(e){this[xt]=e}destroy(){this[xt].destroy()}};var lA=Symbol("InputSignalNode#UNSET"),tU=ee(L({},Ad),{transformFn:void 0,applyValueToInputSignal(n,e){Ms(n,e)}});function dA(n,e){let t=Object.create(tU);t.value=n,t.transformFn=e?.transform;function r(){if(As(t),t.value===lA){let i=null;throw new H(-950,i)}return t.value}return r[xt]=t,r}var lf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>pu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},nU=new $("");nU.__NG_ELEMENT_ID__=n=>{let e=kt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new H(204,!1)};function sA(n,e){return dA(n,e)}function rU(n){return dA(lA,n)}var hA=(sA.required=rU,sA);var d_=new $(""),iU=new $("");function bu(n){return!n.moduleRef}function oU(n){let e=bu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{bu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ot),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),bu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(d_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(d_);s.add(o),n.moduleRef.onDestroy(()=>{uu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return aU(r,t,()=>{let o=e.get(Qn),s=o.add(),a=e.get(n_);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(cf,_u);if(ZS(u||_u),!e.get(iU,!0))return bu(n)?e.get(Si):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(bu(n)){let h=e.get(Si);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return sU?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var sU;function aU(n,e,t){try{let r=t();return Or(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var uf=null;function cU(n=[],e){return We.create({name:e,providers:[{provide:Kc,useValue:"platform"},{provide:d_,useValue:new Set([()=>uf=null])},...n]})}function uU(n=[]){if(uf)return uf;let e=cU(n);return uf=e,QS(),lU(e),e}function lU(n){let e=n.get(qh,null);nt(n,()=>{e?.forEach(t=>t())})}function m_(){return!1}var Pi=(()=>{class n{static __NG_ELEMENT_ID__=dU}return n})();function dU(n){return hU(kt(),ve(),(n&16)===16)}function hU(n,e,t){if(Pr(n)&&!t){let r=vn(n.index,e);return new Ti(r,r)}else if(n.type&175){let r=e[gn];return new Ti(r,e)}return null}var h_=class{constructor(){}supports(e){return Jv(e)}create(e){return new f_(e)}},fU=(n,e)=>e,f_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||fU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<aA(r,i,o)?t:r,a=aA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,T=y+g;h<=T&&T<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Jv(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,jS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new p_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new df),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new df),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},p_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},g_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},df=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new g_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function cA(){return new y_([new h_])}var y_=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:cA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||cA())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function fA(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Re(8);try{let o=i?.injector??uU(r),s=[c_({}),{provide:Ar,useExisting:iA},qC,...t||[]],a=new hu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return oU({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Re(9)}}function xi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function pA(n){let e=Mr(n);if(!e)return null;let t=new Lo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var yA=null;function In(){return yA}function v_(n){yA??=n}var Du=class{},Tu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>N(vA),providedIn:"platform"})}return n})(),__=new $(""),vA=(()=>{class n extends Tu{_location;_history;_doc=N(Xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return In().getBaseHref(this._doc)}onPopState(t){let r=In().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=In().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function hf(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function gA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Fn(n){return n&&n[0]!=="?"?`?${n}`:n}var Ln=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>N(pf),providedIn:"root"})}return n})(),ff=new $(""),pf=(()=>{class n extends Ln{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return hf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Fn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Fn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Fn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(Tu),X(ff,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ki=(()=>{class n{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=mU(gA(mA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fn(r))}normalize(t){return n.stripTrailingSlash(gU(this._basePath,mA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Fn;static joinWithSlash=hf;static stripTrailingSlash=gA;static \u0275fac=function(r){return new(r||n)(X(Ln))};static \u0275prov=q({token:n,factory:()=>pU(),providedIn:"root"})}return n})();function pU(){return new ki(X(Ln))}function gU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function mA(n){return n.replace(/\/index.html$/,"")}function mU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var w_=(()=>{class n extends Ln{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=hf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Fn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Fn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(Tu),X(ff,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var gf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yf=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),_A(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);_A(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(qo),K(mu),K(y_))};static \u0275dir=et({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function _A(n,e){n.context.$implicit=e.item}var Wo=(()=>{class n{_viewContainer;_context=new mf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){EA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){EA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(qo),K(mu))};static \u0275dir=et({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),mf=class{$implicit=null;ngIf=null};function EA(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}function IA(n,e){return new H(2100,!1)}var E_=class{createSubscription(e,t,r){return tt(()=>e.subscribe({next:t,error:r}))}dispose(e){tt(()=>e.unsubscribe())}},I_=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},yU=new I_,vU=new E_,b_=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=N(Ot);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Or(t))return yU;if(nf(t))return vU;throw IA(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(K(Pi,16))};static \u0275pipe=tf({name:"async",type:n,pure:!1})}return n})();var D_=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw IA(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=tf({name:"uppercase",type:n,pure:!0})}return n})();var wn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=hn({})}return n})();function T_(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Cu=class{};var wA="browser";var bA=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new C_(N(Xe),window)})}return n})(),C_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ee(L({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=_U(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(yi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ee(L({},t),{left:i-s[0],top:o-s[1]}))}};function _U(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Su=class{_doc;constructor(e){this._doc=e}manager},_f=(()=>{class n extends Su{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(X(Xe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),If=new $(""),M_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof _f));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof _f);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(X(If),X(be))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),S_="ng-app-id";function DA(n){for(let e of n)e.remove()}function TA(n,e){let t=e.createElement("style");return t.textContent=n,t}function EU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${S_}="${e}"],link[${S_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(S_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function R_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var P_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,EU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,TA);r?.forEach(i=>this.addUsage(i,this.external,R_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(DA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])DA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,TA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,R_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(X(Xe),X(Hh),X(zh,8),X(Bo))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),A_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},x_=/%COMP%/g;var SA="%COMP%",IU=`_nghost-${SA}`,wU=`_ngcontent-${SA}`,bU=!0,DU=new $("",{providedIn:"root",factory:()=>bU});function TU(n){return wU.replace(x_,n)}function CU(n){return IU.replace(x_,n)}function AA(n,e){return e.map(t=>t.replace(x_,n))}var k_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Au(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Ef?i.applyToHost(t):i instanceof Ru&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case xr.Emulated:o=new Ef(u,l,r,this.appId,h,s,a,p,g);break;case xr.ShadowDom:return new N_(u,l,t,r,s,a,this.nonce,p,g);default:o=new Ru(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(X(M_),X(P_),X(Hh),X(DU),X(Xe),X(be),X(zh),X(Ho,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Au=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(A_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(CA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(CA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=A_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=A_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Zn.DashCase|Zn.Important)?e.style.setProperty(t,r,i&Zn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Zn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=In().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function CA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var N_=class extends Au{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=AA(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=R_(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ru=class extends Au{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?AA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ra.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ef=class extends Ru{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=TU(h),this.hostAttr=CU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var wf=class n extends Du{supportsDOMEvents=!0;static makeCurrent(){v_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=SU();return t==null?null:AU(t)}resetBaseElement(){Nu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return T_(document.cookie,e)}},Nu=null;function SU(){return Nu=Nu||document.head.querySelector("base"),Nu?Nu.getAttribute("href"):null}function AU(n){return new URL(n,document.baseURI).pathname}var RU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),RA=["alt","control","meta","shift"],NU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},NA=(()=>{class n extends Su{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>In().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),RA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=NU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),RA.forEach(s=>{if(s!==i){let a=MU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(X(Xe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function O_(n,e,t){let r=L({rootComponent:n,platformRef:t?.platformRef},PU(e));return fA(r)}function PU(n){return{appProviders:[...LU,...n?.providers??[]],platformProviders:FU}}function xU(){wf.makeCurrent()}function kU(){return new An}function OU(){return Nv(document),document}var FU=[{provide:Bo,useValue:wA},{provide:qh,useValue:xU,multi:!0},{provide:Xe,useFactory:OU}];var LU=[{provide:Kc,useValue:"root"},{provide:An,useFactory:kU},{provide:If,useClass:_f,multi:!0,deps:[Xe]},{provide:If,useClass:NA,multi:!0,deps:[Xe]},k_,P_,M_,{provide:Fo,useExisting:k_},{provide:Cu,useClass:RU},[]];var MA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(X(Xe))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oe="primary",Hu=Symbol("RouteTitle"),j_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Yo(n){return new j_(n)}function UA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function UU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!er(n[t],e[t]))return!1;return!0}function er(n,e){let t=n?B_(n):void 0,r=e?B_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!jA(n[i],e[i]))return!1;return!0}function B_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function BA(n){return n.length>0?n[n.length-1]:null}function Vr(n){return zm(n)?n:Or(n)?Ce(Promise.resolve(n)):Y(n)}var jU={exact:HA,subset:qA},$A={exact:BU,subset:$U,ignored:()=>!0};function PA(n,e,t){return jU[t.paths](n.root,e.root,t.matrixParams)&&$A[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function BU(n,e){return er(n,e)}function HA(n,e,t){if(!Ko(n.segments,e.segments)||!Tf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!HA(n.children[r],e.children[r],t))return!1;return!0}function $U(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jA(n[t],e[t]))}function qA(n,e,t){return zA(n,e,e.segments,t)}function zA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ko(i,t)||e.hasChildren()||!Tf(i,t,r))}else if(n.segments.length===t.length){if(!Ko(n.segments,t)||!Tf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!qA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ko(n.segments,i)||!Tf(n.segments,i,r)||!n.children[oe]?!1:zA(n.children[oe],e,o,r)}}function Tf(n,e,t){return e.every((r,i)=>$A[t](n[i].parameters,r.parameters))}var nr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){return zU.serialize(this)}},Te=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cf(this)}},Oi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Yo(this.parameters),this._parameterMap}toString(){return WA(this)}};function HU(n,e){return Ko(n,e)&&n.every((t,r)=>er(t.parameters,e[r].parameters))}function Ko(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function qU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}var Zo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new Fi,providedIn:"root"})}return n})(),Fi=class{parse(e){let t=new H_(e);return new nr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Mu(e.root,!0)}`,r=KU(e.queryParams),i=typeof e.fragment=="string"?`#${GU(e.fragment)}`:"";return`${t}${r}${i}`}},zU=new Fi;function Cf(n){return n.segments.map(e=>WA(e)).join("/")}function Mu(n,e){if(!n.hasChildren())return Cf(n);if(e){let t=n.children[oe]?Mu(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Mu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=qU(n,(r,i)=>i===oe?[Mu(n.children[oe],!1)]:[`${i}:${Mu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Cf(n)}/${t[0]}`:`${Cf(n)}/(${t.join("//")})`}}function GA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(n){return GA(n).replace(/%3B/gi,";")}function GU(n){return encodeURI(n)}function $_(n){return GA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sf(n){return decodeURIComponent(n)}function xA(n){return Sf(n.replace(/\+/g,"%20"))}function WA(n){return`${$_(n.path)}${WU(n.parameters)}`}function WU(n){return Object.entries(n).map(([e,t])=>`;${$_(e)}=${$_(t)}`).join("")}function KU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${bf(t)}=${bf(i)}`).join("&"):`${bf(t)}=${bf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var QU=/^[^\/()?;#]+/;function F_(n){let e=n.match(QU);return e?e[0]:""}var YU=/^[^\/()?;=#]+/;function ZU(n){let e=n.match(YU);return e?e[0]:""}var JU=/^[^=?&#]+/;function XU(n){let e=n.match(JU);return e?e[0]:""}var ej=/^[^&#]+/;function tj(n){let e=n.match(ej);return e?e[0]:""}var H_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new Te(e,t)),r}parseSegment(){let e=F_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Oi(Sf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=ZU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=F_(this.remaining);i&&(r=i,this.capture(r))}e[Sf(t)]=Sf(r)}parseQueryParam(e){let t=XU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=tj(this.remaining);s&&(r=s,this.capture(r))}let i=xA(t),o=xA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=F_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o??oe]=Object.keys(s).length===1&&s[oe]?s[oe]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function KA(n){return n.segments.length>0?new Te([],{[oe]:n}):n}function QA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=QA(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Te(n.segments,e);return nj(t)}function nj(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Te(n.segments.concat(e.segments),e.children)}return n}function Li(n){return n instanceof nr}function YA(n,e,t=null,r=null){let i=ZA(n);return JA(i,e,t,r)}function ZA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=KA(r);return e??i}function JA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return L_(i,i,i,t,r);let o=rj(e);if(o.toRoot())return L_(i,i,new Te([],{}),t,r);let s=ij(o,i,n),a=s.processChildren?xu(s.segmentGroup,s.index,o.commands):eR(s.segmentGroup,s.index,o.commands);return L_(i,s.segmentGroup,a,t,r)}function Af(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ou(n){return typeof n=="object"&&n!=null&&n.outlets}function L_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=XA(n,e,t);let a=KA(QA(s));return new nr(a,o,i)}function XA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=XA(o,e,t)}),new Te(n.segments,r)}var Rf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Af(r[0]))throw new H(4003,!1);let i=r.find(Ou);if(i&&i!==BA(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Rf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Rf(t,e,r)}var la=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ij(n,e,t){if(n.isAbsolute)return new la(e,!0,0);if(!t)return new la(e,!1,NaN);if(t.parent===null)return new la(t,!0,0);let r=Af(n.commands[0])?0:1,i=t.segments.length-1+r;return oj(t,i,n.numberOfDoubleDots)}function oj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new la(r,!1,i-o)}function sj(n){return Ou(n[0])?n[0].outlets:{[oe]:n}}function eR(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return xu(n,e,t);let r=aj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Te(n.segments.slice(r.pathIndex),n.children),xu(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?q_(n,e,t):r.match?xu(n,0,i):q_(n,e,t)}function xu(n,e,t){if(t.length===0)return new Te(n.segments,{});{let r=sj(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=xu(n.children[oe],e,t);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=eR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function aj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ou(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!OA(u,l,s))return o;r+=2}else{if(!OA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function q_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ou(o)){let u=cj(o.outlets);return new Te(r,u)}if(i===0&&Af(t[0])){let u=n.segments[e];r.push(new Oi(u.path,kA(t[0]))),i++;continue}let s=Ou(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Af(a)?(r.push(new Oi(s,kA(a))),i+=2):(r.push(new Oi(s,{})),i++)}return new Te(r,{})}function cj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=q_(new Te([],{}),0,r))}),e}function kA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function OA(n,e,t){return n==t.path&&er(e,t.parameters)}var da="imperative",lt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(lt||{}),an=class{id;url;constructor(e,t){this.id=e,this.url=t}},Vi=class extends an{type=lt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bn=class extends an{urlAfterRedirects;type=lt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Gt||{}),fa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(fa||{}),tr=class extends an{reason;code;type=lt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rr=class extends an{reason;code;type=lt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},pa=class extends an{error;target;type=lt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fu=class extends an{urlAfterRedirects;state;type=lt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nf=class extends an{urlAfterRedirects;state;type=lt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mf=class extends an{urlAfterRedirects;state;shouldActivate;type=lt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pf=class extends an{urlAfterRedirects;state;type=lt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends an{urlAfterRedirects;state;type=lt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kf=class{route;type=lt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Of=class{route;type=lt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ff=class{snapshot;type=lt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lf=class{snapshot;type=lt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vf=class{snapshot;type=lt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uf=class{snapshot;type=lt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ga=class{routerEvent;position;anchor;type=lt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Lu=class{},ma=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function uj(n){return!(n instanceof Lu)&&!(n instanceof ma)}function lj(n,e){return n.providers&&!n._injector&&(n._injector=sa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Vn(n){return n.outlet||oe}function dj(n,e){let t=n.filter(r=>Vn(r)===e);return t.push(...n.filter(r=>Vn(r)!==e)),t}function _a(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var jf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return _a(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Jo(this.rootInjector)}},Jo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(X(Je))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=z_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=z_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=G_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return G_(e,this._root).map(t=>t.value)}};function z_(n,e){if(n===e.value)return e;for(let t of e.children){let r=z_(n,t);if(r)return r}return null}function G_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=G_(n,t);if(r.length)return r.unshift(e),r}return[]}var sn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ua(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Vu=class extends Bf{snapshot;constructor(e,t){super(e),this.snapshot=t,eE(this,e)}toString(){return this.snapshot.toString()}};function tR(n){let e=hj(n),t=new at([new Oi("",{})]),r=new at({}),i=new at({}),o=new at({}),s=new at(""),a=new Dn(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new Vu(new sn(a,[]),e)}function hj(n){let e={},t={},r={},o=new Qo([],e,r,"",t,oe,n,null,{});return new Uu("",new sn(o,[]))}var Dn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[Hu]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Yo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Yo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $f(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&rR(i)&&(r.resolve[Hu]=i.title),r}var Qo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Hu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Uu=class extends Bf{url;constructor(e,t){super(t),this.url=e,eE(this,t)}toString(){return nR(this._root)}};function eE(n,e){e.value._routerState=n,e.children.forEach(t=>eE(n,t))}function nR(n){let e=n.children.length>0?` { ${n.children.map(nR).join(", ")} } `:"";return`${n.value}${e}`}function V_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,er(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),er(e.params,t.params)||n.paramsSubject.next(t.params),UU(e.url,t.url)||n.urlSubject.next(t.url),er(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function W_(n,e){let t=er(n.params,e.params)&&HU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||W_(n.parent,e.parent))}function rR(n){return typeof n.title=="string"||n.title===null}var iR=new $(""),qu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new Ke;deactivateEvents=new Ke;attachEvents=new Ke;detachEvents=new Ke;routerOutletData=hA();parentContexts=N(Jo);location=N(qo);changeDetector=N(Pi);inputBinder=N(zu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new K_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[kn]})}return n})(),K_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Dn?this.route:e===Jo?this.childContexts:e===iR?this.outletData:this.parent.get(e,t)}},zu=new $(""),tE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=wo([r.queryParams,r.params,r.data]).pipe($t(([o,s,a],u)=>(a=L(L(L({},o),s),a),u===0?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=pA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),nE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=wt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Qe(0,"router-outlet")},dependencies:[qu],encapsulation:2})}return n})();function rE(n){let e=n.children&&n.children.map(rE),t=e?ee(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=nE),t}function fj(n,e,t){let r=ju(n,e._root,t?t._root:void 0);return new Vu(r,e)}function ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=pj(n,e,t);return new sn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ju(n,a)),s}}let r=gj(e.value),i=e.children.map(o=>ju(n,o));return new sn(r,i)}}function pj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ju(n,r,i);return ju(n,r)})}function gj(n){return new Dn(new at(n.url),new at(n.params),new at(n.queryParams),new at(n.fragment),new at(n.data),n.outlet,n.component,n)}var ya=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},oR="ngNavigationCancelingError";function Hf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sR(!1,Gt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function sR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[oR]=!0,t.cancellationCode=e,t}function mj(n){return aR(n)&&Li(n.url)}function aR(n){return!!n&&n[oR]}var yj=(n,e,t,r)=>le(i=>(new Q_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Q_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),V_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ua(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ua(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ua(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ua(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Uf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Lf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(V_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),V_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},qf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ha=class{component;route;constructor(e,t){this.component=e,this.route=t}};function vj(n,e,t){let r=n._root,i=e?e._root:null;return Pu(r,i,t,[r.value])}function _j(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ea(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!dy(n)?n:e.get(n):r}function Pu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ua(e);return n.children.forEach(s=>{Ej(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ku(a,t.getContext(s),i)),i}function Ej(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Ij(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Pu(n,e,a?a.children:null,r,i):Pu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ha(a.outlet.component,s))}else s&&ku(e,a,i),i.canActivateChecks.push(new qf(r)),o.component?Pu(n,null,a?a.children:null,r,i):Pu(n,null,t,r,i);return i}function Ij(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ko(n.url,e.url)||!er(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!W_(n,e)||!er(n.queryParams,e.queryParams);case"paramsChange":default:return!W_(n,e)}}function ku(n,e,t){let r=ua(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ku(s,e.children.getContext(o),t):ku(s,null,t):ku(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ha(e.outlet.component,i)):t.canDeactivateChecks.push(new ha(null,i)):t.canDeactivateChecks.push(new ha(null,i))}function Gu(n){return typeof n=="function"}function wj(n){return typeof n=="boolean"}function bj(n){return n&&Gu(n.canLoad)}function Dj(n){return n&&Gu(n.canActivate)}function Tj(n){return n&&Gu(n.canActivateChild)}function Cj(n){return n&&Gu(n.canDeactivate)}function Sj(n){return n&&Gu(n.canMatch)}function cR(n){return n instanceof wr||n?.name==="EmptyError"}var Df=Symbol("INITIAL_VALUE");function va(){return $t(n=>wo(n.map(e=>e.pipe(Dr(1),zs(Df)))).pipe(le(e=>{for(let t of e)if(t!==!0){if(t===Df)return Df;if(t===!1||Aj(t))return t}return!0}),Bt(e=>e!==Df),Dr(1)))}function Aj(n){return Li(n)||n instanceof ya}function Rj(n,e){return Ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Y(ee(L({},t),{guardsResult:!0})):Nj(s,r,i,n).pipe(Ze(a=>a&&wj(a)?Mj(r,o,n,e):Y(a)),le(a=>ee(L({},t),{guardsResult:a})))})}function Nj(n,e,t,r){return Ce(n).pipe(Ze(i=>Fj(i.component,i.route,t,e,r)),Tr(i=>i!==!0,!0))}function Mj(n,e,t,r){return Ce(e).pipe(hi(i=>Hs(xj(i.route.parent,r),Pj(i.route,r),Oj(n,i.path,t),kj(n,i.route,t))),Tr(i=>i!==!0,!0))}function Pj(n,e){return n!==null&&e&&e(new Vf(n)),Y(!0)}function xj(n,e){return n!==null&&e&&e(new Ff(n)),Y(!0)}function kj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>jc(()=>{let s=_a(e)??t,a=Ea(o,s),u=Dj(a)?a.canActivate(e,n):nt(s,()=>a(e,n));return Vr(u).pipe(Tr())}));return Y(i).pipe(va())}function Oj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_j(s)).filter(s=>s!==null).map(s=>jc(()=>{let a=s.guards.map(u=>{let l=_a(s.node)??t,h=Ea(u,l),p=Tj(h)?h.canActivateChild(r,n):nt(l,()=>h(r,n));return Vr(p).pipe(Tr())});return Y(a).pipe(va())}));return Y(o).pipe(va())}function Fj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=_a(e)??i,l=Ea(a,u),h=Cj(l)?l.canDeactivate(n,e,t,r):nt(u,()=>l(n,e,t,r));return Vr(h).pipe(Tr())});return Y(s).pipe(va())}function Lj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=Ea(s,n),u=bj(a)?a.canLoad(e,t):nt(n,()=>a(e,t));return Vr(u)});return Y(o).pipe(va(),uR(r))}function uR(n){return xd(ht(e=>{if(typeof e!="boolean")throw Hf(n,e)}),le(e=>e===!0))}function Vj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=Ea(s,n),u=Sj(a)?a.canMatch(e,t):nt(n,()=>a(e,t));return Vr(u)});return Y(o).pipe(va(),uR(r))}var Bu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},$u=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ca(n){return Bs(new Bu(n))}function Uj(n){return Bs(new H(4e3,!1))}function jj(n){return Bs(sR(!1,Gt.GuardRejected))}var Y_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[oe])return Uj(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){return Bj(t,i,o).pipe(le(s=>{if(s instanceof nr)throw new $u(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new $u(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new nr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Bj(n,e,t){if(typeof n=="string")return Y(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Vr(nt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var Z_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $j(n,e,t,r,i){let o=lR(n,e,t);return o.matched?(r=lj(e,r),Vj(r,e,t,i).pipe(le(s=>s===!0?o:L({},Z_)))):Y(o)}function lR(n,e,t){if(e.path==="**")return Hj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Z_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||UA)(t,n,e);if(!i)return L({},Z_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Hj(n){return{matched:!0,parameters:n.length>0?BA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function FA(n,e,t,r){return t.length>0&&Gj(n,t,r)?{segmentGroup:new Te(e,zj(r,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&Wj(n,t,r)?{segmentGroup:new Te(n.segments,qj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function qj(n,e,t,r){let i={};for(let o of t)if(Gf(n,e,o)&&!r[Vn(o)]){let s=new Te([],{});i[Vn(o)]=s}return L(L({},r),i)}function zj(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&Vn(r)!==oe){let i=new Te([],{});t[Vn(r)]=i}return t}function Gj(n,e,t){return t.some(r=>Gf(n,e,r)&&Vn(r)!==oe)}function Wj(n,e,t){return t.some(r=>Gf(n,e,r))}function Gf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Kj(n,e,t){return e.length===0&&!n.children[t]}var J_=class{};function Qj(n,e,t,r,i,o,s="emptyOnly"){return new X_(n,e,t,r,i,s,o).recognize()}var Yj=31,X_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Y_(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=FA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:t,rootSnapshot:r})=>{let i=new sn(r,t),o=new Uu("",i),s=YA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Qo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(le(r=>({children:r,rootSnapshot:t})),br(r=>{if(r instanceof $u)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(le(s=>s instanceof sn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ce(o).pipe(hi(s=>{let a=r.children[s],u=dj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Xd((s,a)=>(s.push(...a),s)),fi(null),Wm(),Ze(s=>{if(s===null)return ca(r);let a=dR(s);return Zj(a),Y(a)}))}processSegment(e,t,r,i,o,s,a){return Ce(t).pipe(hi(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(br(l=>{if(l instanceof Bu)return Y(null);throw l}))),Tr(u=>!!u),br(u=>{if(cR(u))return Kj(r,i,o)?Y(new J_):ca(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Vn(r)!==s&&(s===oe||!Gf(i,o,r))?ca(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ca(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=lR(t,i,o);if(!u)return ca(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Yj&&(this.allowRedirects=!1));let y=new Qo(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,LA(i),Vn(i),i.component??i._loadedComponent??null,i,VA(i)),T=$f(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe($t(R=>this.applyRedirects.lineralizeSegments(i,R)),Ze(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=$j(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe($t(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($t(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,T=new Qo(g,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,LA(r),Vn(r),r.component??r._loadedComponent??null,r,VA(r)),M=$f(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=FA(t,g,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(le(z=>new sn(T,z)));if(l.length===0&&F.length===0)return Y(new sn(T,[]));let W=Vn(r)===o;return this.processSegment(h,l,R,F,W?oe:o,!0,T).pipe(le(z=>new sn(T,z instanceof sn?[z]:[])))}))):ca(t)))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):Lj(e,t,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,t).pipe(ht(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):jj(t))):Y({routes:[],injector:e})}};function Zj(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function Jj(n){let e=n.value.routeConfig;return e&&e.path===""}function dR(n){let e=[],t=new Set;for(let r of n){if(!Jj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=dR(r.children);e.push(new sn(r.value,i))}return e.filter(r=>!t.has(r))}function LA(n){return n.data||{}}function VA(n){return n.resolve||{}}function Xj(n,e,t,r,i,o){return Ze(s=>Qj(n,e,t,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>ee(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function eB(n,e){return Ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of hR(u))s.add(l);let a=0;return Ce(s).pipe(hi(u=>o.has(u)?tB(u,r,n,e):(u.data=$f(u,u.parent,n).resolve,Y(void 0))),ht(()=>a++),qs(1),Ze(u=>a===s.size?Y(t):Kt))})}function hR(n){let e=n.children.map(t=>hR(t)).flat();return[n,...e]}function tB(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!rR(i)&&(o[Hu]=i.title),jc(()=>(n.data=$f(n,n.parent,t).resolve,nB(o,n,e,r).pipe(le(s=>(n._resolvedData=s,n.data=L(L({},n.data),s),null)))))}function nB(n,e,t,r){let i=B_(n);if(i.length===0)return Y({});let o={};return Ce(i).pipe(Ze(s=>rB(n[s],e,t,r).pipe(Tr(),ht(a=>{if(a instanceof ya)throw Hf(new Fi,a);o[s]=a}))),qs(1),le(()=>o),br(s=>cR(s)?Kt:Bs(s)))}function rB(n,e,t,r){let i=_a(e)??r,o=Ea(n,i),s=o.resolve?o.resolve(e,t):nt(i,()=>o(e,t));return Vr(s)}function U_(n){return $t(e=>{let t=n(e);return t?Ce(t).pipe(le(()=>e)):Y(e)})}var iE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[Hu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>N(fR),providedIn:"root"})}return n})(),fR=(()=>{class n extends iE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(X(MA))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ui=new $("",{providedIn:"root",factory:()=>({})}),Xo=new $(""),Wf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(a_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Vr(nt(t,()=>r.loadComponent())).pipe(le(gR),$t(mR),ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Bc(()=>{this.componentLoaders.delete(r)})),o=new Ls(i,()=>new Oe).pipe(Fs());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=pR(r,this.compiler,t,this.onLoadEndListener).pipe(Bc(()=>{this.childrenLoaders.delete(r)})),s=new Ls(o,()=>new Oe).pipe(Fs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pR(n,e,t,r){return Vr(nt(t,()=>n.loadChildren())).pipe(le(gR),$t(mR),Ze(i=>i instanceof ef||Array.isArray(i)?Y(i):Ce(e.compileModuleAsync(i))),le(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xo,[],{optional:!0,self:!0}).flat()),{routes:s.map(rE),injector:o}}))}function iB(n){return n&&typeof n=="object"&&"default"in n}function gR(n){return iB(n)?n.default:n}function mR(n){return Y(n)}var Kf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>N(oB),providedIn:"root"})}return n})(),oB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oE=new $(""),sE=new $("");function yR(n,e,t){let r=n.get(sE),i=n.get(Xe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),sB(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&nt(n,()=>u({transition:a,from:e,to:t})),s}function sB(n){return new Promise(e=>{Qh({read:()=>setTimeout(e)},{injector:n})})}var aE=new $(""),Qf=(()=>{class n{currentNavigation=je(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortWithErrorSubject=new Oe;configLoader=N(Wf);environmentInjector=N(Je);destroyRef=N(Pn);urlSerializer=N(Zo);rootContexts=N(Jo);location=N(ki);inputBindingEnabled=N(zu,{optional:!0})!==null;titleStrategy=N(iE);options=N(Ui,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Kf);createViewTransition=N(oE,{optional:!0});navigationErrorHandler=N(aE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new kf(i)),r=i=>this.events.next(new Of(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;tt(()=>{this.transitions?.next(ee(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new at(null),this.transitions.pipe(Bt(r=>r!==null),$t(r=>{let i=!1;return Y(r).pipe($t(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Gt.SupersededByNewNavigation),Kt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ee(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new rr(o.id,this.urlSerializer.serialize(o.rawUrl),"",fa.IgnoredSameUrlNavigation)),o.resolve(!1),Kt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Y(o).pipe($t(u=>(this.events.next(new Vi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Kt:Promise.resolve(u))),Xj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ht(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Fu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new Vi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let T=tR(this.rootComponentType).snapshot;return this.currentTransition=r=ee(L({},o),{targetSnapshot:T,urlAfterRedirects:l,extras:ee(L({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),Y(r)}else return this.events.next(new rr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",fa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Kt}),ht(o=>{let s=new Nf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),le(o=>(this.currentTransition=r=ee(L({},o),{guards:vj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Rj(this.environmentInjector,o=>this.events.next(o)),ht(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Hf(this.urlSerializer,o.guardsResult);let s=new Mf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Bt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Gt.GuardRejected),!1)),U_(o=>{if(o.guards.canActivateChecks.length!==0)return Y(o).pipe(ht(s=>{let a=new Pf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),$t(s=>{let a=!1;return Y(s).pipe(eB(this.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Gt.NoDataFromResolver)}}))}),ht(s=>{let a=new xf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),U_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=_a(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(ht(h=>{a.component=h}),le(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return wo(s(o.targetSnapshot.root)).pipe(fi(null),Dr(1))}),U_(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ce(a).pipe(le(()=>r)):Y(r)}),le(o=>{let s=fj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ee(L({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ht(()=>{this.events.next(new Lu)}),yj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Dr(1),eh(new ne(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Bt(()=>!i&&!r.targetRouterState),ht(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Gt.Aborted)}))),ht({next:o=>{i=!0,this.lastSuccessfulNavigation=tt(this.currentNavigation),this.events.next(new bn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),eh(this.transitionAbortWithErrorSubject.pipe(ht(o=>{throw o}))),Bc(()=>{i||this.cancelNavigationTransition(r,"",Gt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),br(o=>{if(this.destroyed)return r.resolve(!1),Kt;if(i=!0,aR(o))this.events.next(new tr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),mj(o)?this.events.next(new ma(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new pa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=nt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ya){let{message:u,cancellationCode:l}=Hf(this.urlSerializer,a);this.events.next(new tr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ma(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Kt}))}))}cancelNavigationTransition(t,r,i){let o=new tr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=tt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aB(n){return n!==da}var vR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>N(cB),providedIn:"root"})}return n})(),zf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},cB=(()=>{class n extends zf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=jo(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_R=(()=>{class n{urlSerializer=N(Zo);options=N(Ui,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(ki);urlHandlingStrategy=N(Kf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new nr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof nr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=tR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>N(uB),providedIn:"root"})}return n})(),uB=(()=>{class n extends _R{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Vi?this.updateStateMemento():t instanceof rr?this.commitTransition(r):t instanceof Fu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Lu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof tr&&t.code!==Gt.SupersededByNewNavigation&&t.code!==Gt.Redirect?this.restoreHistory(r):t instanceof pa?this.restoreHistory(r,!0):t instanceof bn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jo(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yf(n,e){n.events.pipe(Bt(t=>t instanceof bn||t instanceof tr||t instanceof pa||t instanceof rr),le(t=>t instanceof bn||t instanceof rr?0:(t instanceof tr?t.code===Gt.Redirect||t.code===Gt.SupersededByNewNavigation:!1)?2:1),Bt(t=>t!==2),Dr(1)).subscribe(()=>{e()})}var lB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ft=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Xv);stateManager=N(_R);options=N(Ui,{optional:!0})||{};pendingTasks=N(Qn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Qf);urlSerializer=N(Zo);location=N(ki);urlHandlingStrategy=N(Kf);injector=N(Je);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(vR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(Xo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(zu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ge;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=tt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof tr&&r.code!==Gt.Redirect&&r.code!==Gt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bn)this.navigated=!0;else if(r instanceof ma){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||aB(i.source)},s);this.scheduleNavigation(a,da,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}uj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Ot)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return tt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=ZA(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return JA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Li(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,da,null,r)}navigate(t,r={skipLocationChange:!1}){return hB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(yi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},lB):r===!1?i=L({},dB):i=r,Li(t))return PA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return PA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return Yf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}var ji=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=je(null);get href(){return tt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Oe;applicationErrorHandler=N(Ot);options=N(Ui,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new lf("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof bn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Li(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(K(ft),K(Dn),pu("tabindex"),K(Ci),K(kr),K(Ln))};static \u0275dir=et({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&De("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&aa("href",i.reactiveHref(),kv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xi],replaceUrl:[2,"replaceUrl","replaceUrl",xi],routerLink:"routerLink"},features:[kn]})}return n})();var Wu=class{};var ER=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(t=>t instanceof bn),hi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=sa(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ce(i).pipe($s())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Y(null);let o=i.pipe(Ze(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Ce([o,s]).pipe($s())}else return o})}static \u0275fac=function(r){return new(r||n)(X(ft),X(Je),X(Wu),X(Wf))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IR=new $(""),fB=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=da;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof rr&&t.code===fa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ga))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ga(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Zv()};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function uE(n,...e){return Yt([{provide:Xo,multi:!0,useValue:n},[],{provide:Dn,useFactory:wR,deps:[ft]},{provide:vu,multi:!0,useFactory:bR},e.map(t=>t.\u0275providers)])}function wR(n){return n.routerState.root}function Ku(n,e){return{\u0275kind:n,\u0275providers:e}}function bR(){let n=N(We);return e=>{let t=n.get(Si);if(e!==t.components[0])return;let r=n.get(ft),i=n.get(DR);n.get(lE)===1&&r.initialNavigation(),n.get(SR,null,{optional:!0})?.setUpPreloading(),n.get(IR,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DR=new $("",{factory:()=>new Oe}),lE=new $("",{providedIn:"root",factory:()=>1});function TR(){let n=[{provide:Mv,useValue:!0},{provide:lE,useValue:0},rf(()=>{let e=N(We);return e.get(__,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(ft),o=e.get(DR);Yf(i,()=>{r(!0)}),e.get(Qf).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))})];return Ku(2,n)}function CR(){let n=[rf(()=>{N(ft).setUpLocationChangeListener()}),{provide:lE,useValue:2}];return Ku(3,n)}var SR=new $("");function AR(n){return Ku(0,[{provide:SR,useExisting:ER},{provide:Wu,useExisting:n}])}function RR(){return Ku(8,[tE,{provide:zu,useExisting:tE}])}function NR(n){Jn("NgRouterViewTransitions");let e=[{provide:oE,useValue:yR},{provide:sE,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ku(9,e)}var MR=[ki,{provide:Zo,useClass:Fi},ft,Jo,{provide:Dn,useFactory:wR,deps:[ft]},Wf,[]],Qu=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[MR,[],{provide:Xo,multi:!0,useValue:t},[],r?.errorHandler?{provide:aE,useValue:r.errorHandler}:[],{provide:Ui,useValue:r||{}},r?.useHash?gB():mB(),pB(),r?.preloadingStrategy?AR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?yB(r):[],r?.bindToComponentInputs?RR().\u0275providers:[],r?.enableViewTransitions?NR().\u0275providers:[],vB()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=hn({})}return n})();function pB(){return{provide:IR,useFactory:()=>{let n=N(bA),e=N(be),t=N(Ui),r=N(Qf),i=N(Zo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new fB(i,r,n,e,t)}}}function gB(){return{provide:Ln,useClass:w_}}function mB(){return{provide:Ln,useClass:pf}}function yB(n){return[n.initialNavigation==="disabled"?CR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?TR().\u0275providers:[]]}var cE=new $("");function vB(){return[{provide:cE,useFactory:bR},{provide:vu,multi:!0,useExisting:cE}]}var jR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(K(Ci),K(kr))};static \u0275dir=et({type:n})}return n})(),_B=(()=>{class n extends jR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=jo(n)))(i||n)}})();static \u0275dir=et({type:n,features:[En]})}return n})(),pE=new $("");var EB={provide:pE,useExisting:Rn(()=>$i),multi:!0};function IB(){let n=In()?In().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var wB=new $(""),$i=(()=>{class n extends jR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!IB())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(K(Ci),K(kr),K(wB,8))};static \u0275dir=et({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&De("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Mi([EB]),En]})}return n})();function gE(n){return n==null||mE(n)===0}function mE(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var rl=new $(""),cp=new $(""),bB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ur=class{static min(e){return DB(e)}static max(e){return TB(e)}static required(e){return BR(e)}static requiredTrue(e){return CB(e)}static email(e){return SB(e)}static minLength(e){return AB(e)}static maxLength(e){return RB(e)}static pattern(e){return NB(e)}static nullValidator(e){return Xf()}static compose(e){return WR(e)}static composeAsync(e){return KR(e)}};function DB(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function TB(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function BR(n){return gE(n.value)?{required:!0}:null}function CB(n){return n.value===!0?null:{required:!0}}function SB(n){return gE(n.value)||bB.test(n.value)?null:{email:!0}}function AB(n){return e=>{let t=e.value?.length??mE(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function RB(n){return e=>{let t=e.value?.length??mE(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function NB(n){if(!n)return Xf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(gE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Xf(n){return null}function $R(n){return n!=null}function HR(n){return Or(n)?Ce(n):n}function qR(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function zR(n,e){return e.map(t=>t(n))}function MB(n){return!n.validate}function GR(n){return n.map(e=>MB(e)?e:t=>e.validate(t))}function WR(n){if(!n)return null;let e=n.filter($R);return e.length==0?null:function(t){return qR(zR(t,e))}}function yE(n){return n!=null?WR(GR(n)):null}function KR(n){if(!n)return null;let e=n.filter($R);return e.length==0?null:function(t){let r=zR(t,e).map(HR);return Gm(r).pipe(le(qR))}}function vE(n){return n!=null?KR(GR(n)):null}function PR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function QR(n){return n._rawValidators}function YR(n){return n._rawAsyncValidators}function dE(n){return n?Array.isArray(n)?n:[n]:[]}function ep(n,e){return Array.isArray(n)?n.includes(e):n===e}function xR(n,e){let t=dE(e);return dE(n).forEach(i=>{ep(t,i)||t.push(i)}),t}function kR(n,e){return dE(e).filter(t=>!ep(n,t))}var tp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},jr=class extends tp{name;get formDirective(){return null}get path(){return null}},es=class extends tp{_parent=null;name=null;valueAccessor=null},np=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},PB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Zse=ee(L({},PB),{"[class.ng-submitted]":"isSubmitted"}),Ta=(()=>{class n extends np{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(es,2))};static \u0275dir=et({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Eu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[En]})}return n})(),Hi=(()=>{class n extends np{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(jr,10))};static \u0275dir=et({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Eu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[En]})}return n})();var Yu="VALID",Jf="INVALID",Ia="PENDING",Zu="DISABLED",Bi=class{},rp=class extends Bi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Xu=class extends Bi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},el=class extends Bi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},wa=class extends Bi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},ip=class extends Bi{source;constructor(e){super(),this.source=e}},nl=class extends Bi{source;constructor(e){super(),this.source=e}};function _E(n){return(up(n)?n.validators:n)||null}function xB(n){return Array.isArray(n)?yE(n):n||null}function EE(n,e){return(up(e)?e.asyncValidators:n)||null}function kB(n){return Array.isArray(n)?vE(n):n||null}function up(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ZR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function JR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var ba=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return tt(this.statusReactive)}set status(e){tt(()=>this.statusReactive.set(e))}_status=zo(()=>this.statusReactive());statusReactive=je(void 0);get valid(){return this.status===Yu}get invalid(){return this.status===Jf}get pending(){return this.status==Ia}get disabled(){return this.status===Zu}get enabled(){return this.status!==Zu}errors;get pristine(){return tt(this.pristineReactive)}set pristine(e){tt(()=>this.pristineReactive.set(e))}_pristine=zo(()=>this.pristineReactive());pristineReactive=je(!0);get dirty(){return!this.pristine}get touched(){return tt(this.touchedReactive)}set touched(e){tt(()=>this.touchedReactive.set(e))}_touched=zo(()=>this.touchedReactive());touchedReactive=je(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kR(e,this._rawAsyncValidators))}hasValidator(e){return ep(this._rawValidators,e)}hasAsyncValidator(e){return ep(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new el(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new el(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xu(!0,r))}markAsPending(e={}){this.status=Ia;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this.errors=null,this._forEachChild(i=>{i.disable(ee(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rp(this.value,r)),this._events.next(new wa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yu,this._forEachChild(r=>{r.enable(ee(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yu||this.status===Ia)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rp(this.value,t)),this._events.next(new wa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zu:Yu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ia,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=HR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new wa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Zu:this.errors?Jf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ia)?Ia:this._anyControlsHaveStatus(Jf)?Jf:Yu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Xu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new el(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){up(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kB(this._rawAsyncValidators)}},Da=class extends ba{constructor(e,t,r){super(_E(t),EE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){JR(this,!0,e),Object.keys(e).forEach(r=>{ZR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new nl(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var hE=class extends Da{};var il=new $("",{providedIn:"root",factory:()=>lp}),lp="always";function XR(n,e){return[...e.path,n]}function op(n,e,t=lp){IE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),FB(n,e),VB(n,e),LB(n,e),OB(n,e)}function OR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ap(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function OB(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function IE(n,e){let t=QR(n);e.validator!==null?n.setValidators(PR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=YR(n);e.asyncValidator!==null?n.setAsyncValidators(PR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();sp(e._rawValidators,i),sp(e._rawAsyncValidators,i)}function ap(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=QR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=YR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return sp(e._rawValidators,r),sp(e._rawAsyncValidators,r),t}function FB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&eN(n,e)})}function LB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&eN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function eN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VB(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function tN(n,e){n==null,IE(n,e)}function UB(n,e){return ap(n,e)}function nN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function jB(n){return Object.getPrototypeOf(n.constructor)===_B}function rN(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function iN(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===$i?t=o:jB(o)?r=o:i=o}),i||r||t||null}function BB(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var $B={provide:jr,useExisting:Rn(()=>ol)},Ju=Promise.resolve(),ol=(()=>{class n extends jr{callSetDisabledState;get submitted(){return tt(this.submittedReactive)}_submitted=zo(()=>this.submittedReactive());submittedReactive=je(!1);_directives=new Set;form;ngSubmit=new Ke;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Da({},yE(t),vE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ju.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),op(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ju.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ju.then(()=>{let r=this._findContainer(t.path),i=new Da({});tN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ju.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ju.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),rN(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new ip(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(K(rl,10),K(cp,10),K(il,8))};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&De("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Mi([$B]),En]})}return n})();function FR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function LR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var tl=class extends ba{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(_E(t),EE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),up(t)&&(t.nonNullable||t.initialValueIsDefault)&&(LR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new nl(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){LR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var HB=n=>n instanceof tl;var qB={provide:es,useExisting:Rn(()=>wE)},VR=Promise.resolve(),wE=(()=>{class n extends es{_changeDetectorRef;callSetDisabledState;control=new tl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ke;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=iN(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),nN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){op(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){VR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&xi(r);VR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?XR(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(K(jr,9),K(rl,10),K(cp,10),K(pE,10),K(Pi,8),K(il,8))};static \u0275dir=et({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Mi([qB]),En,kn]})}return n})();var qi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var oN=new $("");var zB={provide:jr,useExisting:Rn(()=>sl)},sl=(()=>{class n extends jr{callSetDisabledState;get submitted(){return tt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=zo(()=>this._submittedReactive());_submittedReactive=je(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ke;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ap(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return op(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){OR(t.control||null,t,!1),BB(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),rN(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ip(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(OR(r||null,t),HB(i)&&(op(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);tN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&UB(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){IE(this.form,this),this._oldForm&&ap(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(K(rl,10),K(cp,10),K(il,8))};static \u0275dir=et({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&De("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Mi([zB]),En,kn]})}return n})();var GB={provide:es,useExisting:Rn(()=>al)},al=(()=>{class n extends es{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ke;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=iN(this,o)}ngOnChanges(t){this._added||this._setUpControl(),nN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return XR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(K(jr,13),K(rl,10),K(cp,10),K(pE,10),K(oN,8))};static \u0275dir=et({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Mi([GB]),En,kn]})}return n})();var WB=(()=>{class n{_validator=Xf;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,features:[kn]})}return n})();var KB={provide:rl,useExisting:Rn(()=>bE),multi:!0};var bE=(()=>{class n extends WB{required;inputName="required";normalizeInput=xi;createValidator=t=>BR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jo(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&aa("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Mi([KB]),En]})}return n})();var sN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=hn({})}return n})(),fE=class extends ba{constructor(e,t,r){super(_E(t),EE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){JR(this,!1,e),e.forEach((r,i)=>{ZR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new nl(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function UR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var dp=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return UR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Da(i,o)}record(t,r=null){let i=this._reduceControls(t);return new hE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(UR(r)?o=r:(o.validators=r,o.asyncValidators=i),new tl(t,ee(L({},o),{nonNullable:!0}))):new tl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new fE(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof tl)return t;if(t instanceof ba)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:il,useValue:t.callSetDisabledState??lp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=hn({imports:[sN]})}return n})(),hp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:oN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:il,useValue:t.callSetDisabledState??lp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=hn({imports:[sN]})}return n})();var aN=()=>{};var lN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},QB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},pp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new TE;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},TE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},YB=function(n){let e=lN(n);return pp.encodeByteArray(e,!0)},ul=function(n){return YB(n).replace(/\./g,"")},gp=function(n){try{return pp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ZB=()=>SE().__FIREBASE_DEFAULTS__,JB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&gp(n[1]);return e&&JSON.parse(e)},mp=()=>{try{return aN()||ZB()||JB()||XB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AE=n=>{var e,t;return(t=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yp=n=>{let e=AE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},RE=()=>{var n;return(n=mp())===null||n===void 0?void 0:n.config},NE=n=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${n}`]};var ts=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function jn(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ca(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function vp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ul(JSON.stringify(t)),ul(JSON.stringify(s)),""].join(".")}var cl={};function e$(){let n={prod:[],emulator:[]};for(let e of Object.keys(cl))cl[e]?n.emulator.push(e):n.prod.push(e);return n}function t$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var cN=!1;function Sa(n,e){if(typeof window>"u"||typeof document>"u"||!jn(window.location.host)||cl[n]===e||cl[n]||cN)return;cl[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=e$().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{cN=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=t$(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let z=g.element;a(z),h(R,M);let te=l();u(W,F),z.append(W,T,R,te),document.body.appendChild(z)}o?(T.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function n$(){var n;let e=(n=mp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gN(){let n=pt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mN(){return!n$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ll(){try{return typeof indexedDB=="object"}catch{return!1}}function yN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var r$="FirebaseError",Wt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=r$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?i$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wt(i,a,r)}};function i$(n,e){return n.replace(o$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var o$=/\{\$([^}]+)}/g;function vN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ir(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(uN(o)&&uN(s)){if(!ir(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function uN(n){return n!==null&&typeof n=="object"}function dl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Aa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ra(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _N(n,e){let t=new CE(n,e);return t.subscribe.bind(t)}var CE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");s$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=DE),i.error===void 0&&(i.error=DE),i.complete===void 0&&(i.complete=DE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function s$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function DE(){}var nae=14400*1e3;function Be(n){return n&&n._delegate?n._delegate:n}var Dt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ns="[DEFAULT]";var ME=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ts;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c$(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function a$(n){return n===ns?void 0:n}function c$(n){return n.instantiationMode==="EAGER"}var _p=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ME(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var u$=[],pe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(pe||{}),l$={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},d$=pe.INFO,h$={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},f$=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=h$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},or=class{constructor(e){this.name=e,this._logLevel=d$,this._logHandler=f$,this._userLogHandler=null,u$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var p$=(n,e)=>e.some(t=>n instanceof t),EN,IN;function g$(){return EN||(EN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m$(){return IN||(IN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wN=new WeakMap,xE=new WeakMap,bN=new WeakMap,PE=new WeakMap,OE=new WeakMap;function y$(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(sr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&wN.set(t,n)}).catch(()=>{}),OE.set(e,n),e}function v$(n){if(xE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xE.set(n,e)}var kE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DN(n){kE=n(kE)}function _$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ep(this),e,...t);return bN.set(r,e.sort?e.sort():[e]),sr(r)}:m$().includes(n)?function(...e){return n.apply(Ep(this),e),sr(wN.get(this))}:function(...e){return sr(n.apply(Ep(this),e))}}function E$(n){return typeof n=="function"?_$(n):(n instanceof IDBTransaction&&v$(n),p$(n,g$())?new Proxy(n,kE):n)}function sr(n){if(n instanceof IDBRequest)return y$(n);if(PE.has(n))return PE.get(n);let e=E$(n);return e!==n&&(PE.set(n,e),OE.set(e,n)),e}var Ep=n=>OE.get(n);function CN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=sr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sr(s.result),u.oldVersion,u.newVersion,sr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var I$=["get","getKey","getAll","getAllKeys","count"],w$=["put","add","delete","clear"],FE=new Map;function TN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(FE.get(e))return FE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=w$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I$.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return FE.set(e,o),o}DN(n=>ee(L({},n),{get:(e,t,r)=>TN(e,t)||n.get(e,t,r),has:(e,t)=>!!TN(e,t)||n.has(e,t)}));var VE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function b$(n){let e=n.getComponent();return e?.type==="VERSION"}var UE="@firebase/app",SN="0.13.2";var Br=new or("@firebase/app"),D$="@firebase/app-compat",T$="@firebase/analytics-compat",C$="@firebase/analytics",S$="@firebase/app-check-compat",A$="@firebase/app-check",R$="@firebase/auth",N$="@firebase/auth-compat",M$="@firebase/database",P$="@firebase/data-connect",x$="@firebase/database-compat",k$="@firebase/functions",O$="@firebase/functions-compat",F$="@firebase/installations",L$="@firebase/installations-compat",V$="@firebase/messaging",U$="@firebase/messaging-compat",j$="@firebase/performance",B$="@firebase/performance-compat",$$="@firebase/remote-config",H$="@firebase/remote-config-compat",q$="@firebase/storage",z$="@firebase/storage-compat",G$="@firebase/firestore",W$="@firebase/ai",K$="@firebase/firestore-compat",Q$="firebase",Y$="11.10.0";var jE="[DEFAULT]",Z$={[UE]:"fire-core",[D$]:"fire-core-compat",[C$]:"fire-analytics",[T$]:"fire-analytics-compat",[A$]:"fire-app-check",[S$]:"fire-app-check-compat",[R$]:"fire-auth",[N$]:"fire-auth-compat",[M$]:"fire-rtdb",[P$]:"fire-data-connect",[x$]:"fire-rtdb-compat",[k$]:"fire-fn",[O$]:"fire-fn-compat",[F$]:"fire-iid",[L$]:"fire-iid-compat",[V$]:"fire-fcm",[U$]:"fire-fcm-compat",[j$]:"fire-perf",[B$]:"fire-perf-compat",[$$]:"fire-rc",[H$]:"fire-rc-compat",[q$]:"fire-gcs",[z$]:"fire-gcs-compat",[G$]:"fire-fst",[K$]:"fire-fst-compat",[W$]:"fire-vertex","fire-js":"fire-js",[Q$]:"fire-js-all"};var hl=new Map,J$=new Map,BE=new Map;function AN(n,e){try{n.container.addComponent(e)}catch(t){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cn(n){let e=n.name;if(BE.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;BE.set(e,n);for(let t of hl.values())AN(t,n);for(let t of J$.values())AN(t,n);return!0}function Wi(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ft(n){return n==null?!1:n.settings!==void 0}var X$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new Un("app","Firebase",X$);var $E=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}};var ar=Y$;function zE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(t||(t=RE()),!t)throw Gi.create("no-options");let o=hl.get(i);if(o){if(ir(t,o.options)&&ir(r,o.config))return o;throw Gi.create("duplicate-app",{appName:i})}let s=new _p(i);for(let u of BE.values())s.addComponent(u);let a=new $E(t,r,s);return hl.set(i,a),a}function $r(n=jE){let e=hl.get(n);if(!e&&n===jE&&RE())return zE();if(!e)throw Gi.create("no-app",{appName:n});return e}function Ip(){return Array.from(hl.values())}function ke(n,e,t){var r;let i=(r=Z$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}cn(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var eH="firebase-heartbeat-database",tH=1,fl="firebase-heartbeat-store",LE=null;function PN(){return LE||(LE=CN(eH,tH,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),LE}function nH(n){return v(this,null,function*(){try{let t=(yield PN()).transaction(fl),r=yield t.objectStore(fl).get(xN(n));return yield t.done,r}catch(e){if(e instanceof Wt)Br.warn(e.message);else{let t=Gi.create("idb-get",{originalErrorMessage:e?.message});Br.warn(t.message)}}})}function RN(n,e){return v(this,null,function*(){try{let r=(yield PN()).transaction(fl,"readwrite");yield r.objectStore(fl).put(e,xN(n)),yield r.done}catch(t){if(t instanceof Wt)Br.warn(t.message);else{let r=Gi.create("idb-set",{originalErrorMessage:t?.message});Br.warn(r.message)}}})}function xN(n){return`${n.name}!${n.options.appId}`}var rH=1024,iH=30,HE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new qE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>iH){let s=sH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Br.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=NN(),{heartbeatsToSend:r,unsentEntries:i}=oH(this._heartbeatsCache.heartbeats),o=ul(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Br.warn(t),""}})}};function NN(){return new Date().toISOString().substring(0,10)}function oH(n,e=rH){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),MN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),MN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var qE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return ll()?yN().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield nH(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function MN(n){return ul(JSON.stringify({version:2,heartbeats:n})).length}function sH(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function aH(n){cn(new Dt("platform-logger",e=>new VE(e),"PRIVATE")),cn(new Dt("heartbeat",e=>new HE(e),"PRIVATE")),ke(UE,SN,n),ke(UE,SN,"esm2017"),ke("fire-js","")}aH("");var cH="firebase",uH="11.10.0";ke(cH,uH,"app");function kN(n){n===void 0&&(n=N(We));let e=n.get(Xs);return t=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ki=new pi("ANGULARFIRE2_VERSION");function pl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ma=(n,e)=>{let t=e?[e]:Ip(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Na=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Na||{}),ON=m_()&&typeof Zone<"u"?Na.WARN:Na.SILENT;var wp=class{zone;delegate;constructor(e,t=Hm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Qi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(be);this.outsideAngular=t.runOutsideAngular(()=>new wp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new wp(typeof Zone>"u"?void 0:Zone.current,$m))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FN=!1;function lH(n,e){!FN&&(ON>Na.SILENT||m_())&&(FN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ON>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function dH(n){let e=N(be,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function rs(n){let e=N(be,{optional:!0});return e?e.run(()=>n()):n()}var hH=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),nt(t,()=>rs(()=>n.apply(void 0,r)))),Tt=(n,e,t)=>(t||=e?Na.WARN:Na.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(Qi),s=N(Xs),a=N(Je)}catch{return lH(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=rs(()=>s.add())),i[l]=hH(i[l],r,a));let u=dH(()=>n.apply(this,i));return e?u instanceof ne?u.pipe(di(o.outsideAngular),li(o.insideAngular),kN(a)):u instanceof Promise?rs(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>nt(a,()=>rs(()=>h(g))),g=>nt(a,()=>rs(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:rs(()=>u):u instanceof ne?u.pipe(di(o.outsideAngular),li(o.insideAngular)):rs(()=>u)});var Hr=class{constructor(e){return e}},is=class{constructor(){return Ip()}};function fH(n){return n&&n.length===1?n[0]:new Hr($r())}var GE=new $("angularfire2._apps"),pH={provide:Hr,useFactory:fH,deps:[[new rn,GE]]},gH={provide:is,deps:[[new rn,GE]]};function mH(n){return(e,t)=>{let r=t.get(Bo);ke("angularfire",Ki.full,"core"),ke("angularfire",Ki.full,"app"),ke("angular",cy.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Hr(i)}}function LN(n,...e){return Yt([pH,gH,{provide:GE,useFactory:mH(n),multi:!0,deps:[be,We,Qi,...e]}])}var VN=Tt(zE,!0);var yH=new Map,vH={activated:!1,tokenObservers:[]},_H={initialized:!1,enabled:!1};function Bn(n){return yH.get(n)||Object.assign({},vH)}function $N(){return _H}var EH="https://content-firebaseappcheck.googleapis.com/v1";var IH="exchangeDebugToken",UN={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},ice=1440*60*1e3;var QE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new ts,this.pending.promise.catch(t=>{}),yield wH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ts,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function wH(n){return new Promise(e=>{setTimeout(e,n)})}var bH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Yi=new Un("appCheck","AppCheck",bH);function HN(n){if(!Bn(n).activated)throw Yi.create("use-before-activation",{appName:n.name})}function qN(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Yi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Yi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Yi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function zN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${EH}/projects/${t}/apps/${r}:${IH}?key=${i}`,body:{debug_token:e}}}var DH="firebase-app-check-database",TH=1,YE="firebase-app-check-store";var bp=null;function CH(){return bp||(bp=new Promise((n,e)=>{try{let t=indexedDB.open(DH,TH);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Yi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(YE,{keyPath:"compositeKey"})}}}catch(t){e(Yi.create("storage-open",{originalErrorMessage:t?.message}))}}),bp)}function SH(n,e){return AH(RH(n),e)}function AH(n,e){return v(this,null,function*(){let r=(yield CH()).transaction(YE,"readwrite"),o=r.objectStore(YE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Yi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function RH(n){return`${n.options.appId}-${n.name}`}var gl=new or("@firebase/app-check");function WE(n,e){return ll()?SH(n,e).catch(t=>{gl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function GN(){return $N().enabled}function WN(){return v(this,null,function*(){let n=$N();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var NH={error:"UNKNOWN_ERROR"};function MH(n){return pp.encodeString(JSON.stringify(n),!1)}function ZE(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;HN(r);let i=Bn(r),o=i.token,s;if(o&&!ml(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ml(l)?o=l:yield WE(r,void 0))}if(!e&&o&&ml(o))return{token:o.token};let a=!1;if(GN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qN(zN(r,yield WN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield WE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?gl.warn(l.message):t&&gl.error(l),KE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Bn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?gl.warn(l.message):t&&gl.error(l),s=l}let u;return o?s?ml(o)?u={token:o.token,internalError:s}:u=KE(s):(u={token:o.token},i.token=o,yield WE(r,o)):u=KE(s),a&&OH(r,u),u})}function PH(n){return v(this,null,function*(){let e=n.app;HN(e);let{provider:t}=Bn(e);if(GN()){let r=yield WN(),{token:i}=yield qN(zN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function xH(n,e,t,r){let{app:i}=n,o=Bn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ml(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),jN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>jN(n))}function KN(n,e){let t=Bn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function jN(n){let{app:e}=n,t=Bn(e),r=t.tokenRefresher;r||(r=kH(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kH(n){let{app:e}=n;return new QE(()=>v(null,null,function*(){let t=Bn(e),r;if(t.token?r=yield ZE(n,!0):r=yield ZE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Bn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},UN.RETRIAL_MIN_WAIT,UN.RETRIAL_MAX_WAIT)}function OH(n,e){let t=Bn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ml(n){return n.expireTimeMillis-Date.now()>0}function KE(n){return{token:MH(NH),error:n}}var JE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Bn(this.app);for(let t of e)KN(this.app,t.next);return Promise.resolve()}};function FH(n,e){return new JE(n,e)}function LH(n){return{getToken:e=>ZE(n,e),getLimitedUseToken:()=>PH(n),addTokenListener:e=>xH(n,"INTERNAL",e),removeTokenListener:e=>KN(n.app,e)}}var VH="@firebase/app-check",UH="0.10.1";var jH="app-check",BN="app-check-internal";function BH(){cn(new Dt(jH,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return FH(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BN).initialize()})),cn(new Dt(BN,n=>{let e=n.getProvider("app-check").getImmediate();return LH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ke(VH,UH)}BH();var $H="app-check";var Pa=class{constructor(){return Ma($H)}};var HH=["localhost","0.0.0.0","127.0.0.1"],yce=typeof window<"u"&&HH.includes(window.location.hostname);function lM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var dM=lM,hM=new Un("auth","Firebase",lM());var Rp=new or("@firebase/auth");function qH(n,...e){Rp.logLevel<=pe.WARN&&Rp.warn(`Auth (${ar}): ${n}`,...e)}function Tp(n,...e){Rp.logLevel<=pe.ERROR&&Rp.error(`Auth (${ar}): ${n}`,...e)}function ur(n,...e){throw bI(n,...e)}function os(n,...e){return bI(n,...e)}function fM(n,e,t){let r=Object.assign(Object.assign({},dM()),{[e]:t});return new Un("auth","Firebase",r).create(e,{appName:n.name})}function Gr(n){return fM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hM.create(n,...e)}function J(n,e,...t){if(!n)throw bI(e,...t)}function qr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Tp(e),new Error(e)}function Xi(n,e){n||qr(e)}function nI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zH(){return QN()==="http:"||QN()==="https:"}function QN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function GH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zH()||fN()||"connection"in navigator)?navigator.onLine:!0}function WH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ss=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xi(t>e,"Short delay should be less than long delay!"),this.isMobile=dN()||pN()}get(){return GH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function DI(n,e){Xi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Np=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var KH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var QH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YH=new ss(3e4,6e4);function eo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wr(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return pM(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=dl(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return hN()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&jn(n.emulatorConfig.host)&&(y.credentials="include"),Np.fetch()(yield gM(n,n.config.apiHost,t,p),y)}))})}function pM(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},KH),e);try{let i=new rI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Dp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Dp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Dp(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw fM(n,h,l);ur(n,h)}}catch(i){if(i instanceof Wt)throw i;ur(n,"network-request-failed",{message:String(i)})}})}function Dl(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Wr(n,e,t,r,i);return"mfaPendingCredential"in l&&ur(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function gM(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?DI(n.config,i):`${n.config.apiScheme}://${i}`;return QH.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function ZH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var rI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),YH.get())})}};function Dp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=os(n,e,r);return i.customData._tokenResponse=t,i}function YN(n){return n!==void 0&&n.enterprise!==void 0}var iI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function JH(n,e){return v(this,null,function*(){return Wr(n,"GET","/v2/recaptchaConfig",eo(n,e))})}function XH(n,e){return v(this,null,function*(){return Wr(n,"POST","/v1/accounts:delete",e)})}function Mp(n,e){return v(this,null,function*(){return Wr(n,"POST","/v1/accounts:lookup",e)})}function vl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function TI(n,e=!1){return v(this,null,function*(){let t=Be(n),r=yield t.getIdToken(e),i=CI(r);J(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:vl(XE(i.auth_time)),issuedAtTime:vl(XE(i.iat)),expirationTime:vl(XE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function XE(n){return Number(n)*1e3}function CI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{let i=gp(t);return i?JSON.parse(i):(Tp("Failed to decode base64 JWT payload"),null)}catch(i){return Tp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ZN(n){let e=CI(n);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xa(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Wt&&e4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function e4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var oI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var El=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Pp(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield xa(n,Mp(t,{idToken:r}));J(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mM(o.providerUserInfo):[],a=t4(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new El(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function SI(n){return v(this,null,function*(){let e=Be(n);yield Pp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function t4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mM(n){return n.map(e=>{var{providerId:t}=e,r=qm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function n4(n,e){return v(this,null,function*(){let t=yield pM(n,{},()=>v(null,null,function*(){let r=dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield gM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&jn(n.emulatorConfig.host)&&(u.credentials="include"),Np.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function r4(n,e){return v(this,null,function*(){return Wr(n,"POST","/v2/accounts:revokeToken",eo(n,e))})}var _l=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){J(e.length!==0,"internal-error");let t=ZN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield n4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return qr("not implemented")}};function Zi(n,e){J(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ji=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new El(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield xa(this,this.stsTokenManager.getToken(this.auth,e));return J(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return TI(this,e)}reload(){return SI(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Pp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Ft(this.auth.app))return Promise.reject(Gr(this.auth));let e=yield this.getIdToken();return yield xa(this,XH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:te,isAnonymous:qe,providerData:ge,stsTokenManager:b}=t;J(z&&b,e,"internal-error");let _=_l.fromJSON(this.name,b);J(typeof z=="string",e,"internal-error"),Zi(p,e.name),Zi(g,e.name),J(typeof te=="boolean",e,"internal-error"),J(typeof qe=="boolean",e,"internal-error"),Zi(y,e.name),Zi(T,e.name),Zi(M,e.name),Zi(R,e.name),Zi(F,e.name),Zi(W,e.name);let E=new n({uid:z,auth:e,email:g,emailVerified:te,displayName:p,isAnonymous:qe,photoURL:T,phoneNumber:y,tenantId:M,stsTokenManager:_,createdAt:F,lastLoginAt:W});return ge&&Array.isArray(ge)&&(E.providerData=ge.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new _l;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?mM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new _l;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new El(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var JN=new Map;function zr(n){Xi(n instanceof Function,"Expected a class definition");let e=JN.get(n);return e?(Xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JN.set(n,e),e)}var i4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),sI=i4;function Cp(n,e,t){return`firebase:${n}:${e}:${t}`}var xp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Cp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Mp(this.auth,{idToken:e}).catch(()=>{});return t?Ji._fromGetAccountInfoResponse(this.auth,t,e):null}return Ji._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(zr(sI),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||zr(sI),s=Cp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Mp(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Ji._fromGetAccountInfoResponse(e,g,h)}else p=Ji._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function XN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wM(e))return"Blackberry";if(bM(e))return"Webos";if(vM(e))return"Safari";if((e.includes("chrome/")||_M(e))&&!e.includes("edge/"))return"Chrome";if(IM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function yM(n=pt()){return/firefox\//i.test(n)}function vM(n=pt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _M(n=pt()){return/crios\//i.test(n)}function EM(n=pt()){return/iemobile/i.test(n)}function IM(n=pt()){return/android/i.test(n)}function wM(n=pt()){return/blackberry/i.test(n)}function bM(n=pt()){return/webos/i.test(n)}function AI(n=pt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function o4(n=pt()){var e;return AI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s4(){return gN()&&document.documentMode===10}function DM(n=pt()){return AI(n)||IM(n)||bM(n)||wM(n)||/windows phone/i.test(n)||EM(n)}function TM(n,e=[]){let t;switch(n){case"Browser":t=XN(pt());break;case"Worker":t=`${XN(pt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ar}/${r}`}var aI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function a4(t){return v(this,arguments,function*(n,e={}){return Wr(n,"GET","/v2/passwordPolicy",eo(n,e))})}var c4=6,cI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:c4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var uI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kp(this),this.idTokenSubscription=new kp(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield xp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield Mp(this,{idToken:e}),r=yield Ji._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Ft(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Pp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=WH()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Ft(this.app))return Promise.reject(Gr(this));let t=e?Be(e):null;return t&&J(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Ft(this.app)?Promise.reject(Gr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ft(this.app)?Promise.reject(Gr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(zr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield a4(this),t=new cI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield r4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&zr(e)||this._popupRedirectResolver;J(t,this,"argument-error"),this.redirectPersistenceManager=yield xp.create(this,[zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&qH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function cs(n){return Be(n)}var kp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_N(t=>this.observer=t)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bp={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u4(n){Bp=n}function CM(n){return Bp.loadJS(n)}function l4(){return Bp.recaptchaEnterpriseScript}function d4(){return Bp.gapiScript}function SM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var lI=class{constructor(){this.enterprise=new dI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},dI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var h4="recaptcha-enterprise",AM="NO_RECAPTCHA",hI=class{constructor(e){this.type=h4,this.auth=cs(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){JH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new iI(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;YN(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(AM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&YN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=l4();u.length!==0&&(u+=a),CM(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function yl(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new hI(n),s;if(i)s=AM;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function fI(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield yl(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield yl(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield yl(n,e,t);return r(n,a).catch(u=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield yl(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield yl(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function RI(n,e){let t=Wi(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ir(o,e??{}))return i;ur(i,"already-initialized")}return t.initialize({options:e})}function f4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(zr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function NI(n,e,t){let r=cs(n);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=RM(e),{host:s,port:a}=p4(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(ir(l,r.config.emulator)&&ir(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,jn(s)?(Ca(`${o}//${s}${u}`),Sa("Auth",!0)):i||g4()}function RM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function p4(n){let e=RM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:eM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:eM(s)}}}function eM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function g4(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Il=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}};function m4(n,e){return v(this,null,function*(){return Wr(n,"POST","/v1/accounts:signUp",e)})}function y4(n,e){return v(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithPassword",eo(n,e))})}function v4(n,e){return v(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithEmailLink",eo(n,e))})}function _4(n,e){return v(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithEmailLink",eo(n,e))})}var wl=class n extends Il{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fI(e,t,"signInWithPassword",y4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v4(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fI(e,r,"signUpPassword",m4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _4(e,{idToken:t,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function eI(n,e){return v(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithIdp",eo(n,e))})}function E4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I4(n){let e=Aa(Ra(n)).link,t=e?Aa(Ra(e)).deep_link_id:null,r=Aa(Ra(n)).deep_link_id;return(r?Aa(Ra(r)).link:null)||r||t||e||n}var Op=class n{constructor(e){var t,r,i,o,s,a;let u=Aa(Ra(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=E4((i=u.mode)!==null&&i!==void 0?i:null);J(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=I4(e);try{return new n(t)}catch{return null}}};var NM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return wl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Op.parseLink(r);return J(i,"argument-error"),wl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Fp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var pI=class extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function w4(n,e){return v(this,null,function*(){return Dl(n,"POST","/v1/accounts:signUp",eo(n,e))})}var ka=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Ji._fromIdTokenResponse(e,r,i),s=tM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=tM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function tM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var gI=class n extends Wt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function MM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gI._fromErrorAndOperation(n,o,e,r):o})}function b4(n,e,t=!1){return v(this,null,function*(){let r=yield xa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ka._forOperation(n,"link",r)})}function D4(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Ft(r.app))return Promise.reject(Gr(r));let i="reauthenticate";try{let o=yield xa(n,MM(r,i,e,n),t);J(o.idToken,r,"internal-error");let s=CI(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(n.uid===a,r,"user-mismatch"),ka._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ur(r,"user-mismatch"),o}})}function PM(n,e,t=!1){return v(this,null,function*(){if(Ft(n.app))return Promise.reject(Gr(n));let r="signIn",i=yield MM(n,r,e),o=yield ka._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function MI(n,e){return v(this,null,function*(){return PM(cs(n),e)})}function xM(n){return v(this,null,function*(){let e=cs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function PI(n,e,t){return v(this,null,function*(){if(Ft(n.app))return Promise.reject(Gr(n));let r=cs(n),s=yield fI(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w4,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&xM(n),u}),a=yield ka._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function xI(n,e,t){return Ft(n.app)?Promise.reject(Gr(n)):MI(Be(n),NM.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&xM(n),r}))}function T4(n,e){return v(this,null,function*(){return Wr(n,"POST","/v1/accounts:update",e)})}function kI(r,i){return v(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Be(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield xa(o,T4(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Tl(n,e,t,r){return Be(n).onIdTokenChanged(e,t,r)}function OI(n,e,t){return Be(n).beforeAuthStateChanged(e,t)}function Cl(n){return Be(n).signOut()}var Lp="__sak";var Vp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var C4=1e3,S4=10,A4=(()=>{class n extends Vp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);s4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,S4):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},C4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield ci(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield ci(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield ci(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),kM=A4;var R4=(()=>{class n extends Vp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),FI=R4;function N4(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var M4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield N4(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function OM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var mI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=OM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function cr(){return window}function P4(n){cr().location.href=n}function FM(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}function x4(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function k4(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function O4(){return FM()?self:null}var LM="firebaseLocalStorageDb",F4=1,Up="firebaseLocalStorage",VM="fbase_key",as=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function $p(n,e){return n.transaction([Up],e?"readwrite":"readonly").objectStore(Up)}function L4(){let n=indexedDB.deleteDatabase(LM);return new as(n).toPromise()}function yI(){let n=indexedDB.open(LM,F4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Up,{keyPath:VM})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Up)?e(r):(r.close(),yield L4(),e(yield yI()))}))})}function nM(n,e,t){return v(this,null,function*(){let r=$p(n,!0).put({[VM]:e,value:t});return new as(r).toPromise()})}function V4(n,e){return v(this,null,function*(){let t=$p(n,!1).get(e),r=yield new as(t).toPromise();return r===void 0?null:r.value})}function rM(n,e){let t=$p(n,!0).delete(e);return new as(t).toPromise()}var U4=800,j4=3,B4=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield yI(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>j4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return FM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=M4._getInstance(O4()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield x4(),!this.activeServiceWorker)return;this.sender=new mI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||k4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield yI();return yield nM(t,Lp,"1"),yield rM(t,Lp),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>nM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>V4(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>rM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=$p(o,!1).getAll();return new as(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),UM=B4;var Tce=SM("rcb"),Cce=new ss(3e4,6e4);function $4(n,e){return e?zr(e):(J(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var bl=class extends Il{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function H4(n){return PM(n.auth,new bl(n),n.bypassAuthState)}function q4(n){let{auth:e,user:t}=n;return J(t,e,"internal-error"),D4(t,new bl(n),n.bypassAuthState)}function z4(n){return v(this,null,function*(){let{auth:e,user:t}=n;return J(t,e,"internal-error"),b4(t,new bl(n),n.bypassAuthState)})}var vI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H4;case"linkViaPopup":case"linkViaRedirect":return z4;case"reauthViaPopup":case"reauthViaRedirect":return q4;default:ur(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Sce=new ss(2e3,1e4);var G4="pendingRedirect",Sp=new Map,_I=class n extends vI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Sp.get(this.auth._key());if(!e){try{let r=(yield W4(this.resolver,this.auth))?yield ci(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sp.set(this.auth._key(),e)}return this.bypassAuthState||Sp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return ci(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ci(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function W4(n,e){return v(this,null,function*(){let t=Y4(e),r=Q4(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function K4(n,e){Sp.set(n._key(),e)}function Q4(n){return zr(n._redirectPersistence)}function Y4(n){return Cp(G4,n.config.apiKey,n.name)}function Z4(n,e,t=!1){return v(this,null,function*(){if(Ft(n.app))return Promise.reject(Gr(n));let r=cs(n),i=$4(r,e),s=yield new _I(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var J4=600*1e3,EI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!jM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(os(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J4&&this.cachedEventUids.clear(),this.cachedEventUids.has(iM(e))}saveEventToCache(e){this.cachedEventUids.add(iM(e)),this.lastProcessedEventTime=Date.now()}};function iM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function X4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jM(n);default:return!1}}function e3(t){return v(this,arguments,function*(n,e={}){return Wr(n,"GET","/v1/projects",e)})}var t3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n3=/^https?/;function r3(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield e3(n);for(let t of e)try{if(i3(t))return}catch{}ur(n,"unauthorized-domain")})}function i3(n){let e=nI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!n3.test(t))return!1;if(t3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var o3=new ss(3e4,6e4);function oM(){let n=cr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function s3(n){return new Promise((e,t)=>{var r,i,o;function s(){oM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oM(),t(os(n,"network-request-failed"))},timeout:o3.get()})}if(!((i=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=cr().gapi)===null||o===void 0)&&o.load)s();else{let a=SM("iframefcb");return cr()[a]=()=>{gapi.load?s():t(os(n,"network-request-failed"))},CM(`${d4()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Ap=null,e})}var Ap=null;function a3(n){return Ap=Ap||s3(n),Ap}var c3=new ss(5e3,15e3),u3="__/auth/iframe",l3="emulator/auth/iframe",d3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f3(n){let e=n.config;J(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?DI(e,l3):`https://${n.config.authDomain}/${u3}`,r={apiKey:e.apiKey,appName:n.name,v:ar},i=h3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dl(r).slice(1)}`}function p3(n){return v(this,null,function*(){let e=yield a3(n),t=cr().gapi;return J(t,n,"internal-error"),e.open({where:document.body,url:f3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d3,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=os(n,"network-request-failed"),a=cr().setTimeout(()=>{o(s)},c3.get());function u(){cr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var g3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m3=500,y3=600,v3="_blank",_3="http://localhost",jp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function E3(n,e,t,r=m3,i=y3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},g3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=pt().toLowerCase();t&&(a=_M(l)?v3:t),yM(l)&&(e=e||_3,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,T])=>`${g}${y}=${T},`,"");if(o4(l)&&a!=="_self")return I3(e||"",a),new jp(null);let p=window.open(e||"",a,h);J(p,n,"popup-blocked");try{p.focus()}catch{}return new jp(p)}function I3(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var w3="__/auth/handler",b3="emulator/auth/handler",D3=encodeURIComponent("fac");function sM(n,e,t,r,i,o){return v(this,null,function*(){J(n.config.authDomain,n,"auth-domain-config-required"),J(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ar,eventId:i};if(e instanceof Fp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",vN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof pI){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${D3}=${encodeURIComponent(u)}`:"";return`${T3(n)}?${dl(a).slice(1)}${l}`})}function T3({config:n}){return n.emulator?DI(n,b3):`https://${n.authDomain}/${w3}`}var tI="webStorageSupport",II=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FI,this._completeRedirectFn=Z4,this._overrideRedirectResult=K4}_openPopup(e,t,r,i){return v(this,null,function*(){var o;Xi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield sM(e,t,r,nI(),i);return E3(e,s,OM())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield sM(e,t,r,nI(),i);return P4(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Xi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield p3(e),r=new EI(e);return t.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tI,{type:tI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[tI];s!==void 0&&t(!!s),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=r3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DM()||vM()||AI()}},BM=II;var aM="@firebase/auth",cM="1.10.8";var wI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function C3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S3(n){cn(new Dt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TM(n)},l=new uI(r,i,o,u);return f4(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),cn(new Dt("auth-internal",e=>{let t=cs(e.getProvider("auth").getImmediate());return(r=>new wI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ke(aM,cM,C3(n)),ke(aM,cM,"esm2017")}var A3=300,R3=NE("authIdTokenMaxAge")||A3,uM=null,N3=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>R3)return;let i=t?.token;uM!==i&&(uM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Hp(n=$r()){let e=Wi(n,"auth");if(e.isInitialized())return e.getImmediate();let t=RI(n,{popupRedirectResolver:BM,persistence:[UM,kM,FI]}),r=NE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=N3(o.toString());OI(t,s,()=>s(t.currentUser)),Tl(t,a=>s(a))}}let i=AE("auth");return i&&NI(t,`http://${i}`),t}function M3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}u4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=os("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",M3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S3("Browser");function qM(n){return new ne(function(e){var t=Tl(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var zM="auth",un=class{constructor(e){return e}},Sl=class{constructor(){return Ma(zM)}};var LI=new $("angularfire2.auth-instances");function yq(n,e){let t=pl(zM,n,e);return t&&new un(t)}function vq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new un(r)}}var _q={provide:Sl,deps:[[new rn,LI]]},Eq={provide:un,useFactory:yq,deps:[[new rn,LI],Hr]};function GM(n,...e){return ke("angularfire",Ki.full,"auth"),Yt([Eq,_q,{provide:LI,useFactory:vq(n),multi:!0,deps:[be,We,Qi,is,[new rn,Pa],...e]}])}var WM=Tt(qM,!0);var KM=Tt(PI,!0,2);var QM=Tt(xI,!0,2);var YM=Tt(Cl,!0,2);var ZM=Tt(kI,!0,2);var to=class n{firebaseAuth=N(un);user$=WM(this.firebaseAuth);currentUserSig=je(void 0);register(e,t,r){let i=KM(this.firebaseAuth,e,r).then(o=>ZM(o.user,{displayName:t}));return Ce(i)}login(e,t){let r=QM(this.firebaseAuth,e,t).then(()=>{});return Ce(r)}logout(){let e=YM(this.firebaseAuth);return Ce(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function Iq(n,e){if(n&1&&(P(0,"div"),U(1),k()),n&2){let t=Ee();j(),ut(t.errorMessage)}}var qp=class n{fb=N(dp);router=N(ft);authService=N(to);errorMessage=null;form=this.fb.nonNullable.group({email:["",Ur.required],password:["",Ur.required]});onSubmit(){console.log("register");let e=this.form.getRawValue();this.authService.login(e.email,e.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:t=>{this.errorMessage=t.code}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wt({type:n,selectors:[["app-login-page"]],decls:20,vars:2,consts:[[1,"login-viewport"],[1,"w-100",2,"max-width","420px"],["aria-hidden","true",1,"brand-pill"],[1,"login-card","card"],[1,"card-body"],[1,"login-title"],[1,"login-subtext"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],[1,"mb4"],["type","submit",1,"form-control"],["href","#",1,"forgot-link"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"div",1),Qe(2,"span",2),P(3,"div",3)(4,"div",4)(5,"h3",5),U(6,"Welcome back"),k(),P(7,"div",6),U(8,"Sign in to your volunteer account"),k(),Ai(9,Iq,2,1,"div"),P(10,"form",7),De("ngSubmit",function(){return r.onSubmit()}),P(11,"div",8),Qe(12,"input",9),k(),P(13,"div",8),Qe(14,"input",10),k(),P(15,"div",11)(16,"button",12),U(17,"Sign In"),k()()(),P(18,"a",13),U(19,"Forgot password?"),k()()()()()),t&2&&(j(9),Ri(r.errorMessage?9:-1),j(),he("formGroup",r.form))},dependencies:[hp,qi,$i,Ta,Hi,sl,al],styles:["[_ngcontent-%COMP%]:root{--olive-leaf: #606c38ff;--black-forest: #283618ff;--cornsilk: #fefae0ff;--sunlit-clay: #dda15eff;--copperwood: #bc6c25ff}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background:var(--cornsilk);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial;color:var(--black-forest)}.login-viewport[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}.brand-pill[_ngcontent-%COMP%]{width:220px;height:34px;background:var(--olive-leaf);border-radius:4px;display:block;margin:0 auto 16px;box-shadow:0 2px #0000000f inset}.login-card[_ngcontent-%COMP%]{width:340px;background:#fff;border-radius:6px;box-shadow:0 8px 24px #28361814;border:1px solid rgba(40,54,24,.06);overflow:hidden}.login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.login-title[_ngcontent-%COMP%]{text-align:center;font-weight:600;color:var(--black-forest);margin-bottom:.75rem}.login-subtext[_ngcontent-%COMP%]{text-align:center;color:var(--olive-leaf);font-size:.9rem;margin-bottom:1rem}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--olive-leaf);box-shadow:0 0 0 .15rem #606c381f}.btn-primary-custom[_ngcontent-%COMP%]{background:linear-gradient(180deg,var(--sunlit-clay),var(--copperwood));border:none;color:var(--cornsilk)}.btn-outline-custom[_ngcontent-%COMP%]{border-color:var(--olive-leaf);color:var(--olive-leaf);background:transparent}.action-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-top:1rem}.forgot-link[_ngcontent-%COMP%]{display:block;text-align:center;margin-top:.5rem;color:var(--olive-leaf)}@media (max-width: 400px){.login-card[_ngcontent-%COMP%]{width:92%}.brand-pill[_ngcontent-%COMP%]{width:160px}}"]})};var JM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},XM={};var Kr,UI;(function(){var n;function e(b,_){function E(){}E.prototype=_.prototype,b.D=_.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(w,D,S){for(var I=Array(arguments.length-2),vr=2;vr<arguments.length;vr++)I[vr-2]=arguments[vr];return _.prototype[D].apply(w,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,E){E||(E=0);var w=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)w[D]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(D=0;16>D;++D)w[D]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=b.g[0],E=b.g[1],D=b.g[2];var S=b.g[3],I=_+(S^E&(D^S))+w[0]+3614090360&4294967295;_=E+(I<<7&4294967295|I>>>25),I=S+(D^_&(E^D))+w[1]+3905402710&4294967295,S=_+(I<<12&4294967295|I>>>20),I=D+(E^S&(_^E))+w[2]+606105819&4294967295,D=S+(I<<17&4294967295|I>>>15),I=E+(_^D&(S^_))+w[3]+3250441966&4294967295,E=D+(I<<22&4294967295|I>>>10),I=_+(S^E&(D^S))+w[4]+4118548399&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(D^_&(E^D))+w[5]+1200080426&4294967295,S=_+(I<<12&4294967295|I>>>20),I=D+(E^S&(_^E))+w[6]+2821735955&4294967295,D=S+(I<<17&4294967295|I>>>15),I=E+(_^D&(S^_))+w[7]+4249261313&4294967295,E=D+(I<<22&4294967295|I>>>10),I=_+(S^E&(D^S))+w[8]+1770035416&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(D^_&(E^D))+w[9]+2336552879&4294967295,S=_+(I<<12&4294967295|I>>>20),I=D+(E^S&(_^E))+w[10]+4294925233&4294967295,D=S+(I<<17&4294967295|I>>>15),I=E+(_^D&(S^_))+w[11]+2304563134&4294967295,E=D+(I<<22&4294967295|I>>>10),I=_+(S^E&(D^S))+w[12]+1804603682&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(D^_&(E^D))+w[13]+4254626195&4294967295,S=_+(I<<12&4294967295|I>>>20),I=D+(E^S&(_^E))+w[14]+2792965006&4294967295,D=S+(I<<17&4294967295|I>>>15),I=E+(_^D&(S^_))+w[15]+1236535329&4294967295,E=D+(I<<22&4294967295|I>>>10),I=_+(D^S&(E^D))+w[1]+4129170786&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^D&(_^E))+w[6]+3225465664&4294967295,S=_+(I<<9&4294967295|I>>>23),I=D+(_^E&(S^_))+w[11]+643717713&4294967295,D=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(D^S))+w[0]+3921069994&4294967295,E=D+(I<<20&4294967295|I>>>12),I=_+(D^S&(E^D))+w[5]+3593408605&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^D&(_^E))+w[10]+38016083&4294967295,S=_+(I<<9&4294967295|I>>>23),I=D+(_^E&(S^_))+w[15]+3634488961&4294967295,D=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(D^S))+w[4]+3889429448&4294967295,E=D+(I<<20&4294967295|I>>>12),I=_+(D^S&(E^D))+w[9]+568446438&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^D&(_^E))+w[14]+3275163606&4294967295,S=_+(I<<9&4294967295|I>>>23),I=D+(_^E&(S^_))+w[3]+4107603335&4294967295,D=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(D^S))+w[8]+1163531501&4294967295,E=D+(I<<20&4294967295|I>>>12),I=_+(D^S&(E^D))+w[13]+2850285829&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^D&(_^E))+w[2]+4243563512&4294967295,S=_+(I<<9&4294967295|I>>>23),I=D+(_^E&(S^_))+w[7]+1735328473&4294967295,D=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(D^S))+w[12]+2368359562&4294967295,E=D+(I<<20&4294967295|I>>>12),I=_+(E^D^S)+w[5]+4294588738&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^D)+w[8]+2272392833&4294967295,S=_+(I<<11&4294967295|I>>>21),I=D+(S^_^E)+w[11]+1839030562&4294967295,D=S+(I<<16&4294967295|I>>>16),I=E+(D^S^_)+w[14]+4259657740&4294967295,E=D+(I<<23&4294967295|I>>>9),I=_+(E^D^S)+w[1]+2763975236&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^D)+w[4]+1272893353&4294967295,S=_+(I<<11&4294967295|I>>>21),I=D+(S^_^E)+w[7]+4139469664&4294967295,D=S+(I<<16&4294967295|I>>>16),I=E+(D^S^_)+w[10]+3200236656&4294967295,E=D+(I<<23&4294967295|I>>>9),I=_+(E^D^S)+w[13]+681279174&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^D)+w[0]+3936430074&4294967295,S=_+(I<<11&4294967295|I>>>21),I=D+(S^_^E)+w[3]+3572445317&4294967295,D=S+(I<<16&4294967295|I>>>16),I=E+(D^S^_)+w[6]+76029189&4294967295,E=D+(I<<23&4294967295|I>>>9),I=_+(E^D^S)+w[9]+3654602809&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^D)+w[12]+3873151461&4294967295,S=_+(I<<11&4294967295|I>>>21),I=D+(S^_^E)+w[15]+530742520&4294967295,D=S+(I<<16&4294967295|I>>>16),I=E+(D^S^_)+w[2]+3299628645&4294967295,E=D+(I<<23&4294967295|I>>>9),I=_+(D^(E|~S))+w[0]+4096336452&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~D))+w[7]+1126891415&4294967295,S=_+(I<<10&4294967295|I>>>22),I=D+(_^(S|~E))+w[14]+2878612391&4294967295,D=S+(I<<15&4294967295|I>>>17),I=E+(S^(D|~_))+w[5]+4237533241&4294967295,E=D+(I<<21&4294967295|I>>>11),I=_+(D^(E|~S))+w[12]+1700485571&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~D))+w[3]+2399980690&4294967295,S=_+(I<<10&4294967295|I>>>22),I=D+(_^(S|~E))+w[10]+4293915773&4294967295,D=S+(I<<15&4294967295|I>>>17),I=E+(S^(D|~_))+w[1]+2240044497&4294967295,E=D+(I<<21&4294967295|I>>>11),I=_+(D^(E|~S))+w[8]+1873313359&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~D))+w[15]+4264355552&4294967295,S=_+(I<<10&4294967295|I>>>22),I=D+(_^(S|~E))+w[6]+2734768916&4294967295,D=S+(I<<15&4294967295|I>>>17),I=E+(S^(D|~_))+w[13]+1309151649&4294967295,E=D+(I<<21&4294967295|I>>>11),I=_+(D^(E|~S))+w[4]+4149444226&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~D))+w[11]+3174756917&4294967295,S=_+(I<<10&4294967295|I>>>22),I=D+(_^(S|~E))+w[2]+718787259&4294967295,D=S+(I<<15&4294967295|I>>>17),I=E+(S^(D|~_))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+S&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var E=_-this.blockSize,w=this.B,D=this.h,S=0;S<_;){if(D==0)for(;S<=E;)i(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<_;)if(w[D++]=b.charCodeAt(S++),D==this.blockSize){i(this,w),D=0;break}}else for(;S<_;)if(w[D++]=b[S++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var E=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=E&255,E/=256;for(this.u(b),b=Array(16),_=E=0;4>_;++_)for(var w=0;32>w;w+=8)b[E++]=this.g[_]>>>w&255;return b};function o(b,_){var E=a;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=_(b)}function s(b,_){this.h=_;for(var E=[],w=!0,D=b.length-1;0<=D;D--){var S=b[D]|0;w&&S==_||(E[D]=S,w=!1)}this.g=E}var a={};function u(b){return-128<=b&&128>b?o(b,function(_){return new s([_|0],0>_?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var _=[],E=1,w=0;b>=E;w++)_[w]=b/E|0,E*=4294967296;return new s(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return R(h(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(_,8)),w=p,D=0;D<b.length;D+=8){var S=Math.min(8,b.length-D),I=parseInt(b.substring(D,D+S),_);8>S?(S=l(Math.pow(_,S)),w=w.j(S).add(l(I))):(w=w.j(E),w=w.add(l(I)))}return w}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var b=0,_=1,E=0;E<this.g.length;E++){var w=this.i(E);b+=(0<=w?w:4294967296+w)*_,_*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(M(this))return"-"+R(this).toString(b);for(var _=l(Math.pow(b,6)),E=this,w="";;){var D=te(E,_).g;E=F(E,D.j(_));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=D,T(E))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function M(b){return b.h==-1}n.l=function(b){return b=F(this,b),M(b)?-1:T(b)?0:1};function R(b){for(var _=b.g.length,E=[],w=0;w<_;w++)E[w]=~b.g[w];return new s(E,~b.h).add(g)}n.abs=function(){return M(this)?R(this):this},n.add=function(b){for(var _=Math.max(this.g.length,b.g.length),E=[],w=0,D=0;D<=_;D++){var S=w+(this.i(D)&65535)+(b.i(D)&65535),I=(S>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);w=I>>>16,S&=65535,I&=65535,E[D]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(b,_){return b.add(R(_))}n.j=function(b){if(T(this)||T(b))return p;if(M(this))return M(b)?R(this).j(R(b)):R(R(this).j(b));if(M(b))return R(this.j(R(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,E=[],w=0;w<2*_;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<b.g.length;D++){var S=this.i(w)>>>16,I=this.i(w)&65535,vr=b.i(D)>>>16,fc=b.i(D)&65535;E[2*w+2*D]+=I*fc,W(E,2*w+2*D),E[2*w+2*D+1]+=S*fc,W(E,2*w+2*D+1),E[2*w+2*D+1]+=I*vr,W(E,2*w+2*D+1),E[2*w+2*D+2]+=S*vr,W(E,2*w+2*D+2)}for(w=0;w<_;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=_;w<2*_;w++)E[w]=0;return new s(E,0)};function W(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function z(b,_){this.g=b,this.h=_}function te(b,_){if(T(_))throw Error("division by zero");if(T(b))return new z(p,p);if(M(b))return _=te(R(b),_),new z(R(_.g),R(_.h));if(M(_))return _=te(b,R(_)),new z(R(_.g),_.h);if(30<b.g.length){if(M(b)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var E=g,w=_;0>=w.l(b);)E=qe(E),w=qe(w);var D=ge(E,1),S=ge(w,1);for(w=ge(w,2),E=ge(E,2);!T(w);){var I=S.add(w);0>=I.l(b)&&(D=D.add(E),S=I),w=ge(w,1),E=ge(E,1)}return _=F(b,D.j(_)),new z(D,_)}for(D=p;0<=b.l(_);){for(E=Math.max(1,Math.floor(b.m()/_.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(E),I=S.j(_);M(I)||0<I.l(b);)E-=w,S=l(E),I=S.j(_);T(S)&&(S=g),D=D.add(S),b=F(b,I)}return new z(D,b)}n.A=function(b){return te(this,b).h},n.and=function(b){for(var _=Math.max(this.g.length,b.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)&b.i(w);return new s(E,this.h&b.h)},n.or=function(b){for(var _=Math.max(this.g.length,b.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)|b.i(w);return new s(E,this.h|b.h)},n.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)^b.i(w);return new s(E,this.h^b.h)};function qe(b){for(var _=b.g.length+1,E=[],w=0;w<_;w++)E[w]=b.i(w)<<1|b.i(w-1)>>>31;return new s(E,b.h)}function ge(b,_){var E=_>>5;_%=32;for(var w=b.g.length-E,D=[],S=0;S<w;S++)D[S]=0<_?b.i(S+E)>>>_|b.i(S+E+1)<<32-_:b.i(S+E);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UI=XM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Kr=XM.Integer=s}).apply(typeof JM<"u"?JM:typeof self<"u"?self:typeof window<"u"?window:{});var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr={};var jI,wq,Oa,BI,Al,Gp,$I,HI,qI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,A){for(var V=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)V[Ne-2]=arguments[Ne];return d.prototype[C].apply(m,V)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,A=m.length||0;c.length=C+A;for(let V=0;V<A;V++)c[C+V]=m[V]}else c.push(m)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var qe=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ge(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=tm;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class vr{constructor(){this.h=this.g=null}add(d,f){let m=fc.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var fc=new F(()=>new fO,c=>c.reset());class fO{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let pc,gc=!1,tm=new vr,gD=()=>{let c=a.Promise.resolve(void 0);pc=()=>{c.then(pO)}};var pO=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=fc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}gc=!1};function ii(){this.s=this.s,this.C=this.C}ii.prototype.s=!1,ii.prototype.ma=function(){this.s||(this.s=!0,this.N())},ii.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var gO=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function mc(c,d){if(At.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(qe){e:{try{te(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:mO[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&mc.aa.h.call(this)}}T(mc,At);var mO={2:"touch",3:"pen",4:"mouse"};mc.prototype.h=function(){mc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yc="closure_listenable_"+(1e6*Math.random()|0),yO=0;function vO(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++yO,this.da=this.fa=!1}function td(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nd(c){this.src=c,this.g={},this.h=0}nd.prototype.add=function(c,d,f,m,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var V=rm(c,d,m,C);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new vO(d,this.src,A,!!m,C),d.fa=f,c.push(d)),d};function nm(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(m,C,1),A&&(td(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function rm(c,d,f,m){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return C}return-1}var im="closure_lm_"+(1e6*Math.random()|0),om={};function mD(c,d,f,m,C){if(m&&m.once)return vD(c,d,f,m,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)mD(c,d[A],f,m,C);return null}return f=um(f),c&&c[yc]?c.K(d,f,l(m)?!!m.capture:!!m,C):yD(c,d,f,!1,m,C)}function yD(c,d,f,m,C,A){if(!d)throw Error("Invalid event type");var V=l(C)?!!C.capture:!!C,Ne=am(c);if(Ne||(c[im]=Ne=new nd(c)),f=Ne.add(d,f,m,V,A),f.proxy)return f;if(m=_O(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)gO||(C=V),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(ED(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function _O(){function c(f){return d.call(c.src,c.listener,f)}let d=EO;return c}function vD(c,d,f,m,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)vD(c,d[A],f,m,C);return null}return f=um(f),c&&c[yc]?c.L(d,f,l(m)?!!m.capture:!!m,C):yD(c,d,f,!0,m,C)}function _D(c,d,f,m,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)_D(c,d[A],f,m,C);else m=l(m)?!!m.capture:!!m,f=um(f),c&&c[yc]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=rm(A,f,m,C),-1<f&&(td(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=am(c))&&(d=c.g[d.toString()],c=-1,d&&(c=rm(d,f,m,C)),(f=-1<c?d[c]:null)&&sm(f))}function sm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[yc])nm(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(ED(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=am(d))?(nm(f,c),f.h==0&&(f.src=null,d[im]=null)):td(c)}}}function ED(c){return c in om?om[c]:om[c]="on"+c}function EO(c,d){if(c.da)c=!0;else{d=new mc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&sm(c),c=f.call(m,d)}return c}function am(c){return c=c[im],c instanceof nd?c:null}var cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function um(c){return typeof c=="function"?c:(c[cm]||(c[cm]=function(d){return c.handleEvent(d)}),c[cm])}function Rt(){ii.call(this),this.i=new nd(this),this.M=this,this.F=null}T(Rt,ii),Rt.prototype[yc]=!0,Rt.prototype.removeEventListener=function(c,d,f,m){_D(this,c,d,f,m)};function Ut(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new At(d,c);else if(d instanceof At)d.target=d.target||c;else{var C=d;d=new At(m,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var V=d.g=f[A];C=rd(V,m,!0,d)&&C}if(V=d.g=c,C=rd(V,m,!0,d)&&C,C=rd(V,m,!1,d)&&C,f)for(A=0;A<f.length;A++)V=d.g=f[A],C=rd(V,m,!1,d)&&C}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)td(f[m]);delete c.g[d],c.h--}}this.F=null},Rt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Rt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function rd(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var V=d[A];if(V&&!V.da&&V.capture==f){var Ne=V.listener,yt=V.ha||V.src;V.fa&&nm(c.i,V),C=Ne.call(yt,m)!==!1&&C}}return C&&!m.defaultPrevented}function ID(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function wD(c){c.g=ID(()=>{c.g=null,c.i&&(c.i=!1,wD(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class IO extends ii{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vc(c){ii.call(this),this.h=c,this.g={}}T(vc,ii);var bD=[];function DD(c){ge(c.g,function(d,f){this.g.hasOwnProperty(f)&&sm(d)},c),c.g={}}vc.prototype.N=function(){vc.aa.N.call(this),DD(this)},vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lm=a.JSON.stringify,wO=a.JSON.parse,bO=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function dm(){}dm.prototype.h=null;function TD(c){return c.h||(c.h=c.i())}function CD(){}var _c={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hm(){At.call(this,"d")}T(hm,At);function fm(){At.call(this,"c")}T(fm,At);var po={},SD=null;function id(){return SD=SD||new Rt}po.La="serverreachability";function AD(c){At.call(this,po.La,c)}T(AD,At);function Ec(c){let d=id();Ut(d,new AD(d))}po.STAT_EVENT="statevent";function RD(c,d){At.call(this,po.STAT_EVENT,c),this.stat=d}T(RD,At);function jt(c){let d=id();Ut(d,new RD(d,c))}po.Ma="timingevent";function ND(c,d){At.call(this,po.Ma,c),this.size=d}T(ND,At);function Ic(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function wc(){this.g=!0}wc.prototype.xa=function(){this.g=!1};function DO(c,d,f,m,C,A){c.info(function(){if(c.g)if(A)for(var V="",Ne=A.split("&"),yt=0;yt<Ne.length;yt++){var we=Ne[yt].split("=");if(1<we.length){var Nt=we[0];we=we[1];var Mt=Nt.split("_");V=2<=Mt.length&&Mt[1]=="type"?V+(Nt+"="+we+"&"):V+(Nt+"=redacted&")}}else V=null;else V=A;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+V})}function TO(c,d,f,m,C,A,V){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+V})}function ws(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+SO(c,f)+(m?" "+m:"")})}function CO(c,d){c.info(function(){return"TIMEOUT: "+d})}wc.prototype.info=function(){};function SO(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var V=1;V<C.length;V++)C[V]=""}}}}return lm(f)}catch{return d}}var od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},MD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pm;function sd(){}T(sd,dm),sd.prototype.g=function(){return new XMLHttpRequest},sd.prototype.i=function(){return{}},pm=new sd;function oi(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new vc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new PD}function PD(){this.i=null,this.g="",this.h=!1}var xD={},gm={};function mm(c,d,f){c.L=1,c.v=ld(_r(d)),c.m=f,c.P=!0,kD(c,null)}function kD(c,d){c.F=Date.now(),ad(c),c.A=_r(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),KD(f.i,"t",m),c.C=0,f=c.j.J,c.h=new PD,c.g=hT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new IO(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(bD[0]=C.toString()),C=bD);for(var A=0;A<C.length;A++){var V=mD(f,C[A],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ec(),DO(c.i,c.u,c.A,c.l,c.R,c.m)}oi.prototype.ca=function(c){c=c.target;let d=this.M;d&&Er(c)==3?d.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{let Mt=Er(this.g);var d=this.g.Ba();let Ts=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||tT(this.g)))){this.J||Mt!=4||d==7||(d==8||0>=Ts?Ec(3):Ec(2)),ym(this);var f=this.g.Z();this.X=f;t:if(OD(this)){var m=tT(this.g);c="";var C=m.length,A=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){go(this),bc(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,TO(this.i,this.u,this.A,this.l,this.R,Mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,yt=this.g;if((Ne=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ne)){var we=Ne;break t}}we=null}if(f=we)ws(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vm(this,f);else{this.o=!1,this.s=3,jt(12),go(this),bc(this);break e}}if(this.P){f=!0;let Cn;for(;!this.J&&this.C<V.length;)if(Cn=AO(this,V),Cn==gm){Mt==4&&(this.s=4,jt(14),f=!1),ws(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==xD){this.s=4,jt(15),ws(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else ws(this.i,this.l,Cn,null),vm(this,Cn);if(OD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||V.length!=0||this.h.h||(this.s=1,jt(16),f=!1),this.o=this.o&&f,!f)ws(this.i,this.l,V,"[Invalid Chunked Response]"),go(this),bc(this);else if(0<V.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Dm(Nt),Nt.M=!0,jt(11))}}else ws(this.i,this.l,V,null),vm(this,V);Mt==4&&go(this),this.o&&!this.J&&(Mt==4?cT(this.j,this):(this.o=!1,ad(this)))}else zO(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),go(this),bc(this)}}}catch{}finally{}};function OD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function AO(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?gm:(f=Number(d.substring(f,m)),isNaN(f)?xD:(m+=1,m+f>d.length?gm:(d=d.slice(m,m+f),c.C=m+f,d)))}oi.prototype.cancel=function(){this.J=!0,go(this)};function ad(c){c.S=Date.now()+c.I,FD(c,c.I)}function FD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ic(g(c.ba,c),d)}function ym(c){c.B&&(a.clearTimeout(c.B),c.B=null)}oi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(CO(this.i,this.A),this.L!=2&&(Ec(),jt(17)),go(this),this.s=2,bc(this)):FD(this,this.S-c)};function bc(c){c.j.G==0||c.J||cT(c.j,c)}function go(c){ym(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,DD(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function vm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||_m(f.h,c))){if(!c.K&&_m(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)gd(f),fd(f);else break e;bm(f),jt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ic(g(f.Za,f),6e3));if(1>=UD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else yo(f,11)}else if((c.K||f.g==c)&&gd(f),!W(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let we=C[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let Nt=we[3];Nt!=null&&(f.la=Nt,f.j.info("VER="+f.la));let Mt=we[4];Mt!=null&&(f.Aa=Mt,f.j.info("SVER="+f.Aa));let Ts=we[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(m=1.5*Ts,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Cn=c.g;if(Cn){let yd=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yd){var A=m.h;A.g||yd.indexOf("spdy")==-1&&yd.indexOf("quic")==-1&&yd.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Em(A,A.h),A.h=null))}if(m.D){let Tm=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tm&&(m.ya=Tm,Me(m.I,m.D,Tm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var V=c;if(m.qa=dT(m,m.J?m.ia:null,m.W),V.K){jD(m.h,V);var Ne=V,yt=m.L;yt&&(Ne.I=yt),Ne.B&&(ym(Ne),ad(Ne)),m.g=V}else sT(m);0<f.i.length&&pd(f)}else we[0]!="stop"&&we[0]!="close"||yo(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?yo(f,7):wm(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}Ec(4)}catch{}}var RO=class{constructor(c,d){this.g=c,this.map=d}};function LD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function VD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function UD(c){return c.h?1:c.g?c.g.size:0}function _m(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Em(c,d){c.g?c.g.add(d):c.h=d}function jD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}LD.prototype.cancel=function(){if(this.i=BD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function BD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function NO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function MO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function $D(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=MO(c),m=NO(c),C=m.length,A=0;A<C;A++)d.call(void 0,m[A],f&&f[A],c)}var HD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PO(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var A=c[f].substring(0,m);C=c[f].substring(m+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function mo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mo){this.h=c.h,cd(this,c.j),this.o=c.o,this.g=c.g,ud(this,c.s),this.l=c.l;var d=c.i,f=new Cc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),qD(this,f),this.m=c.m}else c&&(d=String(c).match(HD))?(this.h=!1,cd(this,d[1]||"",!0),this.o=Dc(d[2]||""),this.g=Dc(d[3]||"",!0),ud(this,d[4]),this.l=Dc(d[5]||"",!0),qD(this,d[6]||"",!0),this.m=Dc(d[7]||"")):(this.h=!1,this.i=new Cc(null,this.h))}mo.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Tc(d,zD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Tc(d,zD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Tc(f,f.charAt(0)=="/"?OO:kO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Tc(f,LO)),c.join("")};function _r(c){return new mo(c)}function cd(c,d,f){c.j=f?Dc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ud(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function qD(c,d,f){d instanceof Cc?(c.i=d,VO(c.i,c.h)):(f||(d=Tc(d,FO)),c.i=new Cc(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function ld(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,xO),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zD=/[#\/\?@]/g,kO=/[#\?:]/g,OO=/[#\?]/g,FO=/[#\?@]/g,LO=/#/g;function Cc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function si(c){c.g||(c.g=new Map,c.h=0,c.i&&PO(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Cc.prototype,n.add=function(c,d){si(this),this.i=null,c=bs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function GD(c,d){si(c),d=bs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function WD(c,d){return si(c),d=bs(c,d),c.g.has(d)}n.forEach=function(c,d){si(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){si(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let A=0;A<C.length;A++)f.push(d[m])}return f},n.V=function(c){si(this);let d=[];if(typeof c=="string")WD(this,c)&&(d=d.concat(this.g.get(bs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return si(this),this.i=null,c=bs(this,c),WD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function KD(c,d,f){GD(c,d),0<f.length&&(c.i=null,c.g.set(bs(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),V=this.V(m);for(m=0;m<V.length;m++){var C=A;V[m]!==""&&(C+="="+encodeURIComponent(String(V[m]))),c.push(C)}}return this.i=c.join("&")};function bs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function VO(c,d){d&&!c.j&&(si(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(GD(this,m),KD(this,C,f))},c)),c.j=d}function UO(c,d){let f=new wc;if(a.Image){let m=new Image;m.onload=y(ai,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(ai,f,"TestLoadImage: error",!1,d,m),m.onabort=y(ai,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(ai,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function jO(c,d){let f=new wc,m=new AbortController,C=setTimeout(()=>{m.abort(),ai(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(C),A.ok?ai(f,"TestPingServer: ok",!0,d):ai(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),ai(f,"TestPingServer: error",!1,d)})}function ai(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function BO(){this.g=new bO}function $O(c,d,f){let m=f||"";try{$D(c,function(C,A){let V=C;l(C)&&(V=lm(C)),d.push(m+A+"="+encodeURIComponent(V))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Sc(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Sc,dm),Sc.prototype.g=function(){return new dd(this.l,this.j)},Sc.prototype.i=(function(c){return function(){return c}})({});function dd(c,d){Rt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(dd,Rt),n=dd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Rc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ac(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Rc(this)),this.g&&(this.readyState=3,Rc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;QD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function QD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ac(this):Rc(this),this.readyState==3&&QD(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ac(this))},n.Qa=function(c){this.g&&(this.response=c,Ac(this))},n.ga=function(){this.g&&Ac(this)};function Ac(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Rc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Rc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function YD(c){let d="";return ge(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Im(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=YD(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function ze(c){Rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ze,Rt);var HO=/^https?$/i,qO=["POST","PUT"];n=ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pm.g(),this.v=this.o?TD(this.o):TD(pm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){ZD(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qO,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,V]of f)this.g.setRequestHeader(A,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eT(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){ZD(this,A)}};function ZD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,JD(c),hd(c)}function JD(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),hd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hd(this,!0)),ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?XD(this):this.bb())},n.bb=function(){XD(this)};function XD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Er(c)!=4||c.Z()!=2)){if(c.u&&Er(c)==4)ID(c.Ea,0,c);else if(Ut(c,"readystatechange"),Er(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=V===0){var C=String(c.D).match(HD)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!HO.test(C?C.toLowerCase():"")}f=m}if(f)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var A=2<Er(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",JD(c)}}finally{hd(c)}}}}function hd(c,d){if(c.g){eT(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ut(c,"ready");try{f.onreadystatechange=m}catch{}}}function eT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Er(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),wO(d)}};function tT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zO(c){let d={};c=(c.g&&2<=Er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(W(c[m]))continue;var f=D(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}b(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function nT(c){this.Aa=0,this.i=[],this.j=new wc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nc("baseRetryDelayMs",5e3,c),this.cb=Nc("retryDelaySeedMs",1e4,c),this.Wa=Nc("forwardChannelMaxRetries",2,c),this.wa=Nc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new LD(c&&c.concurrentRequestLimit),this.Da=new BO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){jt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=dT(this,null,this.W),pd(this)};function wm(c){if(rT(c),c.G==3){var d=c.U++,f=_r(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),Mc(c,f),d=new oi(c,c.j,d),d.L=2,d.v=ld(_r(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=hT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ad(d)}lT(c)}function fd(c){c.g&&(Dm(c),c.g.cancel(),c.g=null)}function rT(c){fd(c),c.u&&(a.clearTimeout(c.u),c.u=null),gd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function pd(c){if(!VD(c.h)&&!c.s){c.s=!0;var d=c.Ga;pc||gD(),gc||(pc(),gc=!0),tm.add(d,c),c.B=0}}function GO(c,d){return UD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ic(g(c.Ga,c,d),uT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new oi(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=oT(this,C,d),f=_r(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),Mc(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(YD(A)))+"&"+d:this.m&&Im(f,this.m,A)),Em(this.h,C),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),C.T=!0,mm(C,f,null)):mm(C,f,d),this.G=2}}else this.G==3&&(c?iT(this,c):this.i.length==0||VD(this.h)||iT(this))};function iT(c,d){var f;d?f=d.l:f=c.U++;let m=_r(c.I);Me(m,"SID",c.K),Me(m,"RID",f),Me(m,"AID",c.T),Mc(c,m),c.m&&c.o&&Im(m,c.m,c.o),f=new oi(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=oT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Em(c.h,f),mm(f,m,d)}function Mc(c,d){c.H&&ge(c.H,function(f,m){Me(d,m,f)}),c.l&&$D({},function(f,m){Me(d,m,f)})}function oT(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let V=["count="+f];A==-1?0<f?(A=C[0].g,V.push("ofs="+A)):A=0:V.push("ofs="+A);let Ne=!0;for(let yt=0;yt<f;yt++){let we=C[yt].g,Nt=C[yt].map;if(we-=A,0>we)A=Math.max(0,C[yt].g-100),Ne=!1;else try{$O(Nt,V,"req"+we+"_")}catch{m&&m(Nt)}}if(Ne){m=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function sT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;pc||gD(),gc||(pc(),gc=!0),tm.add(d,c),c.v=0}}function bm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ic(g(c.Fa,c),uT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,aT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ic(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),fd(this),aT(this))};function Dm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function aT(c){c.g=new oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=_r(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),Mc(c,d),c.m&&c.o&&Im(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ld(_r(d)),f.m=null,f.P=!0,kD(f,c)}n.Za=function(){this.C!=null&&(this.C=null,fd(this),bm(this),jt(19))};function gd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function cT(c,d){var f=null;if(c.g==d){gd(c),Dm(c),c.g=null;var m=2}else if(_m(c.h,d))f=d.D,jD(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=id(),Ut(m,new ND(m,f)),pd(c)}else sT(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&GO(c,d)||m==2&&bm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:yo(c,5);break;case 4:yo(c,10);break;case 3:yo(c,6);break;default:yo(c,2)}}}function uT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function yo(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new mo(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cd(m,"https"),ld(m),C?UO(m.toString(),f):jO(m.toString(),f)}else jt(2);c.G=0,c.l&&c.l.sa(d),lT(c),rT(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function lT(c){if(c.G=0,c.ka=[],c.l){let d=BD(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function dT(c,d,f){var m=f instanceof mo?_r(f):new mo(f);if(m.g!="")d&&(m.g=d+"."+m.g),ud(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new mo(null);m&&cd(A,m),d&&(A.g=d),C&&ud(A,C),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Me(m,f,d),Me(m,"VER",c.la),Mc(c,m),m}function hT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ze(new Sc({eb:f})):new ze(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fT(){}n=fT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function md(){}md.prototype.g=function(c,d){return new Xt(c,d)};function Xt(c,d){Rt.call(this),this.g=new nT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ds(this)}T(Xt,Rt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){wm(this.g)},Xt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=lm(c),c=f);d.i.push(new RO(d.Ya++,c)),d.G==3&&pd(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,wm(this.g),delete this.g,Xt.aa.N.call(this)};function pT(c){hm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(pT,hm);function gT(){fm.call(this),this.status=1}T(gT,fm);function Ds(c){this.g=c}T(Ds,fT),Ds.prototype.ua=function(){Ut(this.g,"a")},Ds.prototype.ta=function(c){Ut(this.g,new pT(c))},Ds.prototype.sa=function(c){Ut(this.g,new gT)},Ds.prototype.ra=function(){Ut(this.g,"b")},md.prototype.createWebChannel=md.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,qI=Qr.createWebChannelTransport=function(){return new md},HI=Qr.getStatEventTarget=function(){return id()},$I=Qr.Event=po,Gp=Qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},od.NO_ERROR=0,od.TIMEOUT=8,od.HTTP_ERROR=6,Al=Qr.ErrorCode=od,MD.COMPLETE="complete",BI=Qr.EventType=MD,CD.EventType=_c,_c.OPEN="a",_c.CLOSE="b",_c.ERROR="c",_c.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Oa=Qr.WebChannel=CD,wq=Qr.FetchXmlHttpFactory=Sc,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,jI=Qr.XhrIo=ze}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});var eP="@firebase/firestore",tP="4.8.0";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var rc="11.10.0";var fs=new or("@firebase/firestore");function Fa(){return fs.logLevel}function B(n,...e){if(fs.logLevel<=pe.DEBUG){let t=e.map(Rb);fs.debug(`Firestore (${rc}): ${n}`,...t)}}function Zr(n,...e){if(fs.logLevel<=pe.ERROR){let t=e.map(Rb);fs.error(`Firestore (${rc}): ${n}`,...t)}}function ao(n,...e){if(fs.logLevel<=pe.WARN){let t=e.map(Rb);fs.warn(`Firestore (${rc}): ${n}`,...t)}}function Rb(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qP(n,r,t)}function qP(n,e,t){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Zr(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||qP(e,i,r)}function se(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Xp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},QI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gt.UNAUTHENTICATED))}shutdown(){}},YI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ZI=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new Xp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new gt(e)}},JI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},XI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new JI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ew=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ft(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function bq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function zP(){return new TextEncoder}var kl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=bq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function fe(n,e){return n<e?-1:n>e?1:0}function tw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return fe(r,i);{let o=zP(),s=Dq(o.encode(nP(n,t)),o.encode(nP(e,t)));return s!==0?s:fe(r,i)}}t+=r>65535?2:1}return fe(n.length,e.length)}function nP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Dq(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return fe(n[t],e[t]);return fe(n.length,e.length)}function qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var rP="__name__",tg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return fe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):tw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}},$e=class n extends tg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Tq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ln=class n extends tg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Tq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rP}static keyField(){return new n([rP])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new G(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Q=class n{constructor(e){this.path=e}static fromPath(e){return new n($e.fromString(e))}static fromName(e){return new n($e.fromString(e).popFirst(5))}static empty(){return new n($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new $e(e.slice()))}};function GP(n,e,t){if(!t)throw new G(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Cq(n,e,t,r){if(e===!0&&r===!0)throw new G(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iP(n){if(!Q.isDocumentKey(n))throw new G(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oP(n){if(Q.isDocumentKey(n))throw new G(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nb(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z(12329,{type:typeof n})}function Yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Nb(n);throw new G(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ot(n,e){let t={typeString:n};return e&&(t.value=e),t}function ql(n,e){if(!WP(n))throw new G(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new G(x.INVALID_ARGUMENT,t);return!0}var sP=-62135596800,aP=1e6,st=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*aP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sP)throw new G(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aP}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ql(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-sP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:ot("string",st._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};var ue=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new st(0,0))}static max(){return new n(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ol=-1,nw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};nw.UNKNOWN_ID=-1;function Sq(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new ps(i,Q.empty(),e)}function Aq(n){return new ps(n.readTime,n.key,Ol)}var ps=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ue.min(),Q.empty(),Ol)}static max(){return new n(ue.max(),Q.empty(),Ol)}};function Rq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Q.comparator(n.documentKey,e.documentKey),t!==0?t:fe(n.largestBatchId,e.largestBatchId))}var Nq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ic(n){return v(this,null,function*(){if(n.code!==x.FAILED_PRECONDITION||n.message!==Nq)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Mq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oc(n){return n.name==="IndexedDbTransactionError"}var Mb=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),Pb=-1;function kg(n){return n==null}function Fl(n){return n===0&&1/n==-1/0}function Pq(n){return typeof n=="number"&&Number.isInteger(n)&&!Fl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var KP="";function xq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cP(e)),e=kq(n.get(t),e);return cP(e)}function kq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case KP:t+="";break;default:t+=o}}return t}function cP(n){return n+KP+""}var Oq="remoteDocuments",QP="owner";var YP="mutationQueues";var ZP="mutations";var JP="documentMutations",Fq="remoteDocumentsV14";var XP="remoteDocumentGlobal";var ex="targets";var tx="targetDocuments";var nx="targetGlobal",rx="collectionParents";var ix="clientMetadata";var ox="bundles";var sx="namedQueries";var Lq="indexConfiguration";var Vq="indexState";var Uq="indexEntries";var ax="documentOverlays";var jq="globals";var Bq=[YP,ZP,JP,Oq,ex,QP,nx,tx,ix,XP,rx,ox,sx],que=[...Bq,ax],$q=[YP,ZP,JP,Fq,ex,QP,nx,tx,ix,XP,rx,ox,sx,ax],Hq=$q,qq=[...Hq,Lq,Vq,Uq];var zue=[...qq,jq];function uP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _s(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ye=class n{constructor(e,t){this.comparator=e,this.root=t||hr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ja(this.root,e,this.comparator,!0)}},ja=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}};hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class n{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ng(this.data.getIterator())}getIteratorFrom(e){return new ng(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ng=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var lr=class n{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new n([])}unionWith(e){let t=new mt(ln.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var rg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Vt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rg("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vt.EMPTY_BYTE_STRING=new Vt("");var zq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(n){if(Ae(!!n,39018),typeof n=="string"){let e=0,t=zq.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(n.seconds),nanos:Fe(n.nanos)}}function Fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xr(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}var ux="server_timestamp",lx="__type__",dx="__previous_value__",hx="__local_write_time__";function xb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lx])===null||t===void 0?void 0:t.stringValue)===ux}function Og(n){let e=n.mapValue.fields[dx];return xb(e)?Og(e):e}function Ll(n){let e=Jr(n.mapValue.fields[hx].timestampValue);return new st(e.seconds,e.nanos)}var iw=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},ig="(default)",og=class n{constructor(e,t){this.projectId=e,this.database=t||ig}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ig}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var kb="__type__",fx="__max__",Wp={mapValue:{fields:{__type__:{stringValue:fx}}}},Ob="__vector__",za="value";function co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xb(n)?4:gx(n)?9007199254740991:px(n)?10:11:Z(28295,{value:n})}function gr(n,e){if(n===e)return!0;let t=co(n);if(t!==co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ll(n).isEqual(Ll(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Jr(i.timestampValue),a=Jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Xr(i.bytesValue).isEqual(Xr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?Fl(s)===Fl(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return qa(n.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(uP(s)!==uP(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!gr(s[u],a[u])))return!1;return!0})(n,e);default:return Z(52216,{left:n})}}function Vl(n,e){return(n.values||[]).find(t=>gr(t,e))!==void 0}function Ga(n,e){if(n===e)return 0;let t=co(n),r=co(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return lP(n.timestampValue,e.timestampValue);case 4:return lP(Ll(n),Ll(e));case 5:return tw(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Xr(o),u=Xr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=fe(a[l],u[l]);if(h!==0)return h}return fe(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=fe(Fe(o.latitude),Fe(s.latitude));return a!==0?a:fe(Fe(o.longitude),Fe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return dP(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[za])===null||a===void 0?void 0:a.arrayValue,T=(u=g[za])===null||u===void 0?void 0:u.arrayValue,M=fe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:dP(y,T)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Wp.mapValue&&s===Wp.mapValue)return 0;if(o===Wp.mapValue)return 1;if(s===Wp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=tw(u[p],h[p]);if(g!==0)return g;let y=Ga(a[u[p]],l[h[p]]);if(y!==0)return y}return fe(u.length,h.length)})(n.mapValue,e.mapValue);default:throw Z(23264,{le:t})}}function lP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return fe(n,e);let t=Jr(n),r=Jr(e),i=fe(t.seconds,r.seconds);return i!==0?i:fe(t.nanos,r.nanos)}function dP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ga(t[i],r[i]);if(o)return o}return fe(t.length,r.length)}function Wa(n){return ow(n)}function ow(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Jr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Xr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Q.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ow(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ow(t.fields[s])}`;return i+"}"})(n.mapValue):Z(61005,{value:n})}function Yp(n){switch(co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Og(n);return e?16+Yp(e):16;case 5:return 2*n.stringValue.length;case 6:return Xr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Yp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return _s(r.fields,(o,s)=>{i+=o.length+Yp(s)}),i})(n.mapValue);default:throw Z(13486,{value:n})}}function sw(n){return!!n&&"integerValue"in n}function Fb(n){return!!n&&"arrayValue"in n}function hP(n){return!!n&&"nullValue"in n}function fP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zp(n){return!!n&&"mapValue"in n}function px(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kb])===null||t===void 0?void 0:t.stringValue)===Ob}function Nl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return _s(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fx}var Wue={mapValue:{fields:{[kb]:{stringValue:Ob},[za]:{arrayValue:{}}}}};var $n=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=ln.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Nl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){_s(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Nl(this.value))}};function mx(n){let e=[];return _s(n.fields,(t,r)=>{let i=new ln([t]);if(Zp(r)){let o=mx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new lr(e)}var Hn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ue.min(),ue.min(),ue.min(),$n.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ue.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ue.min(),ue.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ue.min(),ue.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ka=class{constructor(e,t){this.position=e,this.inclusive=t}};function pP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),t.key):r=Ga(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gr(n.position[t],e.position[t]))return!1;return!0}var Qa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Gq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var sg=class{},dt=class n extends sg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cw(e,t,r):t==="array-contains"?new dw(e,r):t==="in"?new hw(e,r):t==="not-in"?new fw(e,r):t==="array-contains-any"?new pw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uw(e,r):new lw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ga(t,this.value)):t!==null&&co(this.value)===co(t)&&this.matchesComparison(Ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mr=class n extends sg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return yx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function yx(n){return n.op==="and"}function vx(n){return Wq(n)&&yx(n)}function Wq(n){for(let e of n.filters)if(e instanceof mr)return!1;return!0}function aw(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+Wa(n.value);if(vx(n))return n.filters.map(e=>aw(e)).join(",");{let e=n.filters.map(t=>aw(t)).join(",");return`${n.op}(${e})`}}function _x(n,e){return n instanceof dt?(function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)})(n,e):n instanceof mr?(function(r,i){return i instanceof mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_x(s,i.filters[a]),!0):!1})(n,e):void Z(19439)}function Ex(n){return n instanceof dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wa(t.value)}`})(n):n instanceof mr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Ex).join(" ,")+"}"})(n):"Filter"}var cw=class extends dt{constructor(e,t,r){super(e,t,r),this.key=Q.fromName(r.referenceValue)}matches(e){let t=Q.comparator(e.key,this.key);return this.matchesComparison(t)}},uw=class extends dt{constructor(e,t){super(e,"in",t),this.keys=Ix("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},lw=class extends dt{constructor(e,t){super(e,"not-in",t),this.keys=Ix("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Ix(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Q.fromName(r.referenceValue))}var dw=class extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Fb(t)&&Vl(t.arrayValue,this.value)}},hw=class extends dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Vl(this.value.arrayValue,t)}},fw=class extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vl(this.value.arrayValue,t)}},pw=class extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Fb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}};var gw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function mP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new gw(n,e,t,r,i,o,s)}function Lb(n){let e=se(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>aw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),kg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wa(r)).join(",")),e.Pe=t}return e.Pe}function Vb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Gq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_x(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gP(n.startAt,e.startAt)&&gP(n.endAt,e.endAt)}function mw(n){return Q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ya=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Kq(n,e,t,r,i,o,s,a){return new Ya(n,e,t,r,i,o,s,a)}function Fg(n){return new Ya(n)}function yP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Qq(n){return n.collectionGroup!==null}function Ml(n){let e=se(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mt(ln.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Qa(o,r))}),t.has(ln.keyField().canonicalString())||e.Te.push(new Qa(ln.keyField(),r))}return e.Te}function fr(n){let e=se(n);return e.Ie||(e.Ie=Yq(e,Ml(n))),e.Ie}function Yq(n,e){if(n.limitType==="F")return mP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Qa(i.field,o)});let t=n.endAt?new Ka(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ka(n.startAt.position,n.startAt.inclusive):null;return mP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yw(n,e,t){return new Ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lg(n,e){return Vb(fr(n),fr(e))&&n.limitType===e.limitType}function wx(n){return`${Lb(fr(n))}|lt:${n.limitType}`}function La(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Ex(i)).join(", ")}]`),kg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wa(i)).join(",")),`Target(${r})`})(fr(n))}; limitType=${n.limitType})`}function Vg(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Ml(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=pP(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Ml(r),i)||r.endAt&&!(function(s,a,u){let l=pP(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Ml(r),i))})(n,e)}function Zq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bx(n){return(e,t)=>{let r=!1;for(let i of Ml(n)){let o=Jq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Jq(n,e,t){let r=n.field.isKeyField()?Q.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ga(u,l):Z(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:n.dir})}}var ei=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return cx(this.inner)}size(){return this.innerSize}};var Xq=new Ye(Q.comparator);function ti(){return Xq}var Dx=new Ye(Q.comparator);function Rl(...n){let e=Dx;for(let t of n)e=e.insert(t.key,t);return e}function Tx(n){let e=Dx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function us(){return Pl()}function Cx(){return Pl()}function Pl(){return new ei(n=>n.toString(),(n,e)=>n.isEqual(e))}var e6=new Ye(Q.comparator),t6=new mt(Q.comparator);function _e(...n){let e=t6;for(let t of n)e=e.add(t);return e}var n6=new mt(fe);function r6(){return n6}function Ub(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(e)?"-0":e}}function Sx(n){return{integerValue:""+n}}function i6(n,e){return Pq(e)?Sx(e):Ub(n,e)}var Za=class{constructor(){this._=void 0}};function o6(n,e,t){return n instanceof Ja?(function(i,o){let s={fields:{[lx]:{stringValue:ux},[hx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xb(o)&&(o=Og(o)),o&&(s.fields[dx]=o),{mapValue:s}})(t,e):n instanceof gs?Rx(n,e):n instanceof ms?Nx(n,e):(function(i,o){let s=Ax(i,o),a=vP(s)+vP(i.Ee);return sw(s)&&sw(i.Ee)?Sx(a):Ub(i.serializer,a)})(n,e)}function s6(n,e,t){return n instanceof gs?Rx(n,e):n instanceof ms?Nx(n,e):t}function Ax(n,e){return n instanceof Xa?(function(r){return sw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Ja=class extends Za{},gs=class extends Za{constructor(e){super(),this.elements=e}};function Rx(n,e){let t=Mx(e);for(let r of n.elements)t.some(i=>gr(i,r))||t.push(r);return{arrayValue:{values:t}}}var ms=class extends Za{constructor(e){super(),this.elements=e}};function Nx(n,e){let t=Mx(e);for(let r of n.elements)t=t.filter(i=>!gr(i,r));return{arrayValue:{values:t}}}var Xa=class extends Za{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function vP(n){return Fe(n.integerValue||n.doubleValue)}function Mx(n){return Fb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function a6(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof gs&&i instanceof gs||r instanceof ms&&i instanceof ms?qa(r.elements,i.elements,gr):r instanceof Xa&&i instanceof Xa?gr(r.Ee,i.Ee):r instanceof Ja&&i instanceof Ja})(n.transform,e.transform)}var vw=class{constructor(e,t){this.version=e,this.transformResults=t}},no=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ec=class{};function Px(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ag(n.key,no.none()):new ys(n.key,n.data,no.none());{let t=n.data,r=$n.empty(),i=new mt(ln.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ni(n.key,r,new lr(i.toArray()),no.none())}}function c6(n,e,t){n instanceof ys?(function(i,o,s){let a=i.value.clone(),u=EP(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof ni?(function(i,o,s){if(!Jp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=EP(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(xx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function xl(n,e,t,r){return n instanceof ys?(function(o,s,a,u){if(!Jp(o.precondition,s))return a;let l=o.value.clone(),h=IP(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof ni?(function(o,s,a,u){if(!Jp(o.precondition,s))return a;let l=IP(o.fieldTransforms,u,s),h=s.data;return h.setAll(xx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Jp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function u6(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Ax(r.transform,i||null);o!=null&&(t===null&&(t=$n.empty()),t.set(r.field,o))}return t||null}function _P(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qa(r,i,(o,s)=>a6(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ys=class extends ec{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ni=class extends ec{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function xx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function EP(n,e,t){let r=new Map;Ae(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,s6(s,a,t[i]))}return r}function IP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,o6(o,s,e))}return r}var ag=class extends ec{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},_w=class extends ec{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ew=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&c6(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=xl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=xl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Cx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=Px(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(t,r)=>_P(t,r))&&qa(this.baseMutations,e.baseMutations,(t,r)=>_P(t,r))}},Iw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return e6})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var ww=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var bw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var rt,Ie;function l6(n){switch(n){case x.OK:return Z(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return Z(15467,{code:n})}}function kx(n){if(n===void 0)return Zr("GRPC error has no .code"),x.UNKNOWN;switch(n){case rt.OK:return x.OK;case rt.CANCELLED:return x.CANCELLED;case rt.UNKNOWN:return x.UNKNOWN;case rt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case rt.INTERNAL:return x.INTERNAL;case rt.UNAVAILABLE:return x.UNAVAILABLE;case rt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case rt.NOT_FOUND:return x.NOT_FOUND;case rt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case rt.ABORTED:return x.ABORTED;case rt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case rt.DATA_LOSS:return x.DATA_LOSS;default:return Z(39323,{code:n})}}(Ie=rt||(rt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var wP=null;var d6=new Kr([4294967295,4294967295],0);function bP(n){let e=zP().encode(n),t=new UI;return t.update(e),new Uint8Array(t.digest())}function DP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Kr([t,r],0),new Kr([i,o],0)]}var Dw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ls(`Invalid padding: ${t}`);if(r<0)throw new ls(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ls(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ls(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Kr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Kr.fromNumber(r)));return i.compare(d6)===1&&(i=new Kr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=bP(e),[r,i]=DP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=bP(e),[r,i]=DP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ls=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var cg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ue.min(),i,new Ye(fe),ti(),_e())}},Ul=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,_e(),_e(),_e())}};var Ba=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},ug=class{constructor(e,t){this.targetId=e,this.De=t}},lg=class{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},dg=class{constructor(){this.ve=0,this.Ce=TP(),this.Fe=Vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_e(),t=_e(),r=_e();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:o})}}),new Ul(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=TP()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Tw=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=ti(),this.je=Kp(),this.Je=Kp(),this.He=new Ye(fe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(mw(o))if(r===0){let s=new Q(o.path);this.Xe(t,s,Hn.newNoDocument(s,ue.min()))}else Ae(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}wP?.ct((function(h,p,g,y,T){var M,R,F,W,z,te;let qe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ge=p.unchangedNames;return ge&&(qe.bloomFilter={applied:T===0,hashCount:(M=ge?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(W=(F=(R=ge?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&W!==void 0?W:0,padding:(te=(z=ge?.bits)===null||z===void 0?void 0:z.padding)!==null&&te!==void 0?te:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),qe})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Xr(r).toUint8Array()}catch(u){if(u instanceof rg)return ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Dw(s,i,o)}catch(u){return ao(u instanceof ls?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&mw(a.target)){let u=new Q(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Hn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=_e();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new cg(e,t,this.He,this.ze,r);return this.ze=ti(),this.je=Kp(),this.Je=Kp(),this.He=new Ye(fe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new dg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new mt(fe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new mt(fe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Kp(){return new Ye(Q.comparator)}function TP(){return new Ye(Q.comparator)}var h6={asc:"ASCENDING",desc:"DESCENDING"},f6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p6={and:"AND",or:"OR"},Cw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Sw(n,e){return n.useProto3Json||kg(e)?e:{value:e}}function hg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ox(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function g6(n,e){return hg(n,e.toTimestamp())}function pr(n){return Ae(!!n,49232),ue.fromTimestamp((function(t){let r=Jr(t);return new st(r.seconds,r.nanos)})(n))}function jb(n,e){return Aw(n,e).canonicalString()}function Aw(n,e){let t=(function(i){return new $e(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Fx(n){let e=$e.fromString(n);return Ae(Bx(e),10190,{key:e.toString()}),e}function Rw(n,e){return jb(n.databaseId,e.path)}function zI(n,e){let t=Fx(e);if(t.get(1)!==n.databaseId.projectId)throw new G(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Q(Vx(t))}function Lx(n,e){return jb(n.databaseId,e)}function m6(n){let e=Fx(n);return e.length===4?$e.emptyPath():Vx(e)}function Nw(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vx(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function CP(n,e,t){return{name:Rw(n,e),fields:t.value.mapValue.fields}}function y6(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),Vt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Vt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?x.UNKNOWN:kx(l.code);return new G(h,l.message||"")})(s);t=new lg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zI(n,r.document.name),o=pr(r.document.updateTime),s=r.document.createTime?pr(r.document.createTime):ue.min(),a=new $n({mapValue:{fields:r.document.fields}}),u=Hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ba(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zI(n,r.document),o=r.readTime?pr(r.readTime):ue.min(),s=Hn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ba([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zI(n,r.document),o=r.removedTargetIds||[];t=new Ba([],o,i,null)}else{if(!("filter"in e))return Z(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new bw(i,o),a=r.targetId;t=new ug(a,s)}}return t}function v6(n,e){let t;if(e instanceof ys)t={update:CP(n,e.key,e.value)};else if(e instanceof ag)t={delete:Rw(n,e.key)};else if(e instanceof ni)t={update:CP(n,e.key,e.data),updateMask:S6(e.fieldMask)};else{if(!(e instanceof _w))return Z(16599,{Rt:e.type});t={verify:Rw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ms)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xa)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Z(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:g6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z(27497)})(n,e.precondition)),t}function _6(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?pr(i.updateTime):pr(o);return s.isEqual(ue.min())&&(s=pr(o)),new vw(s,i.transformResults||[])})(t,e))):[]}function E6(n,e){return{documents:[Lx(n,e.path)]}}function I6(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Lx(n,i);let o=(function(l){if(l.length!==0)return jx(mr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:Va(g.field),direction:D6(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Sw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function w6(n){let e=m6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ae(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=Ux(p);return g instanceof mr&&vx(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(T){return new Qa(Ua(T.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,kg(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Ka(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Ka(y,g)})(t.endAt)),Kq(e,i,s,o,a,"F",u,l)}function b6(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ux(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ua(t.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ua(t.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ua(t.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ua(t.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}})(n):n.fieldFilter!==void 0?(function(t){return dt.create(Ua(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return mr.create(t.compositeFilter.filters.map(r=>Ux(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}})(t.compositeFilter.op))})(n):Z(30097,{filter:n})}function D6(n){return h6[n]}function T6(n){return f6[n]}function C6(n){return p6[n]}function Va(n){return{fieldPath:n.canonicalString()}}function Ua(n){return ln.fromServerFormat(n.fieldPath)}function jx(n){return n instanceof dt?(function(t){if(t.op==="=="){if(fP(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NAN"}};if(hP(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fP(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NAN"}};if(hP(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(t.field),op:T6(t.op),value:t.value}}})(n):n instanceof mr?(function(t){let r=t.getFilters().map(i=>jx(i));return r.length===1?r[0]:{compositeFilter:{op:C6(t.op),filters:r}}})(n):Z(54877,{filter:n})}function S6(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var jl=class n{constructor(e,t,r,i,o=ue.min(),s=ue.min(),a=Vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Mw=class{constructor(e){this.gt=e}};function A6(n){let e=w6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yw(e,e.limit,"L"):e}var fg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Fl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Jr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Xr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?gx(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):px(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Z(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=za,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Fe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Q.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};fg.Ut=new fg;var Pw=class{constructor(){this.Dn=new xw}addToCollectionParentIndex(e,t){return this.Dn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(ps.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},xw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new mt($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt($e.comparator)).toArray()}};var Kue=new Uint8Array(0);var SP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$x=41943040,Tn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn($x,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);var Bl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var AP="LruGarbageCollector",R6=1048576;function RP([n,e],[t,r]){let i=fe(n,t);return i===0?fe(e,r):i}var kw=class{constructor(e){this.Tr=e,this.buffer=new mt(RP),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();RP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Ow=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(AP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){oc(t)?B(AP,"Ignoring IndexedDB error during garbage collection: ",t):yield ic(t)}yield this.Rr(3e5)}))}},Fw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(Mb.ue);let r=new kw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(SP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SP):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Fa()<=pe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function N6(n,e){return new Fw(n,e)}var Lw=class{constructor(){this.changes=new ei(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Vw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Uw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&xl(r.mutation,i,lr.empty(),st.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_e()){let i=us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Rl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_e()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ti(),s=Pl(),a=(function(){return Pl()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ni)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),xl(h.mutation,l,h.mutation.getFieldMask(),st.now())):s.set(l.key,lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Vw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Pl(),i=new Ye((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||lr.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=Cx();h.forEach(g=>{if(!o.has(g)){let y=Px(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qq(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(us()),a=Ol,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:Tx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Q(t)).next(r=>{let i=Rl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Rl();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=(function(p,g){return new Ya(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Hn.newInvalidDocument(h)))});let a=Rl();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&xl(h.mutation,l,lr.empty(),st.now()),Vg(t,l)&&(a=a.insert(u,l))}),a})}};var jw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return O.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:pr(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:A6(i.bundledQuery),readTime:pr(i.readTime)}})(t)),O.resolve()}};var Bw=class{constructor(){this.overlays=new Ye(Q.comparator),this.kr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=us();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=us(),o=t.length+1,s=new Q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ye((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=us(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=us(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ww(t,r));let o=this.kr.get(t);o===void 0&&(o=_e(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var $w=class{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var $l=class{constructor(){this.qr=new mt(it.Qr),this.$r=new mt(it.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new it(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new it(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Q(new $e([])),r=new it(t,e),i=new it(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Q(new $e([])),r=new it(t,e),i=new it(t,e+1),o=_e();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new it(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},it=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Q.comparator(e.key,t.key)||fe(e.Hr,t.Hr)}static Ur(e,t){return fe(e.Hr,t.Hr)||Q.comparator(e.key,t.key)}};var Hw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new mt(it.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ew(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new it(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?Pb:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new it(t,0),i=new it(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(fe);return t.forEach(i=>{let o=new it(i,0),s=new it(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new it(new Q(o),0),a=new mt(fe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(t.mutations,i=>{let o=new it(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new it(t,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var qw=class{constructor(e){this.ni=e,this.docs=(function(){return new Ye(Q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let r=ti();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Hn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ti(),s=t.path,a=new Q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Rq(Aq(h),r)<=0||(i.has(h.key)||Vg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z(9500)}ri(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zw(this)}getSize(e){return O.resolve(this.size)}},zw=class extends Lw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Gw=class{constructor(e){this.persistence=e,this.ii=new ei(t=>Lb(t),Vb),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.si=0,this.oi=new $l,this.targetCount=0,this._i=Bl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),O.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Bl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.hr(t),O.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.oi.containsKey(t))}};var pg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Mb(0),this.ci=!1,this.ci=!0,this.li=new $w,this.referenceDelegate=e(this),this.hi=new Gw(this),this.indexManager=new Pw,this.remoteDocumentCache=(function(i){return new qw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Mw(t),this.Ti=new jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Hw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new Ww(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Ww=class extends rw{constructor(e){super(),this.currentSequenceNumber=e}},Kw=class n{constructor(e){this.persistence=e,this.Ai=new $l,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Z(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=Q.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ue.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return O.or([()=>O.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},gg=class n{constructor(e,t){this.persistence=e,this.gi=new ei(r=>xq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=N6(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ue.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yp(e.data.value)),t}Sr(e,t,r){return O.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Qw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=_e(),i=_e();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Yw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Zw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return mN()?8:Mq(pt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Yw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Fa()<=pe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",La(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(Fa()<=pe.DEBUG&&B("QueryEngine","Query:",La(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Fa()<=pe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",La(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):O.resolve())}ps(e,t){if(yP(t))return O.resolve(null);let r=fr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=yw(t,null,"F"),r=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,yw(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return yP(t)||i.isEqual(ue.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?O.resolve(null):(Fa()<=pe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(t)),this.vs(e,s,t,Sq(i,Ol)).next(a=>a))})}bs(e,t){let r=new mt(bx(e));return t.forEach((i,o)=>{Vg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Fa()<=pe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",La(t)),this.gs.getDocumentsMatchingQuery(e,t,ps.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Bb="LocalStore",M6=3e8,Jw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ye(fe),this.Ms=new ei(o=>Lb(o),Vb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function P6(n,e,t,r){return new Jw(n,e,t,r)}function Hx(n,e){return v(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function x6(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),y=O.resolve();return g.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(M=>{let R=l.docVersions.get(T);Ae(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function qx(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function k6(n,e){let t=se(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Vt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=M6?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(g,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=ti(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(O6(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ue.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function O6(n,e,t){let r=_e(),i=_e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ti();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(Bb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function F6(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Pb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L6(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new jl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Xw(n,e,t){return v(this,null,function*(){let r=se(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!oc(s))throw s;B(Bb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function NP(n,e,t){let r=se(n),i=ue.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=se(u),g=p.Ms.get(h);return g!==void 0?O.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,fr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ue.min(),t?o:_e())).next(a=>(V6(r,Zq(e),a),{documents:a,qs:o})))}function V6(n,e,t){let r=n.xs.get(e)||ue.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var mg=class{constructor(){this.activeTargetIds=r6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var eb=class{constructor(){this.Fo=new mg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new mg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var tb=class{xo(e){}shutdown(){}};var MP="ConnectivityMonitor",yg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(MP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){B(MP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qp=null;function nb(){return Qp===null?Qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qp++,"0x"+Qp.toString(16)}var GI="RestConnection",U6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},rb=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ig?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=nb(),a=this.Go(e,t.toUriEncodedString());B(GI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=jn(l);return this.jo(e,a,u,r,h).then(p=>(B(GI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ao(GI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=U6[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var ib=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Lt="WebChannelConnection",ob=class extends rb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=nb();return new Promise((a,u)=>{let l=new jI;l.setWithCredentials(!0),l.listenOnce(BI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Al.NO_ERROR:let p=l.getResponseJson();B(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Al.TIMEOUT:B(Lt,`RPC '${e}' ${s} timed out`),u(new G(x.DEADLINE_EXCEEDED,"Request time out"));break;case Al.HTTP_ERROR:let g=l.getStatus();if(B(Lt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let M=(function(F){let W=F.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(W)>=0?W:x.UNKNOWN})(T.status);u(new G(M,T.message))}else u(new G(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new G(x.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{B(Lt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(Lt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=nb(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qI(),a=HI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(Lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,T=new ib({Ho:R=>{y?B(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(B(Lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(Lt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,F,W)=>{R.listen(F,z=>{try{W(z)}catch(te){setTimeout(()=>{throw te},0)}})};return M(p,Oa.EventType.OPEN,()=>{y||(B(Lt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),M(p,Oa.EventType.CLOSE,()=>{y||(y=!0,B(Lt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),M(p,Oa.EventType.ERROR,R=>{y||(y=!0,ao(Lt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.__(new G(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,Oa.EventType.MESSAGE,R=>{var F;if(!y){let W=R.data[0];Ae(!!W,16349);let z=W,te=z?.error||((F=z[0])===null||F===void 0?void 0:F.error);if(te){B(Lt,`RPC '${e}' stream ${i} received error:`,te);let qe=te.status,ge=(function(E){let w=rt[E];if(w!==void 0)return kx(w)})(qe),b=te.message;ge===void 0&&(ge=x.INTERNAL,b="Unknown error status: "+qe+" with message "+te.message),y=!0,T.__(new G(ge,b)),p.close()}else B(Lt,`RPC '${e}' stream ${i} received:`,W),T.a_(W)}}),M(a,$I.STAT_EVENT,R=>{R.stat===Gp.PROXY?B(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Gp.NOPROXY&&B(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function WI(){return typeof document<"u"?document:null}function Ug(n){return new Cw(n,!0)}var vg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var PP="PersistentStream",_g=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new vg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new G(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return B(PP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(B(PP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sb=class extends _g{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=y6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?pr(s.readTime):ue.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Nw(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=mw(u)?{documents:E6(o,u)}:{query:I6(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Ox(o,s.resumeToken);let l=Sw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=hg(o,s.snapshotVersion.toTimestamp());let l=Sw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=b6(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Nw(this.serializer),t.removeTarget=e,this.k_(t)}},ab=class extends _g{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=_6(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Nw(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>v6(this.serializer,r))};this.k_(t)}};var cb=class{},ub=class extends cb{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new G(x.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Aw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(x.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Aw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(x.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},lb=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Zr(t),this._a=!1):B("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var vs="RemoteStore",db=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Es(this)&&(B(vs,"Restarting streams for network reachability change."),yield(function(u){return v(this,null,function*(){let l=se(u);l.Ia.add(4),yield zl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield jg(l)})})(this))}))}),this.Aa=new lb(r,i)}};function jg(n){return v(this,null,function*(){if(Es(n))for(let e of n.da)yield e(!0)})}function zl(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function zx(n,e){let t=se(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),zb(t)?qb(t):sc(t).x_()&&Hb(t,e))}function $b(n,e){let t=se(n),r=sc(t);t.Ta.delete(e),r.x_()&&Gx(t,e),t.Ta.size===0&&(r.x_()?r.B_():Es(t)&&t.Aa.set("Unknown"))}function Hb(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sc(n).H_(e)}function Gx(n,e){n.Ra.$e(e),sc(n).Y_(e)}function qb(n){n.Ra=new Tw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),sc(n).start(),n.Aa.aa()}function zb(n){return Es(n)&&!sc(n).M_()&&n.Ta.size>0}function Es(n){return se(n).Ia.size===0}function Wx(n){n.Ra=void 0}function j6(n){return v(this,null,function*(){n.Aa.set("Online")})}function B6(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{Hb(n,e)})})}function $6(n,e){return v(this,null,function*(){Wx(n),zb(n)?(n.Aa.la(e),qb(n)):n.Aa.set("Unknown")})}function H6(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof lg&&e.state===2&&e.cause)try{yield(function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){B(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Eg(n,r)}else if(e instanceof Ba?n.Ra.Ye(e):e instanceof ug?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ue.min()))try{let r=yield qx(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),Gx(o,u);let p=new jl(h.target,u,l,h.sequenceNumber);Hb(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){B(vs,"Failed to raise snapshot:",r),yield Eg(n,r)}})}function Eg(n,e,t){return v(this,null,function*(){if(!oc(e))throw e;n.Ia.add(1),yield zl(n),n.Aa.set("Offline"),t||(t=()=>qx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){B(vs,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield jg(n)}))})}function Kx(n,e){return e().catch(t=>Eg(n,t,e))}function Bg(n){return v(this,null,function*(){let e=se(n),t=uo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Pb;for(;q6(e);)try{let i=yield F6(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,z6(e,i)}catch(i){yield Eg(e,i)}Qx(e)&&Yx(e)})}function q6(n){return Es(n)&&n.Pa.length<10}function z6(n,e){n.Pa.push(e);let t=uo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Qx(n){return Es(n)&&!uo(n).M_()&&n.Pa.length>0}function Yx(n){uo(n).start()}function G6(n){return v(this,null,function*(){uo(n).na()})}function W6(n){return v(this,null,function*(){let e=uo(n);for(let t of n.Pa)e.X_(t.mutations)})}function K6(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=Iw.from(r,e,t);yield Kx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Bg(n)})}function Q6(n,e){return v(this,null,function*(){e&&uo(n).Z_&&(yield(function(r,i){return v(this,null,function*(){if((function(s){return l6(s)&&s!==x.ABORTED})(i.code)){let o=r.Pa.shift();uo(r).N_(),yield Kx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bg(r)}})})(n,e)),Qx(n)&&Yx(n)})}function xP(n,e){return v(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),B(vs,"RemoteStore received new credentials");let r=Es(t);t.Ia.add(3),yield zl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield jg(t)})}function Y6(n,e){return v(this,null,function*(){let t=se(n);e?(t.Ia.delete(2),yield jg(t)):e||(t.Ia.add(2),yield zl(t),t.Aa.set("Unknown"))})}function sc(n){return n.Va||(n.Va=(function(t,r,i){let o=se(t);return o.ia(),new sb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:j6.bind(null,n),e_:B6.bind(null,n),n_:$6.bind(null,n),J_:H6.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),zb(n)?qb(n):n.Aa.set("Unknown")):(yield n.Va.stop(),Wx(n))}))),n.Va}function uo(n){return n.ma||(n.ma=(function(t,r,i){let o=se(t);return o.ia(),new ab(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:G6.bind(null,n),n_:Q6.bind(null,n),ea:W6.bind(null,n),ta:K6.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield Bg(n)):(yield n.ma.stop(),n.Pa.length>0&&(B(vs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var hb=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Gb(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),oc(n))return new G(x.UNAVAILABLE,`${e}: ${n}`);throw n}var Ig=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Q.comparator(t.key,r.key):(t,r)=>Q.comparator(t.key,r.key),this.keyedMap=Rl(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var wg=class{constructor(){this.fa=new Ye(Q.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Z(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},tc=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ig.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var fb=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},pb=class{constructor(){this.queries=kP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=se(t),o=i.queries;i.queries=kP(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new G(x.ABORTED,"Firestore shutting down"))}};function kP(){return new ei(n=>wx(n),Lg)}function Zx(n,e){return v(this,null,function*(){let t=se(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new fb,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Gb(s,`Initialization of query '${La(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Wb(t)})}function Jx(n,e){return v(this,null,function*(){let t=se(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Z6(n,e){let t=se(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&Wb(t)}function J6(n,e,t){let r=se(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function Wb(n){n.Da.forEach(e=>{e.next()})}var gb,OP;(OP=gb||(gb={})).Fa="default",OP.Cache="cache";var bg=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==gb.Cache}};var Dg=class{constructor(e){this.key=e}},Tg=class{constructor(e){this.key=e}},mb=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_e(),this.mutatedKeys=_e(),this.Xa=bx(e),this.eu=new Ig(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new wg,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Vg(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?T!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,T){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{At:R})}};return M(y)-M(T)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new tc(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new wg,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=_e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Tg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Dg(r))}),t}uu(e){this.Ha=e.qs,this.Za=_e();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return tc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Kb="SyncEngine",yb=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},vb=class{constructor(e){this.key=e,this.lu=!1}},_b=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ei(a=>wx(a),Lg),this.Tu=new Map,this.Iu=new Set,this.du=new Ye(Q.comparator),this.Eu=new Map,this.Au=new $l,this.Ru={},this.Vu=new Map,this.mu=Bl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function X6(n,e,t=!0){return v(this,null,function*(){let r=ik(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield Xx(r,e,t,!0),i})}function ez(n,e){return v(this,null,function*(){let t=ik(n);yield Xx(t,e,!0,!1)})}function Xx(n,e,t,r){return v(this,null,function*(){let i=yield L6(n.localStore,fr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield tz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&zx(n.remoteStore,i),a})}function tz(n,e,t,r,i){return v(this,null,function*(){n.gu=(p,g,y)=>(function(M,R,F,W){return v(this,null,function*(){let z=R.view.nu(F);z.Ds&&(z=yield NP(M.localStore,R.query,!1).then(({documents:b})=>R.view.nu(b,z)));let te=W&&W.targetChanges.get(R.targetId),qe=W&&W.targetMismatches.get(R.targetId)!=null,ge=R.view.applyChanges(z,M.isPrimaryClient,te,qe);return LP(M,R.targetId,ge._u),ge.snapshot})})(n,p,g,y);let o=yield NP(n.localStore,e,!0),s=new mb(e,o.qs),a=s.nu(o.documents),u=Ul.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);LP(n,t,l._u);let h=new yb(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function nz(n,e,t){return v(this,null,function*(){let r=se(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Lg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&$b(r.remoteStore,i.targetId),Eb(r,i.targetId)}).catch(ic))):(Eb(r,i.targetId),yield Xw(r.localStore,i.targetId,!0))})}function rz(n,e){return v(this,null,function*(){let t=se(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$b(t.remoteStore,r.targetId))})}function iz(n,e,t){return v(this,null,function*(){let r=dz(n);try{let i=yield(function(s,a){let u=se(s),l=st.now(),h=a.reduce((y,T)=>y.add(T.key),_e()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=ti(),M=_e();return u.Os.getEntries(y,h).next(R=>{T=R,T.forEach((F,W)=>{W.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let F=[];for(let W of a){let z=u6(W,p.get(W.key).overlayedDocument);z!=null&&F.push(new ni(W.key,z,mx(z.value.mapValue),no.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{g=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:g.batchId,changes:Tx(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ye(fe)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Gl(r,i.changes),yield Bg(r.remoteStore)}catch(i){let o=Gb(i,"Failed to persist write");t.reject(o)}})}function ek(n,e){return v(this,null,function*(){let t=se(n);try{let r=yield k6(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ae(s.lu,14607):i.removedDocuments.size>0&&(Ae(s.lu,42227),s.lu=!1))}),yield Gl(t,r,e)}catch(r){yield ic(r)}})}function FP(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=se(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&Wb(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oz(n,e,t){return v(this,null,function*(){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ye(Q.comparator);s=s.insert(o,Hn.newNoDocument(o,ue.min()));let a=_e().add(o),u=new cg(ue.min(),new Map,new Ye(fe),s,a);yield ek(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Qb(r)}else yield Xw(r.localStore,e,!1).then(()=>Eb(r,e,t)).catch(ic)})}function sz(n,e){return v(this,null,function*(){let t=se(n),r=e.batch.batchId;try{let i=yield x6(t.localStore,e);nk(t,r,null),tk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gl(t,i)}catch(i){yield ic(i)}})}function az(n,e,t){return v(this,null,function*(){let r=se(n);try{let i=yield(function(s,a){let u=se(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);nk(r,e,t),tk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gl(r,i)}catch(i){yield ic(i)}})}function tk(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function nk(n,e,t){let r=se(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Eb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||rk(n,r)})}function rk(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&($b(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Qb(n))}function LP(n,e,t){for(let r of t)r instanceof Dg?(n.Au.addReference(r.key,e),cz(n,r)):r instanceof Tg?(B(Kb,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||rk(n,r.key)):Z(19791,{yu:r})}function cz(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(B(Kb,"New document in limbo: "+t),n.Iu.add(r),Qb(n))}function Qb(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new Q($e.fromString(e)),r=n.mu.next();n.Eu.set(r,new vb(t)),n.du=n.du.insert(t,r),zx(n.remoteStore,new jl(fr(Fg(t.path)),r,"TargetPurposeLimboResolution",Mb.ue))}}function Gl(n,e,t){return v(this,null,function*(){let r=se(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Qw.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return v(this,null,function*(){let h=se(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,g=>O.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>O.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!oc(p))throw p;B(Bb,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),T=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(g,M)}}})})(r.localStore,o))})}function uz(n,e){return v(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){B(Kb,"User change. New user:",e.toKey());let r=yield Hx(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new G(x.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gl(t,r.Bs)}})}function lz(n,e){let t=se(n),r=t.Eu.get(e);if(r&&r.lu)return _e().add(r.key);{let i=_e(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function ik(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ek.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oz.bind(null,e),e.hu.J_=Z6.bind(null,e.eventManager),e.hu.pu=J6.bind(null,e.eventManager),e}function dz(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=az.bind(null,e),e}var ok=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Ug(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return P6(this.persistence,new Zw,t.initialUser,this.serializer)}Du(t){return new pg(Kw.Vi,this.serializer)}bu(t){return new eb}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Ib=class extends ok{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ae(this.persistence.referenceDelegate instanceof gg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Ow(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new pg(r=>gg.Vi(r,t),this.serializer)}};var hz=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uz.bind(null,this.syncEngine),yield Y6(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new pb})()}createDatastore(t){let r=Ug(t.databaseInfo.databaseId),i=(function(s){return new ob(s)})(t.databaseInfo);return(function(s,a,u,l){return new ub(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new db(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>FP(this.syncEngine,r,0),(function(){return yg.C()?new yg:new tb})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new _b(o,s,a,u,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield(function(o){return v(this,null,function*(){let s=se(o);B(vs,"RemoteStore shutting down."),s.Ia.add(5),yield zl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Cg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var lo="FirestoreClient",wb=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=kl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){B(lo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(lo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Gb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function KI(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B(lo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield Hx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ao("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ao("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function VP(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield fz(n);B(lo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xP(e.remoteStore,i)),n._onlineComponents=e})}function fz(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(lo,"Using user provided OfflineComponentProvider");try{yield KI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ao("Error using user provided cache. Falling back to memory cache: "+t),yield KI(n,new ok)}}else B(lo,"Using default OfflineComponentProvider"),yield KI(n,new Ib(void 0));return n._offlineComponents})}function sk(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(lo,"Using user provided OnlineComponentProvider"),yield VP(n,n._uninitializedComponentsProvider._online)):(B(lo,"Using default OnlineComponentProvider"),yield VP(n,new hz))),n._onlineComponents})}function pz(n){return sk(n).then(e=>e.syncEngine)}function bb(n){return v(this,null,function*(){let e=yield sk(n),t=e.eventManager;return t.onListen=X6.bind(null,e.syncEngine),t.onUnlisten=nz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ez.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rz.bind(null,e.syncEngine),t})}function gz(n,e,t={}){let r=new dr;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return(function(o,s,a,u,l){let h=new Cg({next:g=>{h.Ou(),s.enqueueAndForget(()=>Jx(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new G(x.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new G(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new bg(Fg(a.path),h,{includeMetadataChanges:!0,ka:!0});return Zx(o,p)})(yield bb(n),n.asyncQueue,e,t,r)})),r.promise}function ak(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var UP=new Map;var ck="firestore.googleapis.com",jP=!0,Sg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ck,this.ssl=jP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:jP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$x;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R6)throw new G(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ak((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},nc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QI;switch(r.type){case"firstParty":return new XI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=UP.get(t);r&&(B("ComponentProvider","Removing Datastore"),UP.delete(t),r.terminate())})(this),Promise.resolve()}};function uk(n,e,t,r={}){var i;n=Yr(n,nc);let o=jn(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Ca(`https://${u}`),Sa("Firestore",!0)),s.host!==ck&&s.host!==u&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ir(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=gt.MOCK_USER;else{h=vp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new G(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new gt(g)}n._authCredentials=new YI(new Xp(h,p))}}var Ag=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ct=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ql(t,n._jsonSchema))return new n(e,r||null,new Q($e.fromString(t.referencePath)))}};Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:ot("string",Ct._jsonSchemaVersion),referencePath:ot("string")};var ro=class n extends Ag{constructor(e,t,r){super(e,t,Fg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function lk(n,e,...t){if(n=Be(n),GP("collection","path",e),n instanceof nc){let r=$e.fromString(e,...t);return oP(r),new ro(n,null,r)}{if(!(n instanceof Ct||n instanceof ro))throw new G(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return oP(r),new ro(n.firestore,null,r)}}function Yb(n,e,...t){if(n=Be(n),arguments.length===1&&(e=kl.newId()),GP("doc","path",e),n instanceof nc){let r=$e.fromString(e,...t);return iP(r),new Ct(n,null,new Q(r))}{if(!(n instanceof Ct||n instanceof ro))throw new G(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return iP(r),new Ct(n.firestore,n instanceof ro?n.converter:null,new Q(r))}}var BP="AsyncQueue",Rg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new vg(this,"async_queue_retry"),this.oc=()=>{let r=WI();r&&B(BP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=WI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=WI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new dr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!oc(e))throw e;B(BP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Zr("INTERNAL UNHANDLED ERROR: ",$P(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=hb.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Z(47125,{hc:$P(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function $P(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function HP(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var ho=class extends nc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Rg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Rg(e),this._firestoreClient=void 0,yield e}})}};function dk(n,e){let t=typeof n=="object"?n:$r(),r=typeof n=="string"?n:e||ig,i=Wi(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=yp("firestore");o&&uk(i,...o)}return i}function Zb(n){if(n._terminated)throw new G(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mz(n),n._firestoreClient}function mz(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new iw(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ak(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new wb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var io=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Vt.fromBase64String(e))}catch(t){throw new G(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ql(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};io._jsonSchemaVersion="firestore/bytes/1.0",io._jsonSchema={type:ot("string",io._jsonSchemaVersion),bytes:ot("string")};var Hl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ng=class{constructor(e){this._methodName=e}};var oo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ql(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};oo._jsonSchemaVersion="firestore/geoPoint/1.0",oo._jsonSchema={type:ot("string",oo._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};var so=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ql(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new G(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};so._jsonSchemaVersion="firestore/vectorValue/1.0",so._jsonSchema={type:ot("string",so._jsonSchemaVersion),vectorValues:ot("object")};var yz=/^__.*__$/,Db=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new ys(e,this.data,t,this.fieldTransforms)}};function hk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ec:n})}}var Tb=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(hk(this.Ec)&&yz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Cb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ug(e)}Dc(e,t,r,i=!1){return new Tb({Ec:e,methodName:t,bc:r,path:ln.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fk(n){let e=n._freezeSettings(),t=Ug(n._databaseId);return new Cb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pk(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);vk("Data must be an object, but it was:",s,r);let a=mk(r,s),u,l;if(o.merge)u=new lr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=vz(e,p,t);if(!s.contains(g))throw new G(x.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Ez(h,g)||h.push(g)}u=new lr(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Db(new $n(a),u,l)}function gk(n,e){if(yk(n=Be(n)))return vk("Unsupported field value:",e,n),mk(n,e);if(n instanceof Ng)return(function(r,i){if(!hk(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=gk(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=st.fromDate(r);return{timestampValue:hg(i.serializer,o)}}if(r instanceof st){let o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hg(i.serializer,o)}}if(r instanceof oo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof io)return{bytesValue:Ox(i.serializer,r._byteString)};if(r instanceof Ct){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof so)return(function(s,a){return{mapValue:{fields:{[kb]:{stringValue:Ob},[za]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Ub(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Nb(r)}`)})(n,e)}function mk(n,e){let t={};return cx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(n,(r,i)=>{let o=gk(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function yk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof oo||n instanceof io||n instanceof Ct||n instanceof Ng||n instanceof so)}function vk(n,e,t){if(!yk(t)||!WP(t)){let r=Nb(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function vz(n,e,t){if((e=Be(e))instanceof Hl)return e._internalPath;if(typeof e=="string")return _k(n,e);throw Mg("Field path arguments must be of type string or ",n,!1,void 0,t)}var _z=new RegExp("[~\\*/\\[\\]]");function _k(n,e,t){if(e.search(_z)>=0)throw Mg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hl(...e.split("."))._internalPath}catch{throw Mg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(x.INVALID_ARGUMENT,a+n+u)}function Ez(n,e){return n.some(t=>t.isEqual(e))}var Pg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Ek("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Sb=class extends Pg{data(){return super.data()}};function Ek(n,e){return typeof e=="string"?_k(n,e):e instanceof Hl?e._internalPath:e._delegate._internalPath}function Iz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ab=class{convertValue(e,t="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return _s(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[za].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Fe(s.doubleValue));return new so(o)}convertGeoPoint(e){return new oo(Fe(e.latitude),Fe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Og(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){let t=Jr(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=$e.fromString(e);Ae(Bx(r),9688,{name:e});let i=new og(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(t)||Zr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Ik(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ds=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hs=class n extends Pg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new $a(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Ek("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",hs._jsonSchema={type:ot("string",hs._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};var $a=class extends hs{data(e={}){return super.data(e)}},Ha=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ds(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $a(this._firestore,this._userDataWriter,r.key,r,new ds(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new $a(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new $a(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:wz(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function wz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:n})}}function wk(n){n=Yr(n,Ct);let e=Yr(n.firestore,ho);return gz(Zb(e),n._key).then(t=>Ck(e,n,t))}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:ot("string",Ha._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};var xg=class extends Ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}};function bk(n,e,t){n=Yr(n,Ct);let r=Yr(n.firestore,ho),i=Ik(n.converter,e,t);return Tk(r,[pk(fk(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,no.none())])}function Dk(n,e){let t=Yr(n.firestore,ho),r=Yb(n),i=Ik(n.converter,e);return Tk(t,[pk(fk(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,no.exists(!1))]).then(()=>r)}function Jb(n,...e){var t,r,i;n=Be(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||HP(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(HP(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ct)l=Yr(n.firestore,ho),h=Fg(n._key.path),u={next:p=>{e[s]&&e[s](Ck(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Yr(n,Ag);l=Yr(p.firestore,ho),h=p._query;let g=new xg(l);u={next:y=>{e[s]&&e[s](new Ha(l,g,p,y))},error:e[s+1],complete:e[s+2]},Iz(n._query)}return(function(g,y,T,M){let R=new Cg(M),F=new bg(y,R,T);return g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return Zx(yield bb(g),F)})),()=>{R.Ou(),g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return Jx(yield bb(g),F)}))}})(Zb(l),h,a,u)}function Tk(n,e){return(function(r,i){let o=new dr;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return iz(yield pz(r),i,o)})),o.promise})(Zb(n),e)}function Ck(n,e,t){let r=t.docs.get(e._key),i=new xg(n);return new hs(n,i,e._key,r,new ds(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){rc=i})(ar),cn(new Dt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ho(new ZI(r.getProvider("auth-internal")),new ew(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ke(eP,tP,e),ke(eP,tP,"esm2017")})();var $g=function(){return $g=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$g.apply(this,arguments)};var Tz={includeMetadataChanges:!1};function Sk(n,e){return e===void 0&&(e=Tz),new ne(function(t){var r=Jb(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Ak(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:$g($g({},r),(t={},t[e.idField]=n.id,t))}function Rk(n){return Sk(n,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function Nk(n,e){return e===void 0&&(e={}),Rk(n).pipe(le(function(t){return t.map(function(r){return Ak(r,e)})}))}var dn=class{constructor(e){return e}},Mk="firestore",Xb=class{constructor(){return Ma(Mk)}};var eD=new $("angularfire2.firestore-instances");function Cz(n,e){let t=pl(Mk,n,e);return t&&new dn(t)}function Sz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new dn(r)}}var Az={provide:Xb,deps:[[new rn,eD]]},Rz={provide:dn,useFactory:Cz,deps:[[new rn,eD],Hr]};function Pk(n,...e){return ke("angularfire",Ki.full,"fst"),Yt([Rz,Az,{provide:eD,useFactory:Sz(n),multi:!0,deps:[be,We,Qi,is,[new rn,Sl],[new rn,Pa],...e]}])}var Hg=Tt(Nk,!0);var xk=Tt(Dk,!0,2);var Wl=Tt(lk,!0,2);var Is=Tt(Yb,!0,2);var Kl=Tt(wk,!0);var kk=Tt(dk,!0);var tD=Tt(bk,!0,2);var Nz=n=>["/event-details",n];function Mz(n,e){n&1&&(P(0,"div",10),U(1,"No events found."),k())}function Pz(n,e){if(n&1&&(P(0,"a",11)(1,"div",12)(2,"div",13)(3,"div")(4,"h5",14),U(5),k(),P(6,"div",15),U(7),k()()(),P(8,"p",16),U(9),k(),U(10," Click to view more! "),k()()),n&2){let t=e.$implicit;he("routerLink",s_(6,Nz,t.id)),j(5),ut(t.title),j(2),af("",t.location," \xB7 ",t.date," ",t.time),j(2),ut(t.description)}}function xz(n,e){if(n&1&&(P(0,"div"),zt(1,Mz,2,0,"div",8)(2,Pz,11,8,"a",9),k()),n&2){let t=e.ngIf;j(),he("ngIf",t.length===0),j(),he("ngForOf",t)}}var zg=class n{constructor(e){this.firestore=e;let t=Wl(this.firestore,"events");this.events$=Hg(t,{idField:"id"}).pipe(le(r=>r.map(i=>ee(L({},i),{createdAt:i.createdAt?new Date(i.createdAt):null})).sort((i,o)=>{let s=i.createdAt?i.createdAt.getTime():0;return(o.createdAt?o.createdAt.getTime():0)-s})),Qm({bufferSize:1,refCount:!0})),this.filtered$=wo([this.events$,this.search$.pipe(zs(""))]).pipe(le(([r,i])=>{let o=(i||"").trim().toLowerCase();return o?r.filter(s=>s.title&&s.title.toLowerCase().includes(o)||s.location&&s.location.toLowerCase().includes(o)||s.description&&s.description.toLowerCase().includes(o)):r}))}search$=new at("");events$;filtered$;updateSearch(e){this.search$.next(e||"")}static \u0275fac=function(t){return new(t||n)(K(dn))};static \u0275cmp=wt({type:n,selectors:[["app-events-page"]],decls:10,vars:3,consts:[[1,"events-viewport","container","py-4"],[1,"row"],[1,"col-12"],[1,"mb-3"],["type","search","placeholder","Search events by title, location, or description",1,"form-control","search-input",3,"input"],[1,"list-header","mb-2"],[1,"events-list"],[4,"ngIf"],["class","no-results",4,"ngIf"],["class","event-item card mb-3 text-decoration-none",3,"routerLink",4,"ngFor","ngForOf"],[1,"no-results"],[1,"event-item","card","mb-3","text-decoration-none",3,"routerLink"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-start"],[1,"event-title","mb-1"],[1,"text-muted","small"],[1,"mt-2","event-desc"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),De("input",function(o){return r.updateSearch(o.target.value)}),k()(),P(5,"div",5),U(6,"Events"),k(),P(7,"div",6),zt(8,xz,3,2,"div",7),Iu(9,"async"),k()()()()),t&2&&(j(8),he("ngIf",wu(9,1,r.filtered$)))},dependencies:[wn,yf,Wo,zi,Qu,ji,b_],styles:["[_ngcontent-%COMP%]:root{--olive-leaf: #606c38ff;--black-forest: #283618ff;--cornsilk: #fefae0ff;--sunlit-clay: #dda15eff;--copperwood: #bc6c25ff}.events-viewport[_ngcontent-%COMP%]{min-height:60vh}.search-input[_ngcontent-%COMP%]{border-radius:6px;border:1px solid rgba(40,54,24,.08);box-shadow:none}.list-header[_ngcontent-%COMP%]{background:#28361814;padding:.5rem .75rem;color:var(--black-forest);font-weight:600;border-radius:4px}.events-list[_ngcontent-%COMP%]   .event-item[_ngcontent-%COMP%]{border-radius:8px;border:1px solid rgba(40,54,24,.06);box-shadow:0 6px 18px #2836180a}.event-title[_ngcontent-%COMP%]{color:var(--black-forest)}.event-desc[_ngcontent-%COMP%]{color:#283618cc}.no-results[_ngcontent-%COMP%]{padding:1.25rem;color:var(--olive-leaf)}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:var(--olive-leaf);color:var(--olive-leaf)}@media (max-width: 576px){.list-header[_ngcontent-%COMP%]{font-size:.95rem}}"]})};function kz(n,e){n&1&&(P(0,"div",7)(1,"div",8)(2,"span",9),U(3,"Loading..."),k()()())}function Oz(n,e){if(n&1&&(P(0,"div",10),U(1),k()),n&2){let t=Ee();j(),Zt(" ",t.error," ")}}function Fz(n,e){if(n&1&&Qe(0,"img",26),n&2){let t=Ee(2);he("src",t.profilePicture,$o)}}function Lz(n,e){if(n&1&&(P(0,"div",27),U(1),Iu(2,"uppercase"),k()),n&2){let t=Ee(2);j(),ut(t.displayName?wu(2,1,t.displayName.charAt(0)):"U")}}function Vz(n,e){if(n&1&&(P(0,"div",22)(1,"strong"),U(2,"Time:"),k(),U(3),k()),n&2){let t=Ee(2);j(3),Zt(" ",t.event.time," ")}}function Uz(n,e){if(n&1&&(P(0,"div",28),Qe(1,"img",29),k()),n&2){let t=Ee(2);j(),he("src",t.event.image,$o)}}function jz(n,e){if(n&1&&(P(0,"div",11)(1,"div",12)(2,"div",13)(3,"a",14),zt(4,Fz,1,1,"img",15)(5,Lz,3,3,"div",16),k()()(),P(6,"div",17)(7,"div",18)(8,"div",19)(9,"h3",20),U(10),k(),P(11,"div",21)(12,"div",22)(13,"strong"),U(14,"Date:"),k(),U(15),k(),zt(16,Vz,4,1,"div",23),P(17,"div",22)(18,"strong"),U(19,"Location:"),k(),U(20),k(),P(21,"div",22)(22,"strong"),U(23,"Creator:"),k(),U(24),k()(),P(25,"div",24)(26,"strong"),U(27,"Description:"),k(),P(28,"p"),U(29),k()(),zt(30,Uz,2,1,"div",25),k()()()()),n&2){let t=Ee();j(4),he("ngIf",t.profilePicture),j(),he("ngIf",!t.profilePicture),j(5),ut(t.event.title||"Untitled Event"),j(5),Zt(" ",t.event.date||"Date TBD"," "),j(),he("ngIf",t.event.time),j(4),Zt(" ",t.event.location||"Location TBD"," "),j(4),Zt(" ",t.event.creator||"No Creator"," "),j(5),ut(t.event.description||"No description provided."),j(),he("ngIf",t.event.image)}}var Gg=class n{constructor(e,t,r){this.firestore=e;this.auth=t;this.route=r}event=null;loading=!0;error="";profilePicture="";displayName="";ngOnInit(){this.route.params.subscribe(e=>{let t=e.id;t&&this.loadEvent(t)}),this.loadUserProfile()}loadEvent(e){return v(this,null,function*(){this.loading=!0,this.error="";try{let t=yield Kl(Is(this.firestore,"events",e));t.exists()?this.event=ee(L({},t.data()),{id:e}):this.error="Event not found."}catch(t){this.error=t?.message??"Failed to load event."}finally{this.loading=!1}})}loadUserProfile(){return v(this,null,function*(){try{let e=this.auth.currentUser;if(!e)return;let t=Is(this.firestore,"users",e.uid),r=yield Kl(t);if(r.exists()){let i=r.data();this.profilePicture=i.profilePicture||"",this.displayName=i.displayName||""}}catch(e){console.error("Failed to load profile:",e)}})}static \u0275fac=function(t){return new(t||n)(K(dn),K(un),K(Dn))};static \u0275cmp=wt({type:n,selectors:[["app-event-details"]],decls:8,vars:3,consts:[[1,"event-details-viewport","container","py-4"],[1,"row","mb-3"],[1,"col-12"],["routerLink","/",1,"btn","btn-sm","btn-outline-secondary"],["class","text-center py-4",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center","py-4"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger"],[1,"row"],[1,"col-12","col-md-3","mb-3"],[1,"profile-thumb-box","text-center"],["routerLink","/profile",1,"d-inline-block"],["class","profile-thumb img-fluid","alt","Profile",3,"src",4,"ngIf"],["class","profile-thumb-initials",4,"ngIf"],[1,"col-12","col-md-9"],[1,"event-detail-card","card"],[1,"card-body"],[1,"card-title","mb-2"],[1,"event-meta","mb-3"],[1,"meta-item"],["class","meta-item",4,"ngIf"],[1,"event-description"],["class","event-image mb-3",4,"ngIf"],["alt","Profile",1,"profile-thumb","img-fluid",3,"src"],[1,"profile-thumb-initials"],[1,"event-image","mb-3"],["alt","Event",1,"img-fluid",3,"src"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),U(4,"\u2190 Back to Events"),k()()(),zt(5,kz,4,0,"div",4)(6,Oz,2,1,"div",5)(7,jz,31,9,"div",6),k()),t&2&&(j(5),he("ngIf",r.loading),j(),he("ngIf",!r.loading&&r.error),j(),he("ngIf",!r.loading&&r.event))},dependencies:[zi,wn,Wo,Qu,ji,D_],styles:["[_ngcontent-%COMP%]:root{--olive-leaf: #606c38ff;--black-forest: #283618ff;--cornsilk: #fefae0ff;--sunlit-clay: #dda15eff;--copperwood: #bc6c25ff}.event-details-viewport[_ngcontent-%COMP%]{min-height:90vh}.profile-thumb-box[_ngcontent-%COMP%]{margin-bottom:2rem}.profile-thumb[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:12px;object-fit:cover;box-shadow:0 4px 12px #28361826;transition:transform .2s ease}.profile-thumb[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-thumb-initials[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:12px;background:linear-gradient(135deg,var(--sunlit-clay),var(--copperwood));display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:700;color:var(--cornsilk);box-shadow:0 4px 12px #28361826}.event-detail-card[_ngcontent-%COMP%]{border-radius:12px;border:2px solid rgba(40,54,24,.1);box-shadow:0 4px 12px #28361814}.event-detail-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--black-forest);font-weight:600;margin-bottom:1.5rem;font-size:1.75rem}.event-meta[_ngcontent-%COMP%]{background:#2836180a;padding:1rem;border-radius:8px;border-left:4px solid var(--sunlit-clay)}.meta-item[_ngcontent-%COMP%]{margin-bottom:.5rem;color:var(--black-forest)}.meta-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.event-description[_ngcontent-%COMP%]{margin-top:1.5rem}.event-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#283618cc;line-height:1.6;margin-top:.5rem}.event-image[_ngcontent-%COMP%]{margin-top:1.5rem}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 12px #2836181a;max-height:400px;width:100%;object-fit:cover}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:var(--black-forest);color:var(--black-forest)}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:var(--black-forest);border-color:var(--black-forest);color:var(--cornsilk)}@media (max-width: 768px){.event-detail-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;left:30px;width:440px;height:120px;z-index:5}.container-2[_ngcontent-%COMP%]{min-height:480px}.container-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}}"]})};var Wg=class n{constructor(e,t,r){this.firestore=e;this.auth=t;this.router=r;let i=Wl(this.firestore,"events");Hg(i,{idField:"id"}).subscribe(o=>{this.events=o})}eventTitle=je("");eventDate=je("");eventTime=je("");eventLocation=je("");eventDescription=je("");events=[];user;createEvent(){let e=this.auth.currentUser;if(!e){this.router.navigateByUrl("/login-page");return}let t=this.eventTitle(),r=this.eventDate(),i=this.eventTime(),o=this.eventLocation(),s=this.eventDescription(),a=e.displayName;if(t&&r&&i&&o&&s&&a){let u=Wl(this.firestore,"events");xk(u,{title:t,date:r,time:i,location:o,description:s,creator:a}),this.eventTitle.set(""),this.eventDate.set(""),this.eventTime.set(""),this.eventLocation.set(""),this.eventDescription.set(""),this.router.navigate(["/events"])}}static \u0275fac=function(t){return new(t||n)(K(dn),K(un),K(ft))};static \u0275cmp=wt({type:n,selectors:[["app-create-events-page"]],decls:25,vars:5,consts:[["eventForm","ngForm"],[1,"container","py-4"],[1,"row","justify-content-start"],[1,"col-12","col-lg-10"],[1,"card"],[1,"card-body"],[1,"card-title","mb-3"],["novalidate","",3,"ngSubmit"],[1,"mb-3",2,"max-width","70%"],["type","text","required","","placeholder","Title, example: Community Cleanup",1,"form-control",3,"input","value"],[1,"mb-3","ms-4",2,"max-width","60%"],["type","text","required","","placeholder","Location",1,"form-control",3,"input","value"],[1,"mb-3",2,"margin-left","0.5rem","margin-right","0.5rem"],["type","text","name","description","type","textarea","placeholder","Descirption",1,"form-control",2,"padding-bottom","150px",3,"input","value"],[1,"mb-3","ms-2",2,"max-width","20%"],["type","text","required","","placeholder","Time",1,"form-control",3,"input","value"],[1,"d-flex","align-items-center"],[2,"flex","1","max-width","40%"],["for","date",1,"form-label","visually-hidden"],["id","date","name","date","type","date",1,"form-control",3,"input","value"],[2,"flex","0 0 auto","margin-left","auto"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){if(t&1){let i=Xn();P(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h4",6),U(6,"Create Event"),k(),P(7,"form",7,0),De("ngSubmit",function(){return Pe(i),xe(r.createEvent())}),P(9,"div",8)(10,"input",9),De("input",function(s){return Pe(i),xe(r.eventTitle.set(s.target.value))}),k()(),P(11,"div",10)(12,"input",11),De("input",function(s){return Pe(i),xe(r.eventLocation.set(s.target.value))}),k()(),P(13,"div",12)(14,"input",13),De("input",function(s){return Pe(i),xe(r.eventDescription.set(s.target.value))}),k()(),P(15,"div",14)(16,"input",15),De("input",function(s){return Pe(i),xe(r.eventTime.set(s.target.value))}),k()(),P(17,"div",16)(18,"div",17)(19,"label",18),U(20,"Date"),k(),P(21,"input",19),De("input",function(s){return Pe(i),xe(r.eventDate.set(s.target.value))}),k()(),P(22,"div",20)(23,"button",21),De("click",function(){return Pe(i),xe(r.createEvent())}),U(24,"Create"),k()()()()()()()()()}t&2&&(j(10),he("value",r.eventTitle()),j(2),he("value",r.eventLocation()),j(2),he("value",r.eventDescription()),j(2),he("value",r.eventTime()),j(5),he("value",r.eventDate()))},dependencies:[wn,zi,qi,Hi,ol],styles:[".card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 12px 30px #2836180f;border:1px solid rgba(40,54,24,.06)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.25rem}.card-title[_ngcontent-%COMP%]{color:var(--black-forest);font-weight:600;margin-bottom:.75rem}.card[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]:first-of-type{max-width:70%}.card[_ngcontent-%COMP%]   .ms-4[_ngcontent-%COMP%]{margin-left:1.5rem!important;max-width:60%}.card[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{min-height:160px;border-radius:6px;resize:vertical}.d-flex.align-items-center[_ngcontent-%COMP%]   input.form-control[type=date][_ngcontent-%COMP%]{max-width:260px;border-radius:6px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(180deg,var(--sunlit-clay),var(--copperwood));border:none;color:var(--cornsilk);box-shadow:0 6px 18px #bc6c251f}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:var(--olive-leaf);color:var(--olive-leaf);background:transparent}label[_ngcontent-%COMP%]{color:var(--black-forest);font-weight:500}.card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:var(--olive-leaf);box-shadow:0 0 0 .18rem #606c381f}@media (max-width: 576px){.card[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]:first-of-type, .card[_ngcontent-%COMP%]   .ms-4[_ngcontent-%COMP%]{max-width:100%;margin-left:0!important}.d-flex.align-items-center[_ngcontent-%COMP%]   input.form-control[type=date][_ngcontent-%COMP%]{max-width:100%}}"]})};function Bz(n,e){if(n&1&&(P(0,"div"),U(1),k()),n&2){let t=Ee();j(),ut(t.errorMessage)}}var Kg=class n{fb=N(dp);router=N(ft);authService=N(to);errorMessage=null;form=this.fb.nonNullable.group({username:["",Ur.required],email:["",Ur.required],password:["",Ur.required]});onSubmit(){console.log("register");let e=this.form.getRawValue();this.authService.register(e.email,e.username,e.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:t=>{this.errorMessage=t.code}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wt({type:n,selectors:[["app-register"]],decls:22,vars:2,consts:[[1,"login-viewport"],[1,"w-100",2,"max-width","420px"],["aria-hidden","true",1,"brand-pill"],[1,"login-card","card"],[1,"card-body"],[1,"login-title"],[1,"login-subtext"],[3,"ngSubmit","formGroup"],[1,"mb4"],["type","text","placeholder","Username","formControlName","username",1,"form-control"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["type","text","placeholder","Password","formControlName","password",1,"form-control"],["type","submit",1,"form-control"],["href","#",1,"forgot-link"]],template:function(t,r){t&1&&(P(0,"div",0)(1,"div",1),Qe(2,"span",2),P(3,"div",3)(4,"div",4)(5,"h3",5),U(6,"Welcome back"),k(),P(7,"div",6),U(8,"Sign in to your volunteer account"),k(),Ai(9,Bz,2,1,"div"),P(10,"form",7),De("ngSubmit",function(){return r.onSubmit()}),P(11,"div",8),Qe(12,"input",9),k(),P(13,"div",8),Qe(14,"input",10),k(),P(15,"div",8),Qe(16,"input",11),k(),P(17,"div",8)(18,"button",12),U(19,"Sign Up"),k()()(),P(20,"a",13),U(21,"Forgot password?"),k()()()()()),t&2&&(j(9),Ri(r.errorMessage?9:-1),j(),he("formGroup",r.form))},dependencies:[hp,qi,$i,Ta,Hi,sl,al],styles:["[_ngcontent-%COMP%]:root{--olive-leaf: #606c38ff;--black-forest: #283618ff;--cornsilk: #fefae0ff;--sunlit-clay: #dda15eff;--copperwood: #bc6c25ff}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background:var(--cornsilk);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial;color:var(--black-forest)}.login-viewport[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}.brand-pill[_ngcontent-%COMP%]{width:220px;height:34px;background:var(--olive-leaf);border-radius:4px;display:block;margin:0 auto 16px;box-shadow:0 2px #0000000f inset}.login-card[_ngcontent-%COMP%]{width:340px;background:#fff;border-radius:6px;box-shadow:0 8px 24px #28361814;border:1px solid rgba(40,54,24,.06);overflow:hidden}.login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.login-title[_ngcontent-%COMP%]{text-align:center;font-weight:600;color:var(--black-forest);margin-bottom:.75rem}.login-subtext[_ngcontent-%COMP%]{text-align:center;color:var(--olive-leaf);font-size:.9rem;margin-bottom:1rem}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--olive-leaf);box-shadow:0 0 0 .15rem #606c381f}.btn-primary-custom[_ngcontent-%COMP%]{background:linear-gradient(180deg,var(--sunlit-clay),var(--copperwood));border:none;color:var(--cornsilk)}.btn-outline-custom[_ngcontent-%COMP%]{border-color:var(--olive-leaf);color:var(--olive-leaf);background:transparent}.action-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-top:1rem}.forgot-link[_ngcontent-%COMP%]{display:block;text-align:center;margin-top:.5rem;color:var(--olive-leaf)}@media (max-width: 400px){.login-card[_ngcontent-%COMP%]{width:92%}.brand-pill[_ngcontent-%COMP%]{width:160px}}"]})};var $k="firebasestorage.googleapis.com",Hk="storageBucket",$z=120*1e3,Hz=600*1e3,qz=1e3;var He=class n extends Wt{constructor(e,t,r=0){super(nD(e),`Firebase Storage: ${t} (${nD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Le=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(Le||{});function nD(n){return"storage/"+n}function dD(){let n="An unknown error occurred, please check the error payload for server response.";return new He(Le.UNKNOWN,n)}function zz(n){return new He(Le.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Gz(n){return new He(Le.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Wz(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new He(Le.UNAUTHENTICATED,n)}function Kz(){return new He(Le.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Qz(n){return new He(Le.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function qk(){return new He(Le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zk(){return new He(Le.CANCELED,"User canceled the upload/download.")}function Yz(n){return new He(Le.INVALID_URL,"Invalid URL '"+n+"'.")}function Zz(n){return new He(Le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Jz(){return new He(Le.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hk+"' property when initializing the app?")}function Gk(){return new He(Le.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xz(){return new He(Le.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function eG(){return new He(Le.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tG(n){return new He(Le.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iD(n){return new He(Le.INVALID_ARGUMENT,n)}function Wk(){return new He(Le.APP_DELETED,"The Firebase app was deleted.")}function nG(n){return new He(Le.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yl(n,e){return new He(Le.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ql(n){throw new He(Le.INTERNAL_ERROR,"Internal error: "+n)}var qn=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw Zz(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(te){te.path_=decodeURIComponent(te.path)}let h="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),T={bucket:1,path:3},M=t===$k?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",F=new RegExp(`^https?://${M}/${i}/${R}`,"i"),z=[{regex:a,indices:u,postModify:o},{regex:y,indices:T,postModify:l},{regex:F,indices:{bucket:1,path:2},postModify:l}];for(let te=0;te<z.length;te++){let qe=z[te],ge=qe.regex.exec(e);if(ge){let b=ge[qe.indices.bucket],_=ge[qe.indices.path];_||(_=""),r=new n(b,_),qe.postModify(r);break}}if(r==null)throw Yz(e);return r}},oD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function rG(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function h(...R){l||(l=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,n(y,u())},R)}function g(){o&&clearTimeout(o)}function y(R,...F){if(l){g();return}if(R){g(),h.call(null,R,...F);return}if(u()||s){g(),h.call(null,R,...F);return}r<64&&(r*=2);let z;a===1?(a=2,z=0):z=(r+Math.random())*1e3,p(z)}let T=!1;function M(R){T||(T=!0,g(),!l&&(i!==null?(R||(a=2),clearTimeout(i),p(0)):R||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,M(!0)},t),M}function iG(n){n(!1)}function oG(n){return n!==void 0}function sG(n){return typeof n=="function"}function aG(n){return typeof n=="object"&&!Array.isArray(n)}function Jg(n){return typeof n=="string"||n instanceof String}function Ok(n){return hD()&&n instanceof Blob}function hD(){return typeof Blob<"u"}function Fk(n,e,t,r){if(r<e)throw iD(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw iD(`Invalid value for '${n}'. Expected ${t} or less.`)}function Xl(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Kk(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var lc=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(lc||{});function Qk(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var sD=class{constructor(e,t,r,i,o,s,a,u,l,h,p,g=!0,y=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,M)=>{this.resolve_=T,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new uc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===lc.NO_ERROR,u=o.getStatus();if(!a||Qk(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===lc.ABORT;r(!1,new uc(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new uc(l,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());oG(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=dD();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?Wk():zk();s(u)}else{let u=qk();s(u)}};this.canceled_?t(!1,new uc(!1,null,!0)):this.backoffId_=rG(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},uc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function cG(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function uG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lG(n,e){e&&(n["X-Firebase-GMPID"]=e)}function dG(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function hG(n,e,t,r,i,o,s=!0,a=!1){let u=Kk(n.urlParams),l=n.url+u,h=Object.assign({},n.headers);return lG(h,e),cG(h,t),uG(h,o),dG(h,r),new sD(l,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function fG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pG(...n){let e=fG();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(hD())return new Blob(n);throw new He(Le.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function mG(n){if(typeof atob>"u")throw tG("base-64");return atob(n)}var yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Zl=class{constructor(e,t){this.data=e,this.contentType=t||null}};function yG(n,e){switch(n){case yr.RAW:return new Zl(Yk(e));case yr.BASE64:case yr.BASE64URL:return new Zl(Zk(n,e));case yr.DATA_URL:return new Zl(_G(e),EG(e))}throw dD()}function Yk(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=n.charCodeAt(++t);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vG(n){let e;try{e=decodeURIComponent(n)}catch{throw Yl(yr.DATA_URL,"Malformed data URL.")}return Yk(e)}function Zk(n,e){switch(n){case yr.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Yl(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Yl(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=mG(e)}catch(i){throw i.message.includes("polyfill")?i:Yl(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var Yg=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Yl(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=IG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function _G(n){let e=new Yg(n);return e.base64?Zk(yr.BASE64,e.rest):vG(e.rest)}function EG(n){return new Yg(n).contentType}function IG(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Zg=class n{constructor(e,t){let r=0,i="";Ok(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ok(this.data_)){let r=this.data_,i=gG(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(hD()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(pG.apply(null,t))}else{let t=e.map(s=>Jg(s)?yG(yr.RAW,s).data:s.data_),r=0;t.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new n(i,!0)}}uploadData(){return this.data_}};function Jk(n){let e;try{e=JSON.parse(n)}catch{return null}return aG(e)?e:null}function wG(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function bG(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Xk(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function DG(n,e){return e}var St=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||DG}},Qg=null;function TG(n){return!Jg(n)||n.length<2?n:Xk(n)}function eO(){if(Qg)return Qg;let n=[];n.push(new St("bucket")),n.push(new St("generation")),n.push(new St("metageneration")),n.push(new St("name","fullPath",!0));function e(o,s){return TG(s)}let t=new St("name");t.xform=e,n.push(t);function r(o,s){return s!==void 0?Number(s):s}let i=new St("size");return i.xform=r,n.push(i),n.push(new St("timeCreated")),n.push(new St("updated")),n.push(new St("md5Hash",null,!0)),n.push(new St("cacheControl",null,!0)),n.push(new St("contentDisposition",null,!0)),n.push(new St("contentEncoding",null,!0)),n.push(new St("contentLanguage",null,!0)),n.push(new St("contentType",null,!0)),n.push(new St("metadata","customMetadata",!0)),Qg=n,Qg}function CG(n,e){function t(){let r=n.bucket,i=n.fullPath,o=new qn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function SG(n,e,t){let r={};r.type="file";let i=t.length;for(let o=0;o<i;o++){let s=t[o];r[s.local]=s.xform(r,e[s.server])}return CG(r,n),r}function tO(n,e,t){let r=Jk(e);return r===null?null:SG(n,r,t)}function AG(n,e,t,r){let i=Jk(e);if(i===null||!Jg(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let h=n.bucket,p=n.fullPath,g="/b/"+s(h)+"/o/"+s(p),y=Xl(g,t,r),T=Kk({alt:"media",token:l});return y+T})[0]}function nO(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var fo=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ri(n){if(!n)throw dD()}function fD(n,e){function t(r,i){let o=tO(n,i,e);return ri(o!==null),o}return t}function RG(n,e){function t(r,i){let o=tO(n,i,e);return ri(o!==null),AG(o,i,n.host,n._protocol)}return t}function ed(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Kz():i=Wz():t.getStatus()===402?i=Gz(n.bucket):t.getStatus()===403?i=Qz(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function rO(n){let e=ed(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=zz(n.path)),o.serverResponse=i.serverResponse,o}return t}function NG(n,e,t){let r=e.fullServerUrl(),i=Xl(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new fo(i,o,fD(n,t),s);return a.errorHandler=rO(e),a}function MG(n,e,t){let r=e.fullServerUrl(),i=Xl(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new fo(i,o,RG(n,t),s);return a.errorHandler=rO(e),a}function PG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function iO(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=PG(null,e)),r}function xG(n,e,t,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let z="";for(let te=0;te<2;te++)z=z+Math.random().toString().slice(2);return z}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let l=iO(e,r,i),h=nO(l,t),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,g=`\r
--`+u+"--",y=Zg.getBlob(p,r,g);if(y===null)throw Gk();let T={name:l.fullPath},M=Xl(o,n.host,n._protocol),R="POST",F=n.maxUploadRetryTime,W=new fo(M,R,fD(n,t),F);return W.urlParams=T,W.headers=s,W.body=y.uploadData(),W.errorHandler=ed(e),W}var dc=class{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}};function pD(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ri(!1)}return ri(!!t&&(e||["active"]).indexOf(t)!==-1),t}function kG(n,e,t,r,i){let o=e.bucketOnlyServerUrl(),s=iO(e,r,i),a={name:s.fullPath},u=Xl(o,n.host,n._protocol),l="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},p=nO(s,t),g=n.maxUploadRetryTime;function y(M){pD(M);let R;try{R=M.getResponseHeader("X-Goog-Upload-URL")}catch{ri(!1)}return ri(Jg(R)),R}let T=new fo(u,l,y,g);return T.urlParams=a,T.headers=h,T.body=p,T.errorHandler=ed(e),T}function OG(n,e,t,r){let i={"X-Goog-Upload-Command":"query"};function o(l){let h=pD(l,["active","final"]),p=null;try{p=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ri(!1)}p||ri(!1);let g=Number(p);return ri(!isNaN(g)),new dc(g,r.size(),h==="final")}let s="POST",a=n.maxUploadRetryTime,u=new fo(t,s,o,a);return u.headers=i,u.errorHandler=ed(e),u}var Lk=256*1024;function FG(n,e,t,r,i,o,s,a){let u=new dc(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw Xz();let l=u.total-u.current,h=l;i>0&&(h=Math.min(h,i));let p=u.current,g=p+h,y="";h===0?y="finalize":l===h?y="upload, finalize":y="upload";let T={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${u.current}`},M=r.slice(p,g);if(M===null)throw Gk();function R(te,qe){let ge=pD(te,["active","final"]),b=u.current+h,_=r.size(),E;return ge==="final"?E=fD(e,o)(te,qe):E=null,new dc(b,_,ge==="final",E)}let F="POST",W=e.maxUploadRetryTime,z=new fo(t,F,R,W);return z.headers=T,z.body=M.uploadData(),z.progressCallback=a||null,z.errorHandler=ed(n),z}var Jt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rD(n){switch(n){case"running":case"pausing":case"canceling":return Jt.RUNNING;case"paused":return Jt.PAUSED;case"success":return Jt.SUCCESS;case"canceled":return Jt.CANCELED;case"error":return Jt.ERROR;default:return Jt.ERROR}}var aD=class{constructor(e,t,r){if(sG(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function ac(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}var Vk=null,cD=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,o){if(this.sent_)throw Ql("cannot .send() more than once");if(jn(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(let s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},uD=class extends cD{initXhr(){this.xhr_.responseType="text"}};function cc(){return Vk?Vk():new uD}var lD=class{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=eO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Le.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(Qk(i.status,[]))if(o)i=qk();else{this.sleepTime=Math.max(this.sleepTime*2,qz),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Le.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let r=kG(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,cc,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,r)=>{let i=OG(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,cc,t,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=Lk*this._chunkMultiplier,t=new dc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=FG(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}let a=this._ref.storage._makeRequest(s,cc,i,o,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Lk*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let r=NG(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,cc,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let r=xG(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,cc,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=zk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=rD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){let o=new aD(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(rD(this._state)){case Jt.SUCCESS:ac(this._resolve.bind(null,this.snapshot))();break;case Jt.CANCELED:case Jt.ERROR:let t=this._reject;ac(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(rD(this._state)){case Jt.RUNNING:case Jt.PAUSED:e.next&&ac(e.next.bind(e,this.snapshot))();break;case Jt.SUCCESS:e.complete&&ac(e.complete.bind(e))();break;case Jt.CANCELED:case Jt.ERROR:e.error&&ac(e.error.bind(e,this._error))();break;default:e.error&&ac(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var hc=class n{constructor(e,t){this._service=e,t instanceof qn?this._location=t:this._location=qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xk(this._location.path)}get storage(){return this._service}get parent(){let e=wG(this._location.path);if(e===null)return null;let t=new qn(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw nG(e)}};function LG(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new lD(n,new Zg(e),t)}function VG(n){n._throwIfRoot("getDownloadURL");let e=MG(n.storage,n._location,eO());return n.storage.makeRequestWithTokens(e,cc).then(t=>{if(t===null)throw eG();return t})}function UG(n,e){let t=bG(n._location.path,e),r=new qn(n._location.bucket,t);return new hc(n.storage,r)}function jG(n){return/^[A-Za-z]+:\/\//.test(n)}function BG(n,e){return new hc(n,e)}function oO(n,e){if(n instanceof Jl){let t=n;if(t._bucket==null)throw Jz();let r=new hc(t,t._bucket);return e!=null?oO(r,e):r}else return e!==void 0?UG(n,e):n}function $G(n,e){if(e&&jG(e)){if(n instanceof Jl)return BG(n,e);throw iD("To use ref(service, url), the first argument must be a Storage instance.")}else return oO(n,e)}function Uk(n,e){let t=e?.[Hk];return t==null?null:qn.makeFromBucketSpec(t,n)}function HG(n,e,t,r={}){n.host=`${e}:${t}`;let i=jn(e);i&&(Ca(`https://${n.host}/b`),Sa("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:vp(o,n.app.options.projectId))}var Jl=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=$k,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$z,this._maxUploadRetryTime=Hz,this._requests=new Set,i!=null?this._bucket=qn.makeFromBucketSpec(i,this._host):this._bucket=Uk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=Uk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hc(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new oD(Wk());{let s=hG(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return v(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},jk="@firebase/storage",Bk="0.13.14";var sO="storage";function aO(n,e,t){return n=Be(n),LG(n,e,t)}function cO(n){return n=Be(n),VG(n)}function uO(n,e){return n=Be(n),$G(n,e)}function lO(n=$r(),e){n=Be(n);let r=Wi(n,sO).getImmediate({identifier:e}),i=yp("storage");return i&&qG(r,...i),r}function qG(n,e,t,r={}){HG(n,e,t,r)}function zG(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Jl(t,r,i,e,ar)}function GG(){cn(new Dt(sO,zG,"PUBLIC").setMultipleInstances(!0)),ke(jk,Bk,""),ke(jk,Bk,"esm2017")}GG();function WG(n,e){if(n&1&&(P(0,"div",15),U(1),k()),n&2){let t=Ee();j(),Zt(" ",t.getInitials()," ")}}function KG(n,e){if(n&1&&Qe(0,"img",16),n&2){let t=Ee();he("src",t.profilePicture,$o)}}function QG(n,e){if(n&1){let t=Xn();P(0,"div",17),U(1),P(2,"button",18),De("click",function(){Pe(t);let i=Ee();return xe(i.error="")}),k()()}if(n&2){let t=Ee();j(),Zt(" ",t.error," ")}}function YG(n,e){if(n&1){let t=Xn();P(0,"div",19),U(1),P(2,"button",18),De("click",function(){Pe(t);let i=Ee();return xe(i.success="")}),k()()}if(n&2){let t=Ee();j(),Zt(" ",t.success," ")}}function ZG(n,e){n&1&&(P(0,"div",20)(1,"div",21)(2,"span",22),U(3,"Loading..."),k()()())}function JG(n,e){if(n&1){let t=Xn();P(0,"div")(1,"h4",23),U(2),k(),P(3,"div",24)(4,"span",25),U(5,"Email:"),k(),P(6,"span",26),U(7),k()(),P(8,"div",24)(9,"span",25),U(10,"Phone:"),k(),P(11,"span",26),U(12),k()(),P(13,"div",24)(14,"span",25),U(15,"Location:"),k(),P(16,"span",26),U(17),k()(),P(18,"div",24)(19,"span",25),U(20,"Bio:"),k(),P(21,"p",27),U(22),k()(),P(23,"div",28)(24,"button",29),De("click",function(){Pe(t);let i=Ee();return xe(i.toggleEdit())}),U(25,"Edit Profile"),k(),P(26,"button",30),De("click",function(){Pe(t);let i=Ee();return xe(i.logout())}),U(27,"Logout"),k()()()}if(n&2){let t=Ee();j(2),ut(t.displayName||"No Name"),j(5),ut(t.email),j(5),ut(t.phone||"Not provided"),j(5),ut(t.location||"Not provided"),j(5),ut(t.bio||"No bio provided")}}function XG(n,e){if(n&1&&(P(0,"div",32)(1,"label",46),U(2,"Upload progress"),k(),P(3,"div",50)(4,"div",51),U(5),k()()()),n&2){let t=Ee(2);j(4),sf("width",t.uploadProgress,"%"),of("aria-valuenow",o_(t.uploadProgress)),j(),Zt("",t.uploadProgress,"%")}}function e8(n,e){n&1&&Qe(0,"span",52)}function t8(n,e){if(n&1){let t=Xn();P(0,"form",31,0),De("ngSubmit",function(){Pe(t);let i=Ee();return xe(i.saveProfile())}),P(2,"div",32)(3,"label",33),U(4,"Display Name"),k(),P(5,"input",34),Lr("ngModelChange",function(i){Pe(t);let o=Ee();return Ni(o.displayName,i)||(o.displayName=i),xe(i)}),k()(),P(6,"div",32)(7,"label",35),U(8,"Email"),k(),P(9,"input",36),Lr("ngModelChange",function(i){Pe(t);let o=Ee();return Ni(o.email,i)||(o.email=i),xe(i)}),k(),P(10,"small",37),U(11,"Email cannot be changed."),k()(),P(12,"div",32)(13,"label",38),U(14,"Phone"),k(),P(15,"input",39),Lr("ngModelChange",function(i){Pe(t);let o=Ee();return Ni(o.phone,i)||(o.phone=i),xe(i)}),k()(),P(16,"div",32)(17,"label",40),U(18,"Location"),k(),P(19,"input",41),Lr("ngModelChange",function(i){Pe(t);let o=Ee();return Ni(o.location,i)||(o.location=i),xe(i)}),k()(),P(20,"div",32)(21,"label",42),U(22,"Bio"),k(),P(23,"textarea",43),Lr("ngModelChange",function(i){Pe(t);let o=Ee();return Ni(o.bio,i)||(o.bio=i),xe(i)}),k()(),P(24,"div",32)(25,"label",44),U(26,"Profile Picture URL"),k(),P(27,"input",45),Lr("ngModelChange",function(i){Pe(t);let o=Ee();return Ni(o.profilePicture,i)||(o.profilePicture=i),xe(i)}),k()(),P(28,"div",32)(29,"label",46),U(30,"Or upload a picture"),k()(),zt(31,XG,6,5,"div",47),P(32,"div",28)(33,"button",48),zt(34,e8,1,0,"span",49),U(35," Save Changes "),k(),P(36,"button",30),De("click",function(){Pe(t);let i=Ee();return xe(i.toggleEdit())}),U(37,"Cancel"),k()()()}if(n&2){let t=i_(1),r=Ee();j(5),Fr("ngModel",r.displayName),j(4),Fr("ngModel",r.email),j(6),Fr("ngModel",r.phone),j(4),Fr("ngModel",r.location),j(4),Fr("ngModel",r.bio),j(4),Fr("ngModel",r.profilePicture),j(4),he("ngIf",r.uploadProgress>0),j(2),he("disabled",t.invalid||r.loading),j(),he("ngIf",r.loading)}}var Xg=class n{constructor(e,t,r){this.auth=e;this.firestore=t;this.router=r}displayName="";email="";phone="";bio="";location="";profilePicture="";loading=!1;error="";success="";isEditing=!1;ngOnInit(){this.loadProfile()}loadProfile(){return v(this,null,function*(){this.loading=!0;try{let e=this.auth.currentUser;if(!e){this.error="No user logged in.";return}let t=yield Kl(Is(this.firestore,"users",e.uid));if(t.exists()){let r=t.data();this.displayName=r.displayName||"",this.email=r.email||e.email||"",this.phone=r.phone||"",this.bio=r.bio||"",this.location=r.location||"",this.profilePicture=r.profilePicture||""}else this.email=e.email||""}catch(e){this.error=e?.message??"Failed to load profile."}finally{this.loading=!1}})}toggleEdit(){this.isEditing=!this.isEditing,this.error="",this.success=""}saveProfile(){return v(this,null,function*(){if(this.error="",this.success="",!this.displayName){this.error="Display name is required.";return}this.loading=!0;try{let e=this.auth.currentUser;if(!e){this.error="No user logged in.";return}yield tD(Is(this.firestore,"users",e.uid),{displayName:this.displayName,email:this.email,phone:this.phone,bio:this.bio,location:this.location,profilePicture:this.profilePicture,updatedAt:new Date().toISOString()}),this.success="Profile saved successfully.",this.isEditing=!1}catch(e){this.error=e?.message??"Failed to save profile."}finally{this.loading=!1}})}uploadProgress=0;uploadProfilePicture(e){return v(this,null,function*(){if(!e)return;this.error="";let t=5*1024*1024;if(!e.type||!e.type.startsWith("image/")){this.error="Only image files are allowed.";return}if(e.size>t){this.error="File is too large. Maximum size is 5 MB.";return}this.loading=!0,this.uploadProgress=0;try{let r=this.auth.currentUser;if(!r)throw new Error("Not logged in");let i=lO(),o=uO(i,`users/${r.uid}/profile.jpg`),s=aO(o,e);s.on("state_changed",a=>{let u=a.bytesTransferred/(a.totalBytes||1)*100;this.uploadProgress=Math.round(u)},a=>{this.loading=!1,this.error=a?.message??"Upload failed."},()=>v(this,null,function*(){try{let a=yield cO(s.snapshot.ref);this.profilePicture=a,yield tD(Is(this.firestore,"users",r.uid),{profilePicture:a},{merge:!0}),this.success="Profile picture uploaded."}catch(a){this.error=a?.message??"Upload finalize failed."}finally{this.loading=!1,this.uploadProgress=100}}))}catch(r){this.loading=!1,this.error=r?.message??"Upload failed."}})}logout(){return v(this,null,function*(){try{yield Cl(this.auth),yield this.router.navigate(["/"])}catch(e){this.error=e?.message??"Logout failed."}})}getInitials(){let e=(this.displayName||"").trim().split(" ");return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():(this.displayName||"").charAt(0).toUpperCase()}static \u0275fac=function(t){return new(t||n)(K(un),K(dn),K(ft))};static \u0275cmp=wt({type:n,selectors:[["app-profile-details"]],decls:14,vars:7,consts:[["profileForm","ngForm"],[1,"profile-viewport","container-fluid","py-4"],[1,"row"],[1,"col-12","col-md-3","mb-4","mb-md-0"],[1,"profile-picture-box"],["class","profile-circle-large",4,"ngIf"],["alt","Profile Picture","class","profile-image",3,"src",4,"ngIf"],[1,"col-12","col-md-9"],[1,"card","profile-card"],[1,"card-body"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","text-center py-4",4,"ngIf"],[4,"ngIf"],["novalidate","",3,"ngSubmit",4,"ngIf"],[1,"profile-circle-large"],["alt","Profile Picture",1,"profile-image",3,"src"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"text-center","py-4"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"profile-name"],[1,"profile-info-item"],[1,"profile-label"],[1,"profile-value"],[1,"profile-value","profile-bio"],[1,"button-group","mt-4"],["type","button",1,"btn","btn-edit",3,"click"],["type","button",1,"btn","btn-cancel",3,"click"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],["for","displayName",1,"form-label"],["type","text","id","displayName","name","displayName","required","","placeholder","Your full name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","disabled","","placeholder","your@email.com",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],["for","phone",1,"form-label"],["type","tel","id","phone","name","phone","placeholder","(555) 123-4567",1,"form-control",3,"ngModelChange","ngModel"],["for","location",1,"form-label"],["type","text","id","location","name","location","placeholder","City, State",1,"form-control",3,"ngModelChange","ngModel"],["for","bio",1,"form-label"],["id","bio","name","bio","rows","4","placeholder","Tell us about yourself...",1,"form-control",3,"ngModelChange","ngModel"],["for","profilePicture",1,"form-label"],["type","url","id","profilePicture","name","profilePicture","placeholder","https://example.com/image.jpg",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label"],["class","mb-3",4,"ngIf"],["type","submit",1,"btn","btn-save",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",3,"aria-valuenow"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(t,r){t&1&&(P(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),zt(4,WG,2,1,"div",5)(5,KG,1,1,"img",6),k()(),P(6,"div",7)(7,"div",8)(8,"div",9),zt(9,QG,3,1,"div",10)(10,YG,3,1,"div",11)(11,ZG,4,0,"div",12)(12,JG,28,5,"div",13)(13,t8,38,9,"form",14),k()()()()()),t&2&&(j(4),he("ngIf",!r.profilePicture),j(),he("ngIf",r.profilePicture),j(4),he("ngIf",r.error),j(),he("ngIf",r.success),j(),he("ngIf",r.loading),j(),he("ngIf",!r.loading&&!r.isEditing),j(),he("ngIf",!r.loading&&r.isEditing))},dependencies:[wn,Wo,zi,qi,$i,Ta,Hi,bE,wE,ol],styles:["[_ngcontent-%COMP%]:root{--olive-leaf: #606c38ff;--black-forest: #283618ff;--cornsilk: #fefae0ff;--sunlit-clay: #dda15eff;--copperwood: #bc6c25ff}.profile-viewport[_ngcontent-%COMP%]{min-height:80vh;background-color:var(--cornsilk)}.profile-picture-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:280px}.profile-circle-large[_ngcontent-%COMP%]{width:240px;height:240px;border-radius:50%;background:linear-gradient(135deg,var(--sunlit-clay),var(--copperwood));display:flex;align-items:center;justify-content:center;font-size:4rem;font-weight:600;color:var(--cornsilk);box-shadow:0 8px 24px #606c3826}.profile-image[_ngcontent-%COMP%]{width:240px;height:240px;border-radius:50%;object-fit:cover;box-shadow:0 8px 24px #606c3826}.profile-card[_ngcontent-%COMP%]{border-radius:12px;border:1px solid rgba(96,108,56,.08);box-shadow:0 12px 32px #2836180f;background:#fff}.profile-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.profile-name[_ngcontent-%COMP%]{color:var(--black-forest);font-weight:700;margin-bottom:1.5rem;font-size:1.75rem}.profile-info-item[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem;align-items:flex-start}.profile-label[_ngcontent-%COMP%]{color:var(--olive-leaf);font-weight:600;min-width:120px}.profile-value[_ngcontent-%COMP%]{color:var(--black-forest);flex:1}.profile-bio[_ngcontent-%COMP%]{line-height:1.6;margin:0}.form-control[_ngcontent-%COMP%]{border:1px solid rgba(96,108,56,.12);border-radius:6px;color:var(--black-forest)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--olive-leaf);box-shadow:0 0 0 .18rem #606c381a}.form-label[_ngcontent-%COMP%]{color:var(--black-forest);font-weight:600;margin-bottom:.5rem}.button-group[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{border-radius:6px;font-weight:600;padding:.625rem 1.25rem;border:2px solid;transition:all .3s ease}.btn-edit[_ngcontent-%COMP%]{border-color:var(--olive-leaf);color:var(--olive-leaf);background:transparent}.btn-edit[_ngcontent-%COMP%]:hover{background:var(--olive-leaf);color:var(--cornsilk)}.btn-save[_ngcontent-%COMP%]{border-color:var(--sunlit-clay);color:var(--cornsilk);background:linear-gradient(180deg,var(--sunlit-clay),var(--copperwood));border-color:transparent}.btn-save[_ngcontent-%COMP%]:hover{opacity:.9}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-cancel[_ngcontent-%COMP%]{border-color:#606c384d;color:var(--black-forest);background:transparent}.btn-cancel[_ngcontent-%COMP%]:hover{background:#606c381a;color:var(--black-forest)}.navbar-profile-link[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;margin-right:1rem}.profile-circle[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:#fff3;display:flex;align-items:center;justify-content:center;font-size:1.5rem;border:2px solid rgba(255,255,255,.4);transition:all .3s ease}.navbar-profile-link[_ngcontent-%COMP%]:hover   .profile-circle[_ngcontent-%COMP%]{background:#ffffff4d;border-color:#fff9}@media (max-width: 768px){.profile-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.profile-name[_ngcontent-%COMP%]{font-size:1.5rem}.profile-circle-large[_ngcontent-%COMP%]{width:180px;height:180px;font-size:3rem}.profile-image[_ngcontent-%COMP%]{width:180px;height:180px}.button-group[_ngcontent-%COMP%]{flex-direction:column}.btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{width:100%;text-align:center}}"]})};var dO=[{path:"login-page",component:qp},{path:"",component:zg},{path:"event-details/:id",component:Gg},{path:"create-event",component:Wg},{path:"register",component:Kg},{path:"profile",component:Xg}];var hO={providers:[Wy(),u_({eventCoalescing:!0}),uE(dO),LN(()=>VN({projectId:"volunteer-events-management",appId:"1:655730869330:web:eb2e4c15b0dcf1a8c64b8b",storageBucket:"volunteer-events-management.firebasestorage.app",apiKey:"AIzaSyDAgEoKYxzPAlf3iXS1ZtCfL1M80BSrjAs",authDomain:"volunteer-events-management.firebaseapp.com",messagingSenderId:"655730869330"})),Pk(()=>kk()),GM(()=>Hp())]};function n8(n,e){n&1&&(P(0,"div",5)(1,"a",11),U(2,"Login"),k()(),P(3,"div")(4,"a",12),U(5,"Register"),k()())}function r8(n,e){if(n&1){let t=Xn();P(0,"div")(1,"span",13),De("click",function(){Pe(t);let i=Ee();return xe(i.logout())}),U(2,"Logout"),k()()}}var em=class n{title=je("volunteer-management-system");authService=N(to);ngOnInit(){this.authService.user$.subscribe(e=>{e?this.authService.currentUserSig.set({email:e.email,username:e.displayName}):this.authService.currentUserSig.set(null),console.log(this.authService.currentUserSig())})}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wt({type:n,selectors:[["app-root"]],decls:18,vars:2,consts:[[1,"navbar","navbar-expand-sm",2,"background-color","#7EA22B"],[1,"container-fluid"],["type","button","data-toggle","collapse","data-target","#navbarID","aria-controls","navbarID","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarID",1,"collapse","navbar-collapse",2,"margin-left","5%"],[1,"navbar-nav"],["routerLink","/",1,"nav-link"],["routerLink","/create-event",1,"nav-link"],[1,"navbar-profile-link","ms-auto","me-2"],["routerLink","/profile","title","View Profile",2,"margin-left","20px"],[1,"profile-circle"],["routerLink","/login-page",1,"nav-link"],["routerLink","/register",1,"nav-link"],[2,"color","white",3,"click"]],template:function(t,r){t&1&&(P(0,"nav",0)(1,"div",1)(2,"button",2),Qe(3,"span",3),k(),P(4,"div",4)(5,"div",5)(6,"a",6),U(7," Events "),k()(),P(8,"div",5)(9,"a",7),U(10,"Create Events"),k()(),P(11,"div",8),Ai(12,n8,6,0),Ai(13,r8,3,0,"div"),P(14,"a",9)(15,"div",10),U(16,"\u{1F464}"),k()()()()()(),Qe(17,"router-outlet")),t&2&&(j(12),Ri(r.authService.currentUserSig()==null?12:-1),j(),Ri(r.authService.currentUserSig()?13:-1))},dependencies:[qu,ji,wn],styles:["a.nav-link[_ngcontent-%COMP%]{color:#fff;border-radius:8px}a.nav-link[_ngcontent-%COMP%]:hover{color:#000;background-color:#fff}.navbar-profile-link[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;margin-right:1rem;display:flex;align-items:center}.profile-circle[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:#fff3;display:flex;align-items:center;justify-content:center;font-size:1.5rem;border:2px solid rgba(255,255,255,.4);transition:all .3s ease}.navbar-profile-link[_ngcontent-%COMP%]:hover   .profile-circle[_ngcontent-%COMP%]{background:#ffffff4d;border-color:#fff9}"]})};O_(em,hO).catch(n=>console.error(n));
